<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Symfony против чистого РНР &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css">
    <link rel="stylesheet" href="..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\index.html">
    <link rel="up" title="Create your First Page in Symfony" href="..\page_creation.html">
    <link rel="next" title="Symfony and HTTP Fundamentals" href="http_fundamentals.html">
    <link rel="prev" title="Symfony versus Flat PHP" href="from_flat_php_to_symfony2.html">

<link rel="stylesheet" href="..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="introduction doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\index.html">
                    <img src="..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\components\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Symfony против чистого РНР</a><ul>
<li><a class="reference internal" href="#php">Простой блог на чистом PHP</a><ul>
<li><a class="reference internal" href="#id1">Изоляция представления</a></li>
<li><a class="reference internal" href="#id2">Изоляция логики приложения (бизнес-логики)</a></li>
<li><a class="reference internal" href="#html">Изоляция HTML-макета</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Добавление страницы блога «один пост»</a></li>
<li><a class="reference internal" href="#from-flat-php-front-controller-ru">&quot;Фронт-контроллер&quot; спешит на помощь</a><ul>
<li><a class="reference internal" href="#id5">Создание фронт-контроллера</a></li>
<li><a class="reference internal" href="#add-a-touch-of-symfony2-ru">Добавьте немного Symfony</a></li>
<li><a class="reference internal" href="#the-sample-application-in-symfony2-ru">Пробное приложение в Symfony</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">Преимущества Symfony</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\index.html">Документация</a></li>
                
                <li><a href="..\getting_started\index.html">Getting Started</a></li>
                
                <li><a href="..\setup.html">Installing &amp; Setting up the Symfony Framework</a></li>
                
                <li><a href="..\page_creation.html">Create your First Page in Symfony</a></li>
                
                <li class="active">Symfony против чистого РНР</li>
            </ol>

            <div class="page">
                
  <div class="section" id="symfony">
<span id="symfony2-versus-flat-php-ru"></span><span id="index-0"></span><h1>Symfony против чистого РНР<a class="headerlink" href="#symfony" title="Permalink to this headline">¶</a></h1>
<p><strong>Почему использовать Symfony лучше, чем открыть файл, и писать на простом PHP?</strong></p>
<p>Если вы раньше никогда не использовали PHP-фреймворки, не знакомы с философией
<a class="reference external" href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">Model-View-Controller</a> (здесь и далее MVC) или просто интересуетесь <em>шумихой</em> вокруг
Symfony, то эта глава создана для вас. Вместо того, чтобы <em>рассказывать</em> вам о том,
что Symfony позволяет разрабатывать приложения быстрее и качественнее, чем при
использовании чистого PHP, вы убедитесь в этом самим.</p>
<p>В этой главе вы создадите простое приложение на чистом PHP, а потом
перепроектируете его таким образом, чтобы приложение стало более упорядоченным. Вы совершите
своеобразное путешествие сквозь время, наблюдая за решениями, которые привели к развитию
web-разработки на протяжении последних лет до сегодняшнего уровня.</p>
<p>В конце вы увидите, как Symfony поможет вам избежать рутинных задач и
взять контроль над вашим кодом в свои руки.</p>
<div class="section" id="php">
<h2>Простой блог на чистом PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<p>В этой главе вы создадите базовое приложение - блог, используя лишь чистый PHP.
Чтобы начать, создайте страницу, которая отображает записи в блоге, сохраненные
в базе данных. Писать на чистом PHP проще простого:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">// index.php</span>
<span class="nv">$link</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=localhost;dbname=blog_db&quot;</span><span class="p">,</span> <span class="s1">&#39;myuser&#39;</span><span class="p">,</span> <span class="s1">&#39;mypassword&#39;</span><span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$link</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;SELECT id, title FROM post&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Список постов<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Список постов<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">while</span> <span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/show.php?id=</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="p">&gt;</span>
                    <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span>
                <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endwhile</span> <span class="cp">?&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

<span class="cp">&lt;?php</span>
<span class="nv">$link</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Такой код быстро пишется, так же быстро выполняется, и, по мере роста вашего приложения,
становится совершенно неподдерживаемым. Имеется несколько проблем, которые необходимо решить:</p>
<ul class="simple">
<li><strong>Нет проверки ошибок</strong>: А что, если не получится подключиться к базе данных?</li>
<li><strong>Плохая организация кода</strong>: По мере роста приложения, этот файл будет все
сложнее поддерживать. Где вы должны будете разместить код, который обрабатывает
отправку формы? Как вы сможете проверять данные? А где разместить код для отправки
почты?</li>
<li><strong>Сложность повторного использования кода</strong>: Так как весь код располагается в одном файле,
нет никакой возможности повторного использования любой части приложения для других страниц блога.</li>
</ul>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Другая проблема, не упомянутая выше, заключается в том, что фактически база данных
привязана к MySQL. Несмотря на то, что этот вопрос не рассматривается в данной главе,
Symfony полностью интегрирована с <a class="reference external" href="http://www.doctrine-project.org">Doctrine</a>, библиотекой, позволяющей с одним кодом работать
с разными базами данных и преобразующей ваши объекты в записи в базе данных и обратно.</p>
</div></div>
<div class="section" id="id1">
<h3>Изоляция представления<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>При разделении  &quot;логики&quot; приложения и кода, который готовит HTML &quot;представление&quot;
страницы - общая структура кода сразу же выигрывает:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// index.php</span>
<span class="nv">$link</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=localhost;dbname=blog_db&quot;</span><span class="p">,</span> <span class="s1">&#39;myuser&#39;</span><span class="p">,</span> <span class="s1">&#39;mypassword&#39;</span><span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$link</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;SELECT id, title FROM post&#39;</span><span class="p">);</span>

<span class="nv">$posts</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="k">while</span> <span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$posts</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$link</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>

<span class="c1">// включите презентацию HTML-кода</span>
<span class="k">require</span> <span class="s1">&#39;templates/list.php&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table></div></div>
<p>HTML-код теперь расположен в отдельном файле <tt class="docutils literal"><code>templates/list.php</code></tt>, который
в основном является HTML-файлом, использующим шаблонный PHP-синтаксис:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- templates/list.php --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Список постов<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Список постов<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$posts</span> <span class="k">as</span> <span class="nv">$post</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/show.php?id=</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="p">&gt;</span>
                    <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span>
                <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>По договоренности, файл, который содержит всю логику приложения - <tt class="docutils literal"><code>index.php</code></tt> -
называется &quot;контроллер&quot;. Термин «контроллер» - это слово, которое вы будете часто
слышать вне зависимости от языка программирования или же используемого фреймворка.
Он просто относится к части <em>вашего</em> кода, которая обрабатывает пользовательский ввод и готовит ответ.</p>
<p>В нашем случае, контроллер подготавливает данные из базы, а потом подключает шаблон для
отображения этих данных. Изолируя контроллер, вы с легкостью сможете изменять <em>только</em> шаблонный
файл, если вам понадобится отобразить записи блога в другом формате
(например <tt class="docutils literal"><code>list.json.php</code></tt> для использования JSON-формата)</p>
</div>
<div class="section" id="id2">
<h3>Изоляция логики приложения (бизнес-логики)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>На данный момент, приложение содержит только одну страницу. Но что, если при
создании второй страницы нужно использовать то же соединение с базой данных,
или даже тот же массив постов из блога? Преобразуйте код таким образом, чтобы
базовая логика и функции доступа к данным приложения были изолированы в новом
файле под названием <tt class="docutils literal"><code>model.php</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// model.php</span>
<span class="k">function</span> <span class="nf">open_database_connection</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$link</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=localhost;dbname=blog_db&quot;</span><span class="p">,</span> <span class="s1">&#39;myuser&#39;</span><span class="p">,</span> <span class="s1">&#39;mypassword&#39;</span><span class="p">);</span>

    <span class="k">return</span> <span class="nv">$link</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">close_database_connection</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$link</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$link</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">get_all_posts</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$link</span> <span class="o">=</span> <span class="nx">open_database_connection</span><span class="p">();</span>

    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$link</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;SELECT id, title FROM post&#39;</span><span class="p">);</span>

    <span class="nv">$posts</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
    <span class="k">while</span> <span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">))</span> <span class="p">{</span>
        <span class="nv">$posts</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">close_database_connection</span><span class="p">(</span><span class="nv">$link</span><span class="p">);</span>

    <span class="k">return</span> <span class="nv">$posts</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Название файла <tt class="docutils literal"><code>model.php</code></tt> используется потому, что логика и доступ к
данным приложения обычно известен как уровень «модели». В хорошо организованном
приложении, большая часть кода, представляющая вашу «бизнес-логику», должна
находиться в модели (а не в контроллере). И в отличие от этого примера, только
часть модели отвечает за доступ к базе данных (либо не отвечает вовсе).</p>
</div></div>
<p>Контроллер (<tt class="docutils literal"><code>index.php</code></tt>) теперь выглядит очень просто:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// index.php</span>
<span class="k">require_once</span> <span class="s1">&#39;model.php&#39;</span><span class="p">;</span>

<span class="nv">$posts</span> <span class="o">=</span> <span class="nx">get_all_posts</span><span class="p">();</span>

<span class="k">require</span> <span class="s1">&#39;templates/list.php&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table></div></div>
<p>Теперь, основной задачей контроллера является получение данных из модели
приложения и вызов шаблона для отображения этих данных. Это очень простой
пример шаблона model-view-controller.</p>
</div>
<div class="section" id="html">
<h3>Изоляция HTML-макета<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h3>
<p>На данный момент, приложение разделено на три отдельных части, предлагающие
различные преимущества и возможность повторно использовать почти любой код
на других страницах.</p>
<p>Единственная часть кода, которую <em>нельзя</em> использовать повторно – это разметка
страницы. Исправьте это путем создания нового файла <tt class="docutils literal"><code>templates/layout.php</code></tt>:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- templates/layout.php --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$title</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$content</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Шаблон <tt class="docutils literal"><code>templates/list.php</code></tt> теперь можно упростить для «расширения»
файла <tt class="docutils literal"><code>templates/layout.php</code></tt>:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- templates/list.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$title</span> <span class="o">=</span> <span class="s1">&#39;Список постов&#39;</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nb">ob_start</span><span class="p">()</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Список постов<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$posts</span> <span class="k">as</span> <span class="nv">$post</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/show.php?id=</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="p">&gt;</span>
                <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span>
            <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">()</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">include</span> <span class="s1">&#39;layout.php&#39;</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Теперь у вас есть система, которая позволит вам повторно использовать макет.
К сожалению, для достижения этого эффекта, вам придется использовать несколько
некрасивых функций РНР в шаблоне (<tt class="docutils literal"><code>ob_start()</code></tt>, <tt class="docutils literal"><code>ob_get_clean()</code></tt>). Symfony
использует компонент <a class="reference internal" href="..\components\templating.html"><em>Templating</em></a>, который позволяет
достичь этого легко и аккуратно. Скоро вы увидите – как именно.</p>
</div>
</div>
<div class="section" id="id3">
<h2>Добавление страницы блога «один пост»<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Страница блога &quot;список постов&quot; была оптимизирована для того, чтобы код был более
организованным и был пригоден для повторного использования. Для того, чтобы доказать
это, добавьте страницу блога &quot;один пост&quot;, которая будет отображать отдельные посты
блога по параметру <tt class="docutils literal"><code>id</code></tt> в запросе.</p>
<p>Для начала, создайте новую функцию в файле <tt class="docutils literal"><code>model.php</code></tt>, которая будет отображать
отдельную запись в блоге по данному id:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// model.php</span>
<span class="k">function</span> <span class="nf">get_post_by_id</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$link</span> <span class="o">=</span> <span class="nx">open_database_connection</span><span class="p">();</span>

    <span class="nv">$query</span> <span class="o">=</span> <span class="s1">&#39;SELECT created_at, title, body FROM post WHERE  id=:id&#39;</span><span class="p">;</span>
    <span class="nv">$statement</span> <span class="o">=</span> <span class="nv">$link</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="nv">$query</span><span class="p">);</span>
    <span class="nv">$statement</span><span class="o">-&gt;</span><span class="na">bindValue</span><span class="p">(</span><span class="s1">&#39;:id&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">PARAM_INT</span><span class="p">);</span>
    <span class="nv">$statement</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

    <span class="nv">$row</span> <span class="o">=</span> <span class="nv">$statement</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">);</span>

    <span class="nx">close_database_connection</span><span class="p">(</span><span class="nv">$link</span><span class="p">);</span>

    <span class="k">return</span> <span class="nv">$row</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Далее, создайте новый файл под названием  <tt class="docutils literal"><code>show.php</code></tt> – контроллер для новой
страницы:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// show.php</span>
<span class="k">require_once</span> <span class="s1">&#39;model.php&#39;</span><span class="p">;</span>

<span class="nv">$post</span> <span class="o">=</span> <span class="nx">get_post_by_id</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]);</span>

<span class="k">require</span> <span class="s1">&#39;templates/show.php&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table></div></div>
<p>Наконец, создайте новый файл-шаблон <tt class="docutils literal"><code>templates/show.php</code></tt> для отображения
отдельного поста из блога:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- templates/show.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$title</span> <span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nb">ob_start</span><span class="p">()</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;date&quot;</span><span class="p">&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;body&quot;</span><span class="p">&gt;</span>
        <span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">()</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">include</span> <span class="s1">&#39;layout.php&#39;</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Создать вторую страницу теперь очень просто, и при этом код не дублируется. Тем
не менее, эта страница добавляет еще больше проблем, которые вам поможет решить
фреймворк. Например, отсутствующий или неверный параметр запроса <tt class="docutils literal"><code>id</code></tt> приведет к
ошибке приложения. Было бы лучше, если бы это вызывало отображение страницы 404,
но это пока не так просто сделать.</p>
<p>Еще одной большой проблемой является то, что каждый отдельный файл-контроллер должен
включать в себя файл <tt class="docutils literal"><code>model.php</code></tt>. А что, если каждому файлу-контроллеру вдруг понадобится
еще дополнительный файл, или выполнение какой-то другой глобальной задачи (например,
аутентификация)? В нынешнем состоянии, этот код нужно добавлять к каждому контроллеру в
файле. Если же вы забудете добавить что-то в один файл, то будем надеяться, что это не
будет относиться к безопасности вашего приложения…</p>
</div>
<div class="section" id="from-flat-php-front-controller-ru">
<span id="id4"></span><h2>&quot;Фронт-контроллер&quot; спешит на помощь<a class="headerlink" href="#from-flat-php-front-controller-ru" title="Permalink to this headline">¶</a></h2>
<p>Решением будет использовать фронт-контроллер – единый РНР-файл, через который
будут обрабатываться <em>все</em> запросы. При использовании фронт-контроллера, URI
приложения слегка изменяются, но становятся более гибкими:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Без фронт-контроллера
/index.php          =&gt; Список постов блога (выполняется index.php)
/show.php           =&gt; Отдельный пост блога (выполняется show.php)

С index.php в качестве фронт-контроллера
/index.php          =&gt; Список постов блога (выполняется index.php)
/index.php/show     =&gt; Отдельный пост блога (выполняется index.php)
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Используя правила перенаправления (rewrite) в
<a class="reference internal" href="..\setup\web_server_configuration.html"><em>настройках веб-сервера</em></a>,
<tt class="docutils literal"><code>index.php</code></tt> в адресе не будет нужен и у вас будут красивые, чистые URLы
(например, <tt class="docutils literal"><code>/show</code></tt>).</p>
</div></div>
<p>При использовании фронт-контроллера, единый РНР-файл (в этом случае <tt class="docutils literal"><code>index.php</code></tt>)
обрабатывает <em>каждый</em> запрос. Для страницы с одним постом <tt class="docutils literal"><code>/index.php/show</code></tt> будет
выполнять файл <tt class="docutils literal"><code>index.php</code></tt>, который теперь отвечает за маршрутизацию запросов,
основываясь на полном URI. Как вы увидите, фронт-контроллер – это очень мощный
инструмент.</p>
<div class="section" id="id5">
<h3>Создание фронт-контроллера<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Сейчас вы сделаете <strong>большой</strong> шаг в разработке вашего приложения. Имея
единый файл, отвечающий за все запросы, вы можете централизованно управлять
такими вещами как безопасность, загрузка конфигурации и маршрутизация. В этом
приложении, <tt class="docutils literal"><code>index.php</code></tt> теперь должен быть достаточно умным для отображения страницы
списка постов блога <em>или</em> страницы отдельного поста, основываясь на URI запроса:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// index.php</span>

<span class="c1">// загружаем и инициализируем глобальные библиотеки</span>
<span class="k">require_once</span> <span class="s1">&#39;model.php&#39;</span><span class="p">;</span>
<span class="k">require_once</span> <span class="s1">&#39;controllers.php&#39;</span><span class="p">;</span>

<span class="c1">// внутренняя маршрутизация</span>
<span class="nv">$uri</span> <span class="o">=</span> <span class="nb">parse_url</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_URI&#39;</span><span class="p">],</span> <span class="nx">PHP_URL_PATH</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="s1">&#39;/index.php&#39;</span> <span class="o">===</span> <span class="nv">$uri</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">list_action</span><span class="p">();</span>
<span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span><span class="s1">&#39;/index.php/show&#39;</span> <span class="o">===</span> <span class="nv">$uri</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]))</span> <span class="p">{</span>
    <span class="nx">show_action</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">header</span><span class="p">(</span><span class="s1">&#39;HTTP/1.1 404 Not Found&#39;</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s1">&#39;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Page Not Found&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Для улучшения структуры приложения, оба контроллера (ранее <tt class="docutils literal"><code>/index.php</code></tt> и
<tt class="docutils literal"><code>/index.php/show</code></tt>) теперь являются функциями РНР, и обе перенесены в отдельный
файл под названием  <tt class="docutils literal"><code>controllers.php</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// controllers.php</span>
<span class="k">function</span> <span class="nf">list_action</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$posts</span> <span class="o">=</span> <span class="nx">get_all_posts</span><span class="p">();</span>
    <span class="k">require</span> <span class="s1">&#39;templates/list.php&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">show_action</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$post</span> <span class="o">=</span> <span class="nx">get_post_by_id</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
    <span class="k">require</span> <span class="s1">&#39;templates/show.php&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>В качестве фронт-контроллера, <tt class="docutils literal"><code>index.php</code></tt> взял на себя абсолютно новую роль,
которая включает в себя загрузку библиотек ядра и маршрутизацию приложения,
и заключается в вызове одного из двух контроллеров (функции <tt class="docutils literal"><code>list_action()</code></tt> и
<tt class="docutils literal"><code>show_action()</code></tt>). На самом деле, фронт-контроллер начинает выглядеть и вести
себя очень схоже с Symfony.</p>
<p>Но будьте внимательны, вы не должны путать термины <em>фронт-контроллер</em> и <em>контроллер</em>.
Ваше приложение, как правило, должно иметь только один фронт-контроллер, который
загружает ваш код. В то же время, у вас будет <em>много</em> функций-контроллеров, по одному
на каждую страницу.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Еще одним преимуществом фронт-контроллера являются гибкие URL. Заметьте,
что URL отдельного поста блога может быть изменен с <tt class="docutils literal"><code>/show</code></tt> на <tt class="docutils literal"><code>/read</code></tt>,
путем изменения кода только в одном месте. Раньше необходимо было переименовывать
целый файл. В Symfony URL становятся еще более гибкими.</p>
</div></div>
<p>На данный момент, приложение разрослось из одного РНР-файла в организованную
структуру, которая позволяет повторное использование кода. Скорее всего вы
чувствуете себя немного счастливее, но далеко от полного удовлетворения. Например,
система маршрутизации ненадежна и не распознает, что страница списка <tt class="docutils literal"><code>/index.php</code></tt>
также должна быть доступна с помощью / (если используются правила вывода Apache).
Также, вместо того, чтобы развивать блог, много времени уходит на «архитектуру»
кода (например, маршрутизацию, вызов контроллеров, щаблоны, и т.д.). Еще больше
времени тратится на отправку форм, проверку введенных данных, запись показаний и
безопасность. Зачем вам заново изобретать решения для всех этих рутинных задач?</p>
</div>
<div class="section" id="add-a-touch-of-symfony2-ru">
<span id="id6"></span><h3>Добавьте немного Symfony<a class="headerlink" href="#add-a-touch-of-symfony2-ru" title="Permalink to this headline">¶</a></h3>
<p>Symfony спешит на помощь. Перед тем, как использовать Symfony, вам необходимо
будет ее скачать. Это может быть сделано с использованием <a class="reference external" href="https://getcomposer.org">Composer</a>, который
позаботится о скачивании правильной версии и всех ее зависимостей, предоставляет
автозагрузчик. Автозагрузчик – это инструмент, который позволяет начать использовать
РНР-классы, не подключая явно файлы, содержащие эти классы.</p>
<p>Создайте в корневом каталоге файл <tt class="docutils literal"><code>composer.json</code></tt> со следующим содержанием:</p>
<div class="literal-block"><div class="highlight-json"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;require&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;symfony/http-foundation&quot;</span><span class="p">:</span> <span class="s2">&quot;^4.0&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;autoload&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;model.php&quot;</span><span class="p">,</span><span class="s2">&quot;controllers.php&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Далее, <a class="reference external" href="https://getcomposer.org/download/">скачайте Composer</a>, и запустите следующую команду, которая
скачает Symfony в папку <tt class="docutils literal"><code>vendor/</code></tt>:</p>
<div class="literal-block"><div class="highlight-terminal"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer install
</pre></div>
</td></tr></table></div></div>
<p>Кроме скачивания необходимых библиотек Composer генерирует файл <tt class="docutils literal"><code>vendor/autoload.php</code></tt>,
который занимается автозагрузкой всех файлов фреймворка Symfony, а также файлов,
обозначенных в разделе автозагрузки в файле <tt class="docutils literal"><code>composer.json</code></tt>.</p>
<p>Основой философии Symfony является идея о том, что главная задача приложения
– это интерпретировать каждый запрос и сформировать ответ. Для этого Symfony
предоставляет два класса - <tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/HttpFoundation/Request.html" title="Symfony\Component\HttpFoundation\Request">Request</a></code></tt> и
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/HttpFoundation/Response.html" title="Symfony\Component\HttpFoundation\Response">Response</a></code></tt>. Эти классы являются
объектно-ориентированным представлением необработанного НТТР-запроса, который
подлежит обработке, и НТТР-ответа, который будет представлен клиенту. Используйте
их для улучшения блога:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// index.php</span>
<span class="k">require_once</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Request</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="nx">Request</span><span class="o">::</span><span class="na">createFromGlobals</span><span class="p">();</span>

<span class="nv">$uri</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">getPathInfo</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="s1">&#39;/&#39;</span> <span class="o">===</span> <span class="nv">$uri</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">list_action</span><span class="p">();</span>
<span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span><span class="s1">&#39;/show&#39;</span> <span class="o">===</span> <span class="nv">$uri</span> <span class="o">&amp;&amp;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">query</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">show_action</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">query</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">));</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$html</span> <span class="o">=</span> <span class="s1">&#39;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Page Not Found&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&#39;</span><span class="p">;</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nv">$html</span><span class="p">,</span> <span class="nx">Response</span><span class="o">::</span><span class="na">HTTP_NOT_FOUND</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// вывод заголовков и отправка ответа</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
<p>Теперь контроллеры отвечают за возврат объекта <tt class="docutils literal"><code>Response</code></tt>. Чтобы упростить
этот процесс, вы можете добавить функцию <tt class="docutils literal"><code>render_template()</code></tt>, которая, кстати,
действует практически как шаблонизатор Symfony:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// controllers.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>

<span class="k">function</span> <span class="nf">list_action</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$posts</span> <span class="o">=</span> <span class="nx">get_all_posts</span><span class="p">();</span>
    <span class="nv">$html</span> <span class="o">=</span> <span class="nx">render_template</span><span class="p">(</span><span class="s1">&#39;templates/list.php&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;posts&#39;</span> <span class="o">=&gt;</span> <span class="nv">$posts</span><span class="p">));</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nv">$html</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">show_action</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$post</span> <span class="o">=</span> <span class="nx">get_post_by_id</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
    <span class="nv">$html</span> <span class="o">=</span> <span class="nx">render_template</span><span class="p">(</span><span class="s1">&#39;templates/show.php&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;post&#39;</span> <span class="o">=&gt;</span> <span class="nv">$post</span><span class="p">));</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nv">$html</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// функция-помощник для отображения шаблонов</span>
<span class="k">function</span> <span class="nf">render_template</span><span class="p">(</span><span class="nv">$path</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">extract</span><span class="p">(</span><span class="nv">$args</span><span class="p">);</span>
    <span class="nb">ob_start</span><span class="p">();</span>
    <span class="k">require</span> <span class="nv">$path</span><span class="p">;</span>
    <span class="nv">$html</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>

    <span class="k">return</span> <span class="nv">$html</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Используя небольшую часть Symfony, приложение стало более гибким и надежным.
<tt class="docutils literal"><code>Request</code></tt> предоставляет надежный способ получить доступ к информации о НТТР-запросе.
В частности, метод <tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/HttpFoundation/Request.html#method_getPathInfo" title="Symfony\Component\HttpFoundation\Request::getPathInfo()">getPathInfo()</a></code></tt>
возвращает «очищенный» URL (всегда возвращает <tt class="docutils literal"><code>/show</code></tt>, и никогда - <tt class="docutils literal"><code>/index.php/show</code></tt>).
Так что даже если пользователь открывает <tt class="docutils literal"><code>/index.php/show</code></tt>, приложение
достаточно умное, чтобы обработать запрос через  <tt class="docutils literal"><code>show_action()</code></tt>.</p>
<p>Объект <tt class="docutils literal"><code>Response</code></tt> предоставляет гибкость при создании НТТР ответа, и позволяет
добавлять НТТР заголовки и контент посредством объектно-ориентированного интерфейса.
И хотя ответы в этом приложении достаточно просты, его гибкость окупится по мере
развития приложения.</p>
</div>
<div class="section" id="the-sample-application-in-symfony2-ru">
<span id="id7"></span><h3>Пробное приложение в Symfony<a class="headerlink" href="#the-sample-application-in-symfony2-ru" title="Permalink to this headline">¶</a></h3>
<p>Блог уже прошел <em>длинный</em> путь,  но он все еще содержит слишком много кода
для такого простого приложения. По пути, вы создали простую систему маршрутизации
и метод, использующий <tt class="docutils literal"><code>ob_start()</code></tt> и <tt class="docutils literal"><code>ob_get_clean()</code></tt> для отображения шаблонов. Если
по какой-то причине вам необходимо продолжать строить этот «фреймворк» с нуля,
то вы хотя бы можете использовать отдельные компоненты Symfony
<a class="reference internal" href="..\components\routing.html"><em>Маршрутизация</em></a> и <a class="reference internal" href="..\templating.html"><em>Twig</em></a>, которые уже
решают эти проблемы.</p>
<p>Вместо того, чтобы заново решать типичные проблемы, вы можете позволить
Symfony позаботиться о них. Вот такое же приложение-пример, только теперь
созданное в Symfony:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// src/Controller/BlogController.php</span>
<span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Entity\Post</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">BlogController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">list</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$posts</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDoctrine</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="nx">Post</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">findAll</span><span class="p">();</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;blog/list.html.twig&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;posts&#39;</span> <span class="o">=&gt;</span> <span class="nv">$posts</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$post</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDoctrine</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="nx">Post</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$post</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// отображает страницу &quot;404 страница не найдена&quot;</span>
            <span class="k">throw</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createNotFoundException</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;blog/show.html.twig&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;post&#39;</span> <span class="o">=&gt;</span> <span class="nv">$post</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Заметьте, что обе функции контроллера теперь находятся в «классе контроллера».
Это хороший способ группировать связанные страницы. Функции контроллера
также иногда называются <em>действиями (actions)</em>.</p>
<p>Два контроллера (или действия) все еще легковесны. Каждый использует
библиотеку <a class="reference internal" href="..\doctrine.html"><em>Doctrine ORM library</em></a> для получения объектов из
базы данных и компонент Templating для отображения шаблона и возврата
объекта <tt class="docutils literal"><code>Response</code></tt>. Шаблон <tt class="docutils literal"><code>list.html.twig</code></tt> теперь стал значительно проще
и использует Twig:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- templates/blog/list.html.twig --&gt;</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>List of Posts<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>List of Posts<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">post</span> <span class="k">in</span> <span class="nv">posts</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;blog_show&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="nv">id</span><span class="o">:</span> <span class="nv">post.id</span> <span class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>
            <span class="cp">{{</span> <span class="nv">post.title</span> <span class="cp">}}</span>
        <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>Файл <tt class="docutils literal"><code>layout.php</code></tt> практически идентичен:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- templates/base.html.twig --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Welcome!<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Шаблон <tt class="docutils literal"><code>show.html.twig</code></tt> оставим в качестве упражнения, его обновление должно
быть очень схоже с обновлением шаблона <tt class="docutils literal"><code>list.html.twig</code></tt>.</p>
</div></div>
<p>Когда движок Symfony (который называется Kernel – ядро) загружается, он нуждается в
«карте» для того, чтобы знать какой контроллер необходимо использовать, основываясь
на информации о запросе.  Конфигурация карты маршрутизатора <tt class="docutils literal"><code>config/routes.yaml</code></tt>
предоставляет ему эту информацию в таком формате:</p>
<div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/routes.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">blog_list</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span>     <span class="l l-Scalar l-Scalar-Plain">/blog</span>
    <span class="l l-Scalar l-Scalar-Plain">controller</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">App\Controller\BlogController::list</span>

<span class="l l-Scalar l-Scalar-Plain">blog_show</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span>     <span class="l l-Scalar l-Scalar-Plain">/blog/show/{id}</span>
    <span class="l l-Scalar l-Scalar-Plain">controller</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">App\Controller\BlogController::show</span>
</pre></div>
</td></tr></table></div></div>
<p>Теперь, когда Symfony занимается всеми повседневными задачами, фронт-контроллер
<tt class="docutils literal"><code>public/index.php</code></tt> становится предельно простым. И поскольку он делает так мало, вам
никогда не придется его трогать:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// public/index.php</span>
<span class="k">require_once</span> <span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/../app/bootstrap.php&#39;</span><span class="p">;</span>
<span class="k">require_once</span> <span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/../src/Kernel.php&#39;</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Request</span><span class="p">;</span>

<span class="nv">$kernel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kernel</span><span class="p">(</span><span class="s1">&#39;prod&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
<span class="nv">$kernel</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">(</span><span class="nx">Request</span><span class="o">::</span><span class="na">createFromGlobals</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
<p>Единственная работа фронт-контроллера – инициализация движка Symfony (Kernel)
и передача ему для обработки объекта <tt class="docutils literal"><code>Request</code></tt>. Ядро Symfony запрашивает у
маршрутизатора обработку запроса. Маршрутизатор соотносит входящий URL c
определенным путем и возвращает информацию о маршруте, включая необходимый для
использования контроллер. Определенный маршрутизатором контроллер исполняется,
и ваш код в контроллере создает и возвращает соответствующий объект  <tt class="docutils literal"><code>Response</code></tt>.
НТТР заголовки и контент объекта  <tt class="docutils literal"><code>Response</code></tt> возвращаются клиенту.</p>
<p>Это прекрасно.</p>
<div class="figure align-center">
<img alt="Symfony request flow" src="..\_images\request-flow.png">
</div>
</div>
</div>
<div class="section" id="id8">
<h2>Преимущества Symfony<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>В следующих главах вы узнаете больше о том, как работает каждая составляющая
Symfony, и как вы можете организовать свой проект. Сейчас же, ещё раз порадуемся
улучшению вашей жизни с переносом блога с чистого РНР на Symfony:</p>
<ul class="simple">
<li>Ваше приложение теперь имеет <strong>простой, понятный  и единообразный код</strong> (хотя
Symfony не требует этого от вас). Это поощряет <strong>повторное использование</strong> и
позволяет новым разработчикам быстрее становиться продуктивными в рамках вашего
проекта;</li>
<li>100% написанного вами кода относится к <em>вашему</em> приложению. Вам <strong>не нужно
разрабатывать и поддерживать низкоуровневые инструменты</strong> вроде автозагрузки,
<a class="reference internal" href="..\routing.html"><em>маршрутизации</em></a> или рендеринга <a class="reference internal" href="..\controller.html"><em>контроллеров</em></a>;</li>
<li>Symfony предоставляет вам <strong>доступ к инструментам с открытым кодом</strong>,
таким как <a class="reference external" href="http://www.doctrine-project.org">Doctrine</a> и компонентам вроде <a class="reference internal" href="..\components\templating.html"><em>Templating</em></a>,
<a class="reference internal" href="..\components\security.html"><em>Security</em></a>,
<a class="reference internal" href="..\components\form.html"><em>Form</em></a>, <a class="reference external" href="https://github.com/symfony/validator">Validator</a> и
<a class="reference internal" href="..\components\translation.html"><em>Translation</em></a>;</li>
<li>у приложения появились <strong>полностью настраиваемые URL</strong> благодаря компоненту Routing;</li>
<li>архитектура Symfony, основанная на НТТР, предоставляет вам доступ к мощным
инструментам вроде <strong>НТТР-кеширования</strong>, основанного на <strong>внутреннем НТТР-кеше
Symfony</strong>, или еще более мощным инструментам, таким как <a class="reference external" href="https://www.varnish-cache.org/">Varnish</a> (кеширующий
прокси). Об этом рассказывается далее, в главе о <a class="reference internal" href="..\http_cache.html"><em>кешировании</em></a>.</li>
</ul>
<p>И, возможно, лучшее из всего – используя Symfony, вы теперь имеете доступ к целому ряду
<strong>высококачественных инструментов с открытым исходным кодом, разработанных участниками
Symfony сообщества</strong>! Хороший выбор <a class="reference external" href="https://github.com/search?q=topic%3Asymfony-bundle&amp;type=Repositories">общественных инструментов Symfony</a> можно
найти на GitHub.</p>
</div>
</div>


            </div>

            
            <div class="navigation">
                <a href="from_flat_php_to_symfony2.html">« Symfony versus Flat PHP</a>
                <span class="separator">|</span>
                <a href="http_fundamentals.html">Symfony and HTTP Fundamentals »</a>
            </div>
            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>