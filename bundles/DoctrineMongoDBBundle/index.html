<!DOCTYPE html>
<html lang="en">
    <head>
        <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <![endif]-->
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta charset="UTF-8" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script>
        <meta name="robots" content="index, follow, all" />
        <meta name="Author" content="Symfony" />
                    <meta name="description" content="DoctrineMongoDBBundle:   The MongoDB Object Document Mapper (ODM) is much like the Doctrine2 ORM in its philosophy and how it works. In other words, like the Doctrine2 ORM, with the Doctrine ODM, you ...">
                <meta name="Keywords" content="symfony3, symfony2, symfony, project, framework, php, php5, php7, open-source, components, symphony, symfony framework, symfony tutorial" />
        
                <link rel="search" type="application/opensearchdescription+xml" href="https://symfony.com/opensearch/documentation.xml" title="Symfony documentation" />

                <title>DoctrineMongoDBBundle (Symfony Bundles Docs)</title>

        <link rel="preconnect" href="https://www.google-analytics.com">
        <link rel="preconnect" href="https://connect.symfony.com">

        <link rel="stylesheet" href="/build/css/app.8de5c8447487b89cfc05841ac9387adb.css">
            
    <link rel="stylesheet" href="/build/css/doc.daa7d9f0aac215d2211862c4e00c04fb.css">

        <script src="/build/manifest.d41d8cd98f00b204e980.js"></script>
        <script src="/build/js/app.688dd615bbeb331a3e91.js"></script>
        <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-89393-6', 'auto');
            ga('send', 'pageview');
        </script>
        <script async src='https://www.google-analytics.com/analytics.js'></script>
            <script src="/build/js/doc.c8dea92dfe91c5b56e4c.js"></script>

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=yyalQXYGEA">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=yyalQXYGEA">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=yyalQXYGEA">
        <link rel="manifest" href="/site.webmanifest?v=yyalQXYGEA">
        <link rel="mask-icon" href="/safari-pinned-tab.svg?v=yyalQXYGEA" color="#5bbad5">
        <link rel="shortcut icon" href="/favicon.ico?v=yyalQXYGEA">
        <meta name="msapplication-TileColor" content="#000000">
        <meta name="theme-color" content="#ffffff">
        <meta name="apple-mobile-web-app-title" content="Symfony">

                <meta name="twitter:site" content="@symfony">

                <meta property="fb:pages" content="211720082183067">

                            <meta property="og:type" content="website">
            <meta property="og:title" content="DoctrineMongoDBBundle (Symfony Bundles Docs)">
            <meta property="og:image" content="https://symfony.com/images/v5/opengraph/symfony.png">

                            <meta property="og:description" content="DoctrineMongoDBBundle:   The MongoDB Object Document Mapper (ODM) is much like the Doctrine2 ORM in its philosophy and how it works. In other words, like the Doctrine2 ORM, with the Doctrine ODM, you ...">
                    
                <meta name="msapplication-TileColor" content="#222222">
        <meta name="application-name" content="Symfony">
        <meta name="msapplication-tooltip" content="Official Symfony website">

                <meta name="theme-color" content="#222222">

            </head>

    <body>
        <script async>
            document.body.classList.add(localStorage.getItem('themeName'));
        </script>

        <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"WebSite","name":"Symfony","url":"https:\/\/symfony.com","potentialAction":{"@type":"SearchAction","target":"https:\/\/symfony.com\/search?q={query}","query-input":"required name=query"}}</script>
        <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Organization","url":"https:\/\/symfony.com","name":"Symfony","logo":"https:\/\/symfony.com\/images\/v5\/logos\/sf-positive.svg","sameAs":["https:\/\/github.com\/symfony","https:\/\/stackoverflow.com\/questions\/tagged\/symfony","https:\/\/twitter.com\/symfony","https:\/\/www.facebook.com\/SymfonyFramework","https:\/\/www.youtube.com\/user\/SensioLabs","https:\/\/medium.com\/@symfony"]}</script>

        <div id="sln"></div>

                <div id="content_wrapper">
            <header>
                <section class="header__top">
                    <div class="container">
                        <div class="header__logo">
                            <a href="/">
                                <img src="/images/v5/logos/header-logo.svg" alt="Symfony" />
                            </a>
                        </div>
                        <div class="hidden-xs">
                            <a href="https://sensiolabs.com" title="SensioLabs, PHP services and software solutions for enterprise and community.">
                                <img height="17" src="/images/v5/pictos/slsponsor.svg" alt="Symfony is sponsored by SensioLabs" />
                            </a>
                        </div>
                        <div class="visible-xs">
                            <button class="header__toggle__menu" type="button" name="toggle" aria-label="Toggle menu">
                                <i class="icon icon--large icon--white"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1664 1344v128q0 26-19 45t-45 19H192q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19H192q-26 0-45-19t-19-45V832q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19H192q-26 0-45-19t-19-45V320q0-26 19-45t45-19h1408q26 0 45 19t19 45z"/></svg></i>
                            </button>
                        </div>
                    </div>
                </section>

                <section class="header__bottom" data-spy="affix" data-offset-top="90">
                    <div class="container">
                        <nav class="header__nav">
                            <ul>
                                <li class="header__logo--responsive">
                                    <a href="/"><img alt="Symfony logo" src="/images/v5/logos/sf-positive.svg" /></a>
                                </li>

                                
        <li >
        <a href="/what-is-symfony">
            About
                    </a>
    </li>
            <li class="selected">
        <a href="/doc/current/index.html">
            Documentation
                    </a>
    </li>
            <li >
        <a href="https://symfonycasts.com/">
            Screencasts
                            <span style="background: var(--accent-color); border-radius: 2px; color: white; font-size: 11px; padding: 2px 4px;">NEW</span>
                    </a>
    </li>
            <li >
        <a href="/community">
            Community
                    </a>
    </li>
            <li >
        <a href="https://sensiolabs.com">
            Business Solutions
                    </a>
    </li>
            <li >
        <a href="/events">
            Events
                    </a>
    </li>
            <li >
        <a href="/blog/">
            News
                    </a>
    </li>
            <li >
        <a href="/account">
            Account
                    </a>
    </li>
    
                                <li class="hidden-xs header__download">
                                    <a href="/download">Download</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </section>
            </header>

                        <div class="container">
                <style>
    .banner__title,
    .banner__title:hover {
        color: #ccc;
        display: block;
        font-size: 16px;
        font-weight: 300;
        line-height: 1.2;
        padding: 0 15px 0 5px;
        text-transform: uppercase;
    }
    .banner__title:hover { color: #aaa; text-decoration: underline; }

    @media (min-width: 768px) {
        .banner__title,
        .banner__title:hover { font-size: 24px; letter-spacing: 1px; padding: 0 45px 0 5px; }
    }

    .dark-theme .banner_sfcon a { color: #a244c2 !important; }
    .dark-theme img { filter: brightness(105%); }
    .dark-theme .banner_sfcon img { filter: brightness(130%); }
</style>
<div class="d-none d-sm-block box box--small box--shadow" style="margin-top: 0; margin-bottom: 30px;">
    <div class="d-flex font-system">
        <div class="col">
            <a class="banner__title" href="https://live.symfony.com/">Upcoming Conferences</a>
        </div>

        <div class="col" style="padding: 0 15px">
            <a href="https://usa2018.live.symfony.com/">
                <img height="35" src="/images/v5/conferences/sflovephp-medium.svg" />
            </a>
            <p style="border-top: 1.5px solid rgba(213, 5, 78, 0.2); line-height: 1.2; margin: 5px 0 0; padding: 5px 0 0;">
                <a href="https://usa2018.live.symfony.com/" class="block text-uppercase" style="color: rgb(213, 5, 78)">
                    <b class="block">USA 2018</b> <small>October 11-12</small>
                </a>
            </p>
        </div>

        <div class="col" style="padding: 0 15px">
            <a href="https://live.symfony.com/">
                <img height="35" src="/images/v5/conferences/sflive-medium.svg" />
            </a>
            <p style="border-top: 1.5px solid rgba(213, 5, 78, 0.2); line-height: 1.2; margin: 5px 0 0; padding: 5px 0 0;">
                <a href="http://berlin2018.live.symfony.com/" class="block text-uppercase" style="color: rgb(213, 5, 78)">
                    <b class="block">Berlin 2018</b> <small>October 24-26</small>
                </a>
            </p>
        </div>

        <div class="col banner_sfcon" style="padding: 0 15px">
            <a href="https://lisbon2018.symfony.com/">
                <img height="35" src="/images/v5/conferences/sfcon-large.svg" />
            </a>
            <p style="border-top: 1.5px solid rgba(110, 53, 140, 0.2); line-height: 1.2; margin: 5px 0 0; padding: 5px 0 0;">
                <a href="https://lisbon2018.symfony.com/" class="block text-uppercase" style="color: rgb(110, 53, 140)">
                    <b class="block">Lisbon 2018</b> <small>December 6-8</small>
                </a>
            </p>
        </div>
    </div>
</div>


                                    <div class="row">
                        <aside class="col-sm-3">
                                                                
            <div class="hidden-xs m-b-30 doc__nav">
        <div class="panel">
            <div class="panel-heading">
                <a data-toggle="collapse" href="#doc-menu-1" class="collapsed">Getting Started <i class="icon icon--small icon--gray-light pull-right"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45L531 45q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg></i></a>
            </div>
            <div id="doc-menu-1" class="panel-collapse collapse ">
                <div class="panel-body">
                    

    <ul class="list--unstyled">
                    <li class="">
                                <a class="" href="/doc/current/setup.html">
                    Setup
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/page_creation.html">
                    Creating Pages
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/routing.html">
                    Routing
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/controller.html">
                    Controllers
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/templating.html">
                    Templates
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/configuration.html">
                    Configuration
                </a>
            </li>
            </ul>


                </div>
            </div>
        </div>

        <div class="panel">
            <div class="panel-heading">
                <a data-toggle="collapse" href="#doc-menu-2" class="collapsed">Guides <i class="icon icon--small icon--gray-light pull-right"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45L531 45q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg></i></a>
            </div>
            <div id="doc-menu-2" class="panel-collapse collapse">
                <div class="panel-body">
                    

    <ul class="">
                    <li class="">
                                <a class="" href="/doc/current/bundles.html">
                    Bundles
                </a>
            </li>
                    <li class="">
                                <a class="important" href="/doc/current/console.html">
                    Console
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/contributing/index.html">
                    Contributing
                </a>
            </li>
                    <li class="">
                                <a class="very-important" href="/doc/current/doctrine.html">
                    Databases (Doctrine ORM)
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/deployment.html">
                    Deployment
                </a>
            </li>
                    <li class="">
                                <a class="important" href="/doc/current/email.html">
                    Email
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/event_dispatcher.html">
                    Event Dispatcher
                </a>
            </li>
                    <li class="">
                                <a class="important" href="/doc/current/setup/flex.html">
                    Flex
                </a>
            </li>
                    <li class="">
                                <a class="very-important" href="/doc/current/forms.html">
                    Forms
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/frontend.html">
                    Front-end
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/http_cache.html">
                    HTTP Cache
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/logging.html">
                    Logging
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/4.1/messenger.html">
                    Messenger
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/performance.html">
                    Performance
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/profiler.html">
                    Profiler
                </a>
            </li>
                    <li class="">
                                <a class="important" href="/doc/current/security.html">
                    Security
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/serializer.html">
                    Serializer
                </a>
            </li>
                    <li class="">
                                <a class="very-important" href="/doc/current/service_container.html">
                    Service Container
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/session.html">
                    Sessions
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/testing.html">
                    Testing
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/translation.html">
                    Translation (i18n)
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/validation.html">
                    Validation
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/workflow.html">
                    Workflow
                </a>
            </li>
            </ul>


                </div>
            </div>
        </div>

        <div class="panel">
            <div class="panel-heading">
                <a data-toggle="collapse" href="#doc-menu-3" class="collapsed">Components <i class="icon icon--small icon--gray-light pull-right"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45L531 45q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg></i></a>
            </div>
            <div id="doc-menu-3" class="panel-collapse collapse">
                <div class="panel-body">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                <ul class="">
                    <li class="">
                                <a class="" href="/doc/current/components/asset.html">
                    Asset
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/browser_kit.html">
                    BrowserKit
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/cache.html">
                    Cache
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/class_loader.html">
                    ClassLoader
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/config.html">
                    Config
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/console.html">
                    Console
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/index.html">
                    Contracts
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/css_selector.html">
                    CssSelector
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/debug.html">
                    Debug
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/dependency_injection.html">
                    DependencyInjection
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/dom_crawler.html">
                    DomCrawler
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/dotenv.html">
                    Dotenv
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/event_dispatcher.html">
                    EventDispatcher
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/expression_language.html">
                    ExpressionLanguage
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/filesystem.html">
                    Filesystem
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/finder.html">
                    Finder
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/form.html">
                    Form
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/http_foundation.html">
                    HttpFoundation
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/http_kernel.html">
                    HttpKernel
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/intl.html">
                    Intl
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/ldap.html">
                    Ldap
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/lock.html">
                    Lock
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/messenger.html">
                    Messenger
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/options_resolver.html">
                    OptionsResolver
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/phpunit_bridge.html">
                    PHPUnit Bridge
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_apcu.html">
                    Polyfill APCu
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_ctype.html">
                    Polyfill Ctype
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_iconv.html">
                    Polyfill Iconv
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_intl_grapheme.html">
                    Polyfill Intl Grapheme
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_intl_icu.html">
                    Polyfill Intl ICU
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_intl_normalizer.html">
                    Polyfill Intl Normalizer
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_mbstring.html">
                    Polyfill Mbstring
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php54.html">
                    Polyfill PHP 5.4
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php55.html">
                    Polyfill PHP 5.5
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php56.html">
                    Polyfill PHP 5.6
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php70.html">
                    Polyfill PHP 7.0
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php71.html">
                    Polyfill PHP 7.1
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php72.html">
                    Polyfill PHP 7.2
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/polyfill_php73.html">
                    Polyfill PHP 7.3
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/process.html">
                    Process
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/property_access.html">
                    PropertyAccess
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/property_info.html">
                    PropertyInfo
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/routing.html">
                    Routing
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/security.html">
                    Security
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/serializer.html">
                    Serializer
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/stopwatch.html">
                    Stopwatch
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/templating.html">
                    Templating
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/translation.html">
                    Translation
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/validator.html">
                    Validator
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/var_dumper.html">
                    VarDumper
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/workflow.html">
                    Workflow
                </a>
            </li>
                    <li class="">
                                <a class="" href="/doc/current/components/yaml.html">
                    Yaml
                </a>
            </li>
            </ul>


                </div>
            </div>
        </div>

        <div class="panel">
            <div class="panel-heading">
                <a class="collapsed" href="https://training.sensiolabs.com/en/courses?q=symfony">Training</a>
            </div>
        </div>

        <div class="panel">
            <div class="panel-heading">
                <a class="collapsed" href="https://certification.symfony.com/">Certification</a>
            </div>
        </div>
    </div>


                                                                <div class="ads m-b-30">
            <div class="ad m-b-15" id="ad_trainings_1">
            <h3>
                <a href="https://training.sensiolabs.com/en/courses?q=symfony" data-tracked data-category="Ads" data-action="Ads" data-label="trainings_1">
                    Master Symfony fundamentals
                </a>
            </h3>
            <div>Be trained by SensioLabs experts (2 to 6 day sessions -- French or English).</div>
            <div><cite>training.sensiolabs.com</cite></div>
        </div>
            <div class="ad m-b-15" id="ad_support_1">
            <h3>
                <a href="https://sensiolabs.com/en/packaged-solutions/index.html" data-tracked data-category="Ads" data-action="Ads" data-label="support_1">
                    Discover SensioLabs&#039; Professional Business Solutions
                </a>
            </h3>
            <div>Peruse our complete Symfony &amp; PHP solutions catalog for your web development needs.</div>
            <div><cite>sensiolabs.com</cite></div>
        </div>
    </div>

<div class="ads">
    
    <a href="https://blackfire.io/24-days" data-tracked data-category="Ads" data-action="sidebar" data-label="blackfire">
        <img src="/images/blackfire-profiler.png" class="m-b-15 img-responsive" alt="Blackfire Profiler Fire up your PHP Apps Performance" />
    </a>
            <a href="https://security.symfony.com" data-tracked data-category="Ads" data-action="sidebar" data-label="security-monitoring">
            <img src="/images/security-monitoring.png" class="img-responsive" alt="PHP security vulnerabilities monitoring" />
        </a>
    </div>
                                                    </aside>

                        <main class="col-sm-9">
                                                                                                                                    <ol class="breadcrumb">
                                                                                    <li class="">
                                                                                                <a href="/">Home</a>
                                            </li>
                                                                                    <li class="">
                                                                                                <a href="/doc/current/index.html">Documentation</a>
                                            </li>
                                                                                    <li class="">
                                                                                                <a href="/doc/bundles/">Bundles</a>
                                            </li>
                                                                                    <li class="">
                                                                                                <a href="/doc/current/bundles/DoctrineMongoDBBundle/index.html">DoctrineMongoDBBundle</a>
                                            </li>
                                                                            </ol>

                                    <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"\/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"\/doc\/current\/index.html","name":"Documentation"}},{"@type":"ListItem","position":3,"item":{"@id":"\/doc\/bundles\/","name":"Bundles"}},{"@type":"ListItem","position":4,"item":{"@id":"\/doc\/current\/bundles\/DoctrineMongoDBBundle\/index.html","name":"DoctrineMongoDBBundle"}}]}</script>
                                
                                    
    
    
                                                                    <h1>DoctrineMongoDBBundle</h1>
                                
                                    
    <div class="page">
        
        <div class="doc__tools clearfix">
                            <div class="doc__version">
    <div class="version__current">
        3.5 version
        <i class="pull-right icon icon--small icon--white"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1408 704q0 26-19 45l-448 448q-19 19-45 19t-45-19L403 749q-19-19-19-45t19-45 45-19h896q26 0 45 19t19 45z"/></svg></i>    </div>

            <div class="version__all version__all--narrow">
                            <strong>Maintained</strong>
                <div class="version__list">
                                            <a href="/doc/master/bundles/DoctrineMongoDBBundle/index.html">
                            4.0
                                                            <small>master</small>
                                                    </a>
                                    </div>
            
                            <strong>Unmaintained</strong>
                <div class="version__list">
                                            <a href="/doc/2.0/bundles/DoctrineMongoDBBundle/index.html">2.0</a>
                                    </div>
                    </div>
    </div>

            
                            <div class="doc__edit">
                    <a href="https://github.com/doctrine/DoctrineMongoDBBundle/edit/3.5/Resources/doc/index.rst">edit this page</a>
                </div>
                    </div>

        <div class="section" id="doctrinemongodbbundle">
<h1>DoctrineMongoDBBundle<a class="headerlink" href="#doctrinemongodbbundle" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>The <a class="reference external" href="http://www.mongodb.org/">MongoDB</a> Object Document Mapper (ODM) is much like the Doctrine2 ORM
in its philosophy and how it works. In other words, like the <a class="reference external" href="http://symfony.com/doc/current/book/doctrine.html">Doctrine2 ORM</a>,
with the Doctrine ODM, you deal only with plain PHP objects, which are then
persisted transparently to and from MongoDB.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">You can read more about the Doctrine MongoDB ODM via the project's <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/">documentation</a>.</p>
</div></div>
<p>A bundle is available that integrates the Doctrine MongoDB ODM into Symfony,
making it easy to configure and use.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">This chapter will feel a lot like the <a class="reference external" href="http://symfony.com/doc/current/book/doctrine.html">Doctrine2 ORM chapter</a>,
which talks about how the Doctrine ORM can be used to persist data to
relational databases (e.g. MySQL). This is on purpose - whether you persist
to a relational database via the ORM or MongoDB via the ODM, the philosophies
are very much the same.</p>
</div></div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To use the MongoDB ODM, you'll need two libraries provided by Doctrine and
one bundle that integrates them into Symfony.</p>
<div class="section" id="install-the-bundle-with-composer">
<h3>Install the bundle with Composer<a class="headerlink" href="#install-the-bundle-with-composer" title="Permalink to this headline">¶</a></h3>
<p>To install DoctrineMongoDBBundle with Composer just run the following command:</p>
<div class="literal-block notranslate"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>composer require doctrine/mongodb-odm-bundle
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Currently ODM works with legacy MongoDB driver (i.e. <cite>ext-mongo</cite>) which is
not compatible with PHP 7. If you have PHP 7 and/or are using new driver
(i.e. <cite>ext-mongodb</cite>) please refer to <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/introduction.html#using-php-7">&quot;Using PHP 7&quot; section</a> in ODM's documentation.</p>
</div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">This step is not required if you installed the bundle using Symfony Flex.</p>
</div></div>
<p>All that is left to do is to update your <code class="notranslate">AppKernel.php</code> file, and
register the new bundle:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/AppKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerBundles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$bundles</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// ...</span>
        <span class="k">new</span> <span class="nx">Doctrine\Bundle\MongoDBBundle\DoctrineMongoDBBundle</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Congratulations! You're ready to get to work.</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>To get started, you'll need some basic configuration that sets up the document
manager. The easiest way is to enable <code class="notranslate">auto_mapping</code>, which will activate
the MongoDB ODM across your application:</p>
<div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># app/config/parameters.yml</span>
<span class="l-Scalar-Plain">parameters</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">mongodb_server</span><span class="p-Indicator">:</span> <span class="s">&quot;mongodb://localhost:27017&quot;</span>
</pre></div>
</td></tr></table></div></div>
<div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">doctrine_mongodb</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">connections</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">server</span><span class="p-Indicator">:</span> <span class="s">&quot;%mongodb_server%&quot;</span>
            <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span> <span class="p-Indicator">{}</span>
    <span class="l-Scalar-Plain">default_database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">test_database</span>
    <span class="l-Scalar-Plain">document_managers</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">auto_mapping</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p>If you are using Symfony Flex, you can allow <cite>recipes</cite> in the &quot;contrib&quot; repository to
work with this bundle by executing the following command:</p>
<div class="literal-block notranslate"><div class="last highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>composer config extra.symfony.allow-contrib <span class="nb">true</span>
</pre></div>
</td></tr></table></div></div>
</div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Of course, you'll also need to make sure that the MongoDB server is running
in the background. For more details, see the MongoDB <a class="reference external" href="http://www.mongodb.org/display/DOCS/Quickstart">Quick Start</a> guide.</p>
</div></div>
</div>
<div class="section" id="a-simple-example-a-product">
<h2>A Simple Example: A Product<a class="headerlink" href="#a-simple-example-a-product" title="Permalink to this headline">¶</a></h2>
<p>The best way to understand the Doctrine MongoDB ODM is to see it in action.
In this section, you'll walk through each step needed to start persisting
documents to and from MongoDB.</p>
<div class="admonition-wrapper">
<div class="sidebar"></div><div class="admonition admonition-sidebar"><p class="first sidebar-title">Code along with the example</p>
<p>If you want to follow along with the example in this chapter, create
an <code class="notranslate">AcmeStoreBundle</code> via:</p>
<div class="literal-block notranslate"><div class="last highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>php bin/console generate:bundle --namespace<span class="o">=</span>Acme/StoreBundle
</pre></div>
</td></tr></table></div></div>
</div></div>
<div class="section" id="creating-a-document-class">
<h3>Creating a Document Class<a class="headerlink" href="#creating-a-document-class" title="Permalink to this headline">¶</a></h3>
<p>Suppose you're building an application where products need to be displayed.
Without even thinking about Doctrine or MongoDB, you already know that you
need a <code class="notranslate">Product</code> object to represent those products. Create this class
inside the <code class="notranslate">Document</code> directory of your <code class="notranslate">AcmeStoreBundle</code>:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/StoreBundle/Document/Product.php</span>
<span class="k">namespace</span> <span class="nx">Acme\StoreBundle\Document</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Product</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$name</span><span class="p">;</span>

    <span class="k">protected</span> <span class="nv">$price</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>The class - often called a &quot;document&quot;, meaning <em>a basic class that holds data</em> -
is simple and helps fulfill the business requirement of needing products
in your application. This class can't be persisted to Doctrine MongoDB yet -
it's just a simple PHP class.</p>
</div>
<div class="section" id="add-mapping-information">
<h3>Add Mapping Information<a class="headerlink" href="#add-mapping-information" title="Permalink to this headline">¶</a></h3>
<p>Doctrine allows you to work with MongoDB in a much more interesting way
than just fetching data back and forth as an array. Instead, Doctrine allows
you to persist entire <em>objects</em> to MongoDB and fetch entire objects out of
MongoDB. This works by mapping a PHP class and its properties to entries
of a MongoDB collection.</p>
<p>For Doctrine to be able to do this, you just have to create &quot;metadata&quot;, or
configuration that tells Doctrine exactly how the <code class="notranslate">Product</code> class and its
properties should be <em>mapped</em> to MongoDB. This metadata can be specified
in a number of different formats including YAML, XML or directly inside the
<code class="notranslate">Product</code> class via annotations:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>PHP</em><div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/StoreBundle/Document/Product.php</span>
<span class="k">namespace</span> <span class="nx">Acme\StoreBundle\Document</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Doctrine\ODM\MongoDB\Mapping\Annotations</span> <span class="k">as</span> <span class="nx">MongoDB</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * @MongoDB\Document</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">Product</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @MongoDB\Id</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$id</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @MongoDB\Field(type=&quot;string&quot;)</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$name</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * @MongoDB\Field(type=&quot;float&quot;)</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$price</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>YAML</em><div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># src/Acme/StoreBundle/Resources/config/doctrine/Product.mongodb.yml</span>
<span class="l-Scalar-Plain">Acme\StoreBundle\Document\Product</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">price</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block notranslate"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/StoreBundle/Resources/config/doctrine/Product.mongodb.xml --&gt;</span>
<span class="nt">&lt;doctrine-mongo-mapping</span> <span class="na">xmlns=</span><span class="s">&quot;http://doctrine-project.org/schemas/odm/doctrine-mongo-mapping&quot;</span>
      <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
      <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://doctrine-project.org/schemas/odm/doctrine-mongo-mapping</span>
<span class="s">                    http://doctrine-project.org/schemas/odm/doctrine-mongo-mapping.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;document</span> <span class="na">name=</span><span class="s">&quot;Acme\StoreBundle\Document\Product&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">fieldName=</span><span class="s">&quot;id&quot;</span> <span class="na">id=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">fieldName=</span><span class="s">&quot;name&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">fieldName=</span><span class="s">&quot;price&quot;</span> <span class="na">type=</span><span class="s">&quot;float&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/document&gt;</span>
<span class="nt">&lt;/doctrine-mongo-mapping&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Doctrine allows you to choose from a wide variety of different field types,
each with their own options. For information on the available field types,
see the <a class="reference internal" href="#cookbook-mongodb-field-types"><span>Doctrine Field Types Reference</span></a> section.</p>
<div class="admonition-wrapper">
<div class="seealso"></div><div class="admonition admonition-seealso">You can also check out Doctrine's <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/basic-mapping.html">Basic Mapping Documentation</a> for
all details about mapping information. If you use annotations, you'll
need to prepend all annotations with <code class="notranslate">MongoDB\</code> (e.g. <code class="notranslate">MongoDB\String</code>),
which is not shown in Doctrine's documentation. You'll also need to include
the <code class="notranslate">use Doctrine\ODM\MongoDB\Mapping\Annotations as MongoDB;</code> statement,
which <em>imports</em> the <code class="notranslate">MongoDB</code> annotations prefix.</div></div>
</div>
<div class="section" id="generating-getters-and-setters">
<h3>Generating Getters and Setters<a class="headerlink" href="#generating-getters-and-setters" title="Permalink to this headline">¶</a></h3>
<p>Even though Doctrine now knows how to persist a <code class="notranslate">Product</code> object to MongoDB
the class itself isn't really useful yet. Since <code class="notranslate">Product</code> is just a regular
PHP class, you need to create getter and setter methods (e.g. <code class="notranslate">getName()</code>,
<code class="notranslate">setName()</code>) in order to access its properties (since the properties are
<code class="notranslate">protected</code>). Fortunately, Doctrine can do this for you by running:</p>
<div class="literal-block notranslate"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>php bin/console doctrine:mongodb:generate:documents AcmeStoreBundle
</pre></div>
</td></tr></table></div></div>
<p>This command makes sure that all of the getters and setters are generated
for the <code class="notranslate">Product</code> class. This is a safe command - you can run it over and
over again: it only generates getters and setters that don't exist (i.e. it
doesn't replace your existing methods).</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Doctrine doesn't care whether your properties are <code class="notranslate">protected</code> or <code class="notranslate">private</code>,
or whether or not you have a getter or setter function for a property.
The getters and setters are generated here only because you'll need them
to interact with your PHP object.</p>
</div></div>
</div>
<div class="section" id="persisting-objects-to-mongodb">
<h3>Persisting Objects to MongoDB<a class="headerlink" href="#persisting-objects-to-mongodb" title="Permalink to this headline">¶</a></h3>
<p>Now that you have a mapped <code class="notranslate">Product</code> document complete with getter and
setter methods, you're ready to persist data to MongoDB. From inside a controller,
this is pretty easy. Add the following method to the <code class="notranslate">DefaultController</code>
of the bundle:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/StoreBundle/Controller/DefaultController.php</span>
<span class="k">use</span> <span class="nx">Acme\StoreBundle\Document\Product</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">createAction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">();</span>
    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;A Foo Bar&#39;</span><span class="p">);</span>
    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">setPrice</span><span class="p">(</span><span class="s1">&#39;19.99&#39;</span><span class="p">);</span>

    <span class="nv">$dm</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>
    <span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">persist</span><span class="p">(</span><span class="nv">$product</span><span class="p">);</span>
    <span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="s1">&#39;Created product id &#39;</span><span class="o">.</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">If you're following along with this example, you'll need to create a
route that points to this action to see it in work.</p>
</div></div>
<p>Let's walk through this example:</p>
<ul class="simple">
<li><strong>lines 8-10</strong> In this section, you instantiate and work with the <code class="notranslate">$product</code>
object like any other, normal PHP object;</li>
<li><strong>line 12</strong> This line fetches Doctrine's <em>document manager</em> object, which is
responsible for handling the process of persisting and fetching objects
to and from MongoDB;</li>
<li><strong>line 13</strong> The <code class="notranslate">persist()</code> method tells Doctrine to &quot;manage&quot; the <code class="notranslate">$product</code>
object. This does not actually cause a query to be made to MongoDB (yet);</li>
<li><strong>line 14</strong> When the <code class="notranslate">flush()</code> method is called, Doctrine looks through
all of the objects that it's managing to see if they need to be persisted
to MongoDB. In this example, the <code class="notranslate">$product</code> object has not been persisted yet,
so the document manager makes a query to MongoDB, which adds a new entry.</li>
</ul>
<p>If you are using <cite>autowiring</cite>, you can use type hinting to fetch the <code class="notranslate">doctrine_mongodb.odm.document_manager</code> service:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// App/Controller/DefaultController.php</span>
<span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Doctrine\ODM\MongoDB\DocumentManager</span> <span class="k">as</span> <span class="nx">DocumentManager</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Document\Product</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DefaultController</span> <span class="k">extends</span> <span class="nx">AbstractController</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">createProduct</span><span class="p">(</span><span class="nx">DocumentManager</span> <span class="nv">$dm</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">();</span>
        <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;A Foo Bar&#39;</span><span class="p">);</span>
        <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">setPrice</span><span class="p">(</span><span class="s1">&#39;19.99&#39;</span><span class="p">);</span>

        <span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">persist</span><span class="p">(</span><span class="nv">$product</span><span class="p">);</span>
        <span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="s1">&#39;Created product id &#39;</span><span class="o">.</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">In fact, since Doctrine is aware of all your managed objects, when you
call the <code class="notranslate">flush()</code> method, it calculates an overall changeset and executes
the most efficient operation possible.</p>
</div></div>
<p>When creating or updating objects, the workflow is always the same. In the
next section, you'll see how Doctrine is smart enough to update entries if
they already exist in MongoDB.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Doctrine provides a library that allows you to programmatically load testing
data into your project (i.e. &quot;fixture data&quot;). For information, see
<a class="reference external" href="http://symfony.com/doc/master/bundles/DoctrineFixturesBundle/index.html">DoctrineFixturesBundle</a>.</p>
</div></div>
</div>
<div class="section" id="fetching-objects-from-mongodb">
<h3>Fetching Objects from MongoDB<a class="headerlink" href="#fetching-objects-from-mongodb" title="Permalink to this headline">¶</a></h3>
<p>Fetching an object back out of MongoDB is even easier. For example, suppose
you've configured a route to display a specific <code class="notranslate">Product</code> based on its
<code class="notranslate">id</code> value:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$product</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="s1">&#39;AcmeStoreBundle:Product&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createNotFoundException</span><span class="p">(</span><span class="s1">&#39;No product found for id &#39;</span><span class="o">.</span><span class="nv">$id</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// do something, like pass the $product object into a template</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>When you query for a particular type of object, you always use what's known
as its &quot;repository&quot;. You can think of a repository as a PHP class whose only
job is to help you fetch objects of a certain class. You can access the
repository object for a document class via:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$repository</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">getManager</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="s1">&#39;AcmeStoreBundle:Product&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">The <code class="notranslate">AcmeStoreBundle:Product</code> string is a shortcut you can use anywhere
in Doctrine instead of the full class name of the document (i.e. <code class="notranslate">Acme\StoreBundle\Document\Product</code>).
As long as your document lives under the <code class="notranslate">Document</code> namespace of your bundle,
this will work.</p>
</div></div>
<p>Once you have your repository, you have access to all sorts of helpful methods:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// query by the primary key (usually &quot;id&quot;)</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>

<span class="c1">// dynamic method names to find based on a column value</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">findOneById</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">findOneByName</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>

<span class="c1">// find *all* products</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">findAll</span><span class="p">();</span>

<span class="c1">// find a group of products based on an arbitrary column value</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">findByPrice</span><span class="p">(</span><span class="mf">19.99</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Of course, you can also issue complex queries, which you'll learn more
about in the <a class="reference external" href="http://symfony.com/doc/current/book/doctrine.html#book-doctrine-queries">Querying for Objects</a> section.</p>
</div></div>
<p>You can also take advantage of the useful <code class="notranslate">findBy()</code> and <code class="notranslate">findOneBy()</code> methods
to easily fetch objects based on multiple conditions:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// query for one product matching be name and price</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">findOneBy</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">19.99</span><span class="p">));</span>

<span class="c1">// query for all products matching the name, ordered by price</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="na">findBy</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ASC&#39;</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="updating-an-object">
<h3>Updating an Object<a class="headerlink" href="#updating-an-object" title="Permalink to this headline">¶</a></h3>
<p>Once you've fetched an object from Doctrine, updating it is easy. Suppose
you have a route that maps a product id to an update action in a controller:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">updateAction</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$dm</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getManager</span><span class="p">();</span>
    <span class="nv">$product</span> <span class="o">=</span> <span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="s1">&#39;AcmeStoreBundle:Product&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createNotFoundException</span><span class="p">(</span><span class="s1">&#39;No product found for id &#39;</span><span class="o">.</span><span class="nv">$id</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;New product name!&#39;</span><span class="p">);</span>
    <span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>

    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">redirectToRoute</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Updating an object involves just three steps:</p>
<ol class="arabic simple">
<li>Fetching the object from Doctrine;</li>
<li>Modifying the object;</li>
<li>Calling <code class="notranslate">flush()</code> on the document manager.</li>
</ol>
<p>Notice that calling <code class="notranslate">$dm-&gt;persist($product)</code> isn't necessary. Recall that
this method simply tells Doctrine to manage or &quot;watch&quot; the <code class="notranslate">$product</code> object.
In this case, since you fetched the <code class="notranslate">$product</code> object from Doctrine, it's
already managed.</p>
</div>
<div class="section" id="deleting-an-object">
<h3>Deleting an Object<a class="headerlink" href="#deleting-an-object" title="Permalink to this headline">¶</a></h3>
<p>Deleting an object is very similar, but requires a call to the <code class="notranslate">remove()</code>
method of the document manager:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">remove</span><span class="p">(</span><span class="nv">$product</span><span class="p">);</span>
<span class="nv">$dm</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
<p>As you might expect, the <code class="notranslate">remove()</code> method notifies Doctrine that you'd
like to remove the given document from the MongoDB. The actual delete operation
however, isn't actually executed until the <code class="notranslate">flush()</code> method is called.</p>
</div>
</div>
<div class="section" id="querying-for-objects">
<h2>Querying for Objects<a class="headerlink" href="#querying-for-objects" title="Permalink to this headline">¶</a></h2>
<p>As you saw above, the built-in repository class allows you to query for one
or many objects based on an number of different parameters. When this is
enough, this is the easiest way to query for documents. Of course, you can
also create more complex queries.</p>
<div class="section" id="using-the-query-builder">
<h3>Using the Query Builder<a class="headerlink" href="#using-the-query-builder" title="Permalink to this headline">¶</a></h3>
<p>Doctrine's ODM ships with a query &quot;Builder&quot; object, which allows you to construct
a query for exactly which documents you want to return. If you use an IDE,
you can also take advantage of auto-completion as you type the method names.
From inside a controller:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$products</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">getManager</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">createQueryBuilder</span><span class="p">(</span><span class="s1">&#39;AcmeStoreBundle:Product&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">field</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">equals</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">sort</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;ASC&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">getQuery</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">execute</span><span class="p">()</span>
</pre></div>
</td></tr></table></div></div>
<p>In this case, 10 products with a name of &quot;foo&quot;, ordered from lowest price
to highest price are returned.</p>
<p>The <code class="notranslate">QueryBuilder</code> object contains every method necessary to build your
query. For more information on Doctrine's Query Builder, consult Doctrine's
<a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/query-builder-api.html">Query Builder</a> documentation. For a list of the available conditions you
can place on the query, see the <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/query-builder-api.html#conditional-operators">Conditional Operators</a> documentation specifically.</p>
</div>
<div class="section" id="custom-repository-classes">
<h3>Custom Repository Classes<a class="headerlink" href="#custom-repository-classes" title="Permalink to this headline">¶</a></h3>
<p>In the previous section, you began constructing and using more complex queries
from inside a controller. In order to isolate, test and reuse these queries,
it's a good idea to create a custom repository class for your document and
add methods with your query logic there.</p>
<p>To do this, add the name of the repository class to your mapping definition.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Annotations</em><div class="literal-block notranslate"><div class="highlight-php-annotations"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/StoreBundle/Document/Product.php</span>
<span class="k">namespace</span> <span class="nx">Acme\StoreBundle\Document</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Doctrine\ODM\MongoDB\Mapping\Annotations</span> <span class="k">as</span> <span class="nx">MongoDB</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * @MongoDB\Document(repositoryClass=&quot;Acme\StoreBundle\Repository\ProductRepository&quot;)</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">Product</span>
<span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>YAML</em><div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># src/Acme/StoreBundle/Resources/config/doctrine/Product.mongodb.yml</span>
<span class="l-Scalar-Plain">Acme\StoreBundle\Document\Product</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">repositoryClass</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Acme\StoreBundle\Repository\ProductRepository</span>
    <span class="c1"># ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block notranslate"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/StoreBundle/Resources/config/doctrine/Product.mongodb.xml --&gt;</span>
<span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;doctrine-mongo-mapping</span> <span class="na">xmlns=</span><span class="s">&quot;http://doctrine-project.org/schemas/odm/doctrine-mongo-mapping&quot;</span>
      <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
      <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://doctrine-project.org/schemas/odm/doctrine-mongo-mapping</span>
<span class="s">                    http://doctrine-project.org/schemas/odm/doctrine-mongo-mapping.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;document</span> <span class="na">name=</span><span class="s">&quot;Acme\StoreBundle\Document\Product&quot;</span>
            <span class="na">repository-class=</span><span class="s">&quot;Acme\StoreBundle\Repository\ProductRepository&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;/document&gt;</span>

<span class="nt">&lt;/doctrine-mong-mapping&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Doctrine can generate the repository class for you by running:</p>
<div class="literal-block notranslate"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>php bin/console doctrine:mongodb:generate:repositories AcmeStoreBundle
</pre></div>
</td></tr></table></div></div>
<p>Next, add a new method - <code class="notranslate">findAllOrderedByName()</code> - to the newly generated
repository class. This method will query for all of the <code class="notranslate">Product</code> documents,
ordered alphabetically.</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/StoreBundle/Repository/ProductRepository.php</span>
<span class="k">namespace</span> <span class="nx">Acme\StoreBundle\Repository</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Doctrine\ODM\MongoDB\DocumentRepository</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ProductRepository</span> <span class="k">extends</span> <span class="nx">DocumentRepository</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">findAllOrderedByName</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createQueryBuilder</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">sort</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;ASC&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">getQuery</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>You can use this new method just like the default finder methods of the repository:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$products</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">getManager</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">getRepository</span><span class="p">(</span><span class="s1">&#39;AcmeStoreBundle:Product&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">findAllOrderedByName</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">When using a custom repository class, you still have access to the default
finder methods such as <code class="notranslate">find()</code> and <code class="notranslate">findAll()</code>.</p>
</div></div>
</div>
</div>
<div class="section" id="doctrine-extensions-timestampable-sluggable-etc">
<h2>Doctrine Extensions: Timestampable, Sluggable, etc.<a class="headerlink" href="#doctrine-extensions-timestampable-sluggable-etc" title="Permalink to this headline">¶</a></h2>
<p>Doctrine is quite flexible, and a number of third-party extensions are available
that allow you to easily perform repeated and common tasks on your entities.
These include thing such as <em>Sluggable</em>, <em>Timestampable</em>, <em>Loggable</em>, <em>Translatable</em>,
and <em>Tree</em>.</p>
<p>For more information on how to find and use these extensions, see the cookbook
article about <a class="reference external" href="http://symfony.com/doc/current/cookbook/doctrine/common_extensions.html">using common Doctrine extensions</a>.</p>
</div>
<div class="section" id="doctrine-field-types-reference">
<span id="cookbook-mongodb-field-types"></span><h2>Doctrine Field Types Reference<a class="headerlink" href="#doctrine-field-types-reference" title="Permalink to this headline">¶</a></h2>
<p>Doctrine comes with a large number of field types available. Each of these
maps a PHP data type to a specific <a class="reference external" href="http://us.php.net/manual/en/mongo.types.php">MongoDB type</a>. The following are just <em>some</em>
of the types supported by Doctrine:</p>
<ul class="simple">
<li><code class="notranslate">boolean</code></li>
<li><code class="notranslate">date</code></li>
<li><code class="notranslate">file</code></li>
<li><code class="notranslate">float</code></li>
<li><code class="notranslate">int</code></li>
<li><code class="notranslate">string</code></li>
<li><code class="notranslate">timestamp</code></li>
</ul>
<p>For more information, see Doctrine's <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/basic-mapping.html#doctrine-mapping-types">Mapping Types documentation</a>.</p>
</div>
<div class="section" id="console-commands">
<span id="index-0"></span><h2>Console Commands<a class="headerlink" href="#console-commands" title="Permalink to this headline">¶</a></h2>
<p>The Doctrine2 ODM integration offers several console commands under the
<code class="notranslate">doctrine:mongodb</code> namespace. To view the command list you can run the console
without any arguments:</p>
<div class="literal-block notranslate"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>php bin/console
</pre></div>
</td></tr></table></div></div>
<p>A list of available command will print out, many of which start with the
<code class="notranslate">doctrine:mongodb</code> prefix. You can find out more information about any
of these commands (or any Symfony command) by running the <code class="notranslate">help</code> command.
For example, to get details about the <code class="notranslate">doctrine:mongodb:query</code> task, run:</p>
<div class="literal-block notranslate"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>php bin/console <span class="nb">help </span>doctrine:mongodb:query
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">To be able to load data fixtures into MongoDB, you will need to have the
<code class="notranslate">DoctrineFixturesBundle</code> bundle installed. To learn how to do it, read
the &quot;<a class="reference external" href="http://symfony.com/doc/master/bundles/DoctrineFixturesBundle/index.html">DoctrineFixturesBundle</a>&quot; entry of the documentation.</p>
</div></div>
</div>
<div class="section" id="index-1">
<span id="id1"></span><h2>Configuration<a class="headerlink" href="#index-1" title="Permalink to this headline">¶</a></h2>
<p>For detailed information on configuration options available when using the
Doctrine ODM, see the <a class="reference internal" href="config.html"><em>MongoDB Reference</em></a> section.</p>
<div class="section" id="registering-event-listeners-and-subscribers">
<h3>Registering Event Listeners and Subscribers<a class="headerlink" href="#registering-event-listeners-and-subscribers" title="Permalink to this headline">¶</a></h3>
<p>Doctrine allows you to register listeners and subscribers that are notified
when different events occur inside Doctrine's ODM. For more information,
see Doctrine's <a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/events.html">Event Documentation</a>.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">In addition to ODM events, you may also listen on lower-level MongoDB
events, which you'll find defined in the <code class="notranslate">Doctrine\MongoDB\Events</code> class.</p>
</div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Each connection in Doctrine has its own event manager, which is shared with
document managers tied to that connection. Listeners and subscribers may be
registered with all event managers or just one (using the connection name).</p>
</div></div>
<p>In Symfony, you can register a listener or subscriber by creating a service
and then <a class="reference external" href="http://symfony.com/doc/current/book/service_container.html#book-service-container-tags">tagging</a> it with a specific tag.</p>
<ul>
<li><p class="first"><strong>event listener</strong>: Use the <code class="notranslate">doctrine_mongodb.odm.event_listener</code> tag to
register a listener. The <code class="notranslate">event</code> attribute is required and should denote
the event on which to listen. By default, listeners will be registered with
event managers for all connections. To restrict a listener to a single
connection, specify its name in the tag's <code class="notranslate">connection</code> attribute.</p>
<p>The <code class="notranslate">priority</code> attribute, which defaults to <code class="notranslate">0</code> if omitted, may be used
to control the order that listeners are registered. Much like Symfony2's
<a class="reference external" href="http://symfony.com/doc/current/components/event_dispatcher/introduction.html">event dispatcher</a>, greater numbers will result in the listener executing
first and listeners with the same priority will be executed in the order that
they were registered with the event manager.</p>
<p>Lastly, the <code class="notranslate">lazy</code> attribute, which defaults to <code class="notranslate">false</code> if omitted, may
be used to request that the listener be lazily loaded by the event manager
when its event is dispatched.</p>
</li>
</ul>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">my_doctrine_listener</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">Acme\HelloBundle\Listener\MyDoctrineListener</span>
        <span class="c1"># ...</span>
        <span class="l-Scalar-Plain">tags</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span>  <span class="p-Indicator">{</span> <span class="nv">name</span><span class="p-Indicator">:</span> <span class="nv">doctrine_mongodb.odm.event_listener</span><span class="p-Indicator">,</span> <span class="nv">event</span><span class="p-Indicator">:</span> <span class="nv">postPersist</span> <span class="p-Indicator">}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block notranslate"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;my_doctrine_listener&quot;</span> <span class="na">class=</span><span class="s">&quot;Acme\HelloBundle\Listener\MyDoctrineListener&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;doctrine_mongodb.odm.event_listener&quot;</span> <span class="na">event=</span><span class="s">&quot;postPersist&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$definition</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Definition</span><span class="p">(</span><span class="s1">&#39;Acme\HelloBundle\Listener\MyDoctrineListener&#39;</span><span class="p">);</span>
<span class="c1">// ...</span>
<span class="nv">$definition</span><span class="o">-&gt;</span><span class="na">addTag</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb.odm.event_listener&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;event&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;postPersist&#39;</span><span class="p">,</span>
<span class="p">));</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">setDefinition</span><span class="p">(</span><span class="s1">&#39;my_doctrine_listener&#39;</span><span class="p">,</span> <span class="nv">$definition</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<ul class="simple">
<li><strong>event subscriber</strong>: Use the <code class="notranslate">doctrine_mongodb.odm.event_subscriber</code> tag
to register a subscriber. Subscribers are responsible for implementing
<code class="notranslate">Doctrine\Common\EventSubscriber</code> and a method for returning the events
they will observe. For this reason, this tag has no <code class="notranslate">event</code> attribute;
however, the <code class="notranslate">connection</code>, <code class="notranslate">priority</code> and <code class="notranslate">lazy</code> attributes are
available.</li>
</ul>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Unlike Symfony2 event listeners, Doctrine's event manager expects each
listener and subscriber to have a method name corresponding to the observed
event(s). For this reason, the aforementioned tags have no <code class="notranslate">method</code>
attribute.</p>
</div></div>
</div>
</div>
<div class="section" id="securitybundle-integration">
<h2>SecurityBundle integration<a class="headerlink" href="#securitybundle-integration" title="Permalink to this headline">¶</a></h2>
<p>A user provider is available for your MongoDB projects, working exactly the
same as the <cite>entity</cite> provider described in <a class="reference external" href="http://symfony.com/doc/current/cookbook/security/entity_provider.html">the cookbook</a>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">providers</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">my_mongo_provider</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">mongodb</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span><span class="nv">class</span><span class="p-Indicator">:</span> <span class="nv">Acme\DemoBundle\Document\User</span><span class="p-Indicator">,</span> <span class="nv">property</span><span class="p-Indicator">:</span> <span class="nv">username</span><span class="p-Indicator">}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block notranslate"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- app/config/security.xml --&gt;</span>
<span class="nt">&lt;config&gt;</span>
    <span class="nt">&lt;provider</span> <span class="na">name=</span><span class="s">&quot;my_mongo_provider&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;mongodb</span> <span class="na">class=</span><span class="s">&quot;Acme\DemoBundle\Document\User&quot;</span> <span class="na">property=</span><span class="s">&quot;username&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/provider&gt;</span>
<span class="nt">&lt;/config&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
<div class="section" id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>This bundle provides a <code class="notranslate">Unique</code> constraint, which extends the <a class="reference external" href="http://symfony.com/doc/current/reference/constraints/UniqueEntity.html">UniqueEntity</a>
constraint provided by Symfony's Doctrine bridge. This constraint allows you to
validate the uniqueness of an document field against the database.</p>
<p>The <code class="notranslate">Unique</code> constraint shares the same options as <a class="reference external" href="http://symfony.com/doc/current/reference/constraints/UniqueEntity.html">UniqueEntity</a>, which
means that the <code class="notranslate">em</code> option should be used if you wish to specify the document
manager explicitly instead of having it be inferred from the document class.</p>
</div>
<div class="section" id="using-the-abstraction-layer">
<h2>Using the Abstraction Layer<a class="headerlink" href="#using-the-abstraction-layer" title="Permalink to this headline">¶</a></h2>
<p>Doctrine provides a thin wrapper for the PHP MongoDB client class which can conveniently
be fetched from the Symfony2 service container. A similar example like the tutorial in the
<a class="reference external" href="http://www.php.net/manual/en/mongo.tutorial.php">PHP Documentation</a> might look something like this:</p>
<div class="literal-block notranslate"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// connect</span>
<span class="nv">$m</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">container</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;doctrine_mongodb.odm.default_connection&#39;</span><span class="p">);</span>

<span class="c1">// select a database</span>
<span class="nv">$db</span> <span class="o">=</span> <span class="nv">$m</span><span class="o">-&gt;</span><span class="na">selectDatabase</span><span class="p">(</span><span class="s1">&#39;comedy&#39;</span><span class="p">);</span>

<span class="c1">// select a collection (analogous to a relational database&#39;s table)</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">createCollection</span><span class="p">(</span><span class="s1">&#39;cartoons&#39;</span><span class="p">);</span>

<span class="c1">// add a record</span>
<span class="nv">$document</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span> <span class="s2">&quot;title&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Calvin and Hobbes&quot;</span><span class="p">,</span> <span class="s2">&quot;author&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Bill Watterson&quot;</span> <span class="p">);</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="nv">$document</span><span class="p">);</span>

<span class="c1">// find everything in the collection</span>
<span class="nv">$cursor</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
<div class="section" id="reusing-mongo-connection">
<h3>Reusing Mongo connection<a class="headerlink" href="#reusing-mongo-connection" title="Permalink to this headline">¶</a></h3>
<p>If you find yourself in need of <code class="notranslate">\Mongo</code> class instance i.e. to <a class="reference external" href="http://symfony.com/doc/current/cookbook/doctrine/mongodb_session_storage.html">store sessions</a>
in your Mongo database you may fetch it by defining following services:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block notranslate"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">mongo.connection</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Doctrine\MongoDB\Connection</span>
        <span class="l-Scalar-Plain">factory</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&quot;@doctrine.odm.mongodb.document_manager&quot;</span><span class="p-Indicator">,</span> <span class="nv">getConnection</span><span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">calls</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">initialize</span><span class="p-Indicator">,</span> <span class="p-Indicator">[]]</span>
    <span class="l-Scalar-Plain">mongo</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Mongo</span>
        <span class="l-Scalar-Plain">factory</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&quot;@mongo.connection&quot;</span><span class="p-Indicator">,</span> <span class="nv">getMongo</span><span class="p-Indicator">]</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block notranslate"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;services&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;mongo.connection&quot;</span> <span class="na">class=</span><span class="s">&quot;Doctrine\MongoDB\Connection&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;factory</span> <span class="na">service=</span><span class="s">&quot;doctrine.odm.mongodb.document_manager&quot;</span> <span class="na">method=</span><span class="s">&quot;getConnection&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;call</span> <span class="na">method=</span><span class="s">&quot;initialize&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;mongo&quot;</span> <span class="na">class=</span><span class="s">&quot;Doctrine\MongoDB\Connection&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;factory</span> <span class="na">service=</span><span class="s">&quot;mongo.connection&quot;</span> <span class="na">method=</span><span class="s">&quot;getMongo&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/service&gt;</span>
    <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>With Doctrine, you can focus first on your objects and how they're useful in your
application and worry about persisting to MongoDB second. This is because
Doctrine allows you to use any PHP object to hold your data and relies on
mapping metadata information to map an object's data to a MongoDB collection.</p>
<p>And even though Doctrine revolves around a simple concept, it's incredibly
powerful, allowing you to create complex queries and subscribe to events
thereby taking different actions as objects go through their persistence
lifecycle.</p>
</div>
<div class="section" id="learn-more-from-the-cookbook">
<h2>Learn more from the Cookbook<a class="headerlink" href="#learn-more-from-the-cookbook" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="form.html"><em>How to implement a simple Registration Form with MongoDB</em></a></li>
</ul>
</div>
</div>

    </div>

    <div class="m-t-30">
    <p class="text-muted">
        This work, including the code samples, is licensed under a
        <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons BY-SA 3.0</a>
        license.
    </p>
</div>

                                                    </main>
                    </div>
                            </div>
            
                            <footer>
    <section class="promos">
        <div class="container">
            <div class="row">
                <div class="col-sm-4 m-b-30">
                    <h4 class="text-accent">Latest from the Symfony Blog</h4>

                    <ul class="list--unstyled list--border m-b-30">
                                                    <li>
                                <a href="/blog/a-week-of-symfony-614-1-7-october-2018">A Week of Symfony #614 (1-7 October 2018)</a>
                                <span class="metadata block m-b-0">October 7, 2018</span>
                            </li>
                                            </ul>

                                        <h4 class="text-accent m-b-15">They Help Us Make Symfony</h4>
                                        <div class="box box--small box--white box--shadow">
                            <div class="d-flex ">
        <img class="m-r-15 avatar avatar--large " width="40" height="40"
             alt="Avatar of Tommi, a Symfony contributor"
             src="https://www.gravatar.com/avatar/c1d4603da43987291a5ceadf61d9cfde?size=80&rating=g&default=retro">

        <div class="">
            
            Thanks <strong>
                            <span class="">Tommi</span>
            
            </strong> for being a <a class="text-normal" title="List of all Symfony contributors" href="/contributors">Symfony contributor</a>.
            <small class="block m-t-5 text-muted">
                                                
                                    <strong title="1 commits">1</strong> commit
                                &middot; <strong title="4 lines of code/doc changed">4</strong> lines
            </small>
        </div>
    </div>

                    </div>
                                    </div>

                <div class="col-sm-4 m-b-30">
                    <h4 class="text-accent">Upcoming official conferences</h4>
                    <ul class="list--unstyled list--border">
                                                    <li>
                                                                    <a href="https://usa2018.live.symfony.com/">Symfony♥PHP USA 2018</a>
                                
                                <span class="metadata block m-b-0">San Francisco, CA (United States) - October 11-12, 2018</span>
                            </li>
                                                    <li>
                                                                    <a href="http://berlin2018.live.symfony.com">SymfonyLive Berlin 2018</a>
                                
                                <span class="metadata block m-b-0">Berlin (Germany) - October 24-26, 2018</span>
                            </li>
                                                    <li>
                                                                    <a href="https://lisbon2018.symfony.com/">SymfonyCon Lisbon 2018</a>
                                
                                <span class="metadata block m-b-0">Lisbon (Portugal) - December 6-8, 2018</span>
                            </li>
                                                    <li>
                                                                    SymfonyLive Paris 2019
                                
                                <span class="metadata block m-b-0">Paris (France) - March 28-29, 2019</span>
                            </li>
                                            </ul>

                                            <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"Symfony\u2665PHP USA 2018","image":"\/images\/v5\/conferences\/sflive-usa.svg","location":{"@type":"Place","address":{"@type":"PostalAddress","addressLocality":"San Francisco, CA","addressCountry":"US"}},"url":"https:\/\/usa2018.live.symfony.com\/","startDate":"2018-10-11T00:00:00+00:00","endDate":"2018-10-12T00:00:00+00:00","offers":{"@type":"Offer","url":"https:\/\/usa2018.live.symfony.com\/registration\/","availability":"https:\/\/schema.org\/InStock"}}</script>
                                            <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"SymfonyLive Berlin 2018","image":"\/images\/v5\/conferences\/sflive.svg","location":{"@type":"Place","address":{"@type":"PostalAddress","addressLocality":"Berlin","addressCountry":"DE"}},"url":"http:\/\/berlin2018.live.symfony.com","startDate":"2018-10-24T00:00:00+00:00","endDate":"2018-10-26T00:00:00+00:00","offers":{"@type":"Offer","url":"http:\/\/berlin2018.live.symfony.com\/tickets","availability":"https:\/\/schema.org\/InStock"}}</script>
                                            <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"SymfonyCon Lisbon 2018","image":"\/images\/v5\/conferences\/sfcon.svg","location":{"@type":"Place","address":{"@type":"PostalAddress","addressLocality":"Lisbon","addressCountry":"PT"}},"url":"https:\/\/lisbon2018.symfony.com\/","startDate":"2018-12-06T00:00:00+00:00","endDate":"2018-12-08T00:00:00+00:00","offers":{"@type":"Offer","url":"https:\/\/lisbon2018.symfony.com\/registration\/","availability":"https:\/\/schema.org\/InStock"}}</script>
                                            <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"SymfonyLive Paris 2019","image":"\/images\/v5\/conferences\/sflive.svg","location":{"@type":"Place","address":{"@type":"PostalAddress","addressLocality":"Paris","addressCountry":"FR"}},"startDate":"2019-03-28T00:00:00+00:00","endDate":"2019-03-29T00:00:00+00:00"}</script>
                                    </div>

                <div class="col-sm-4 m-b-30">
                    <h4 class="text-accent">Upcoming training sessions</h4>
                    <ul class="list--unstyled list--border">
            <li>
            <a href="https://training.sensiolabs.com/en/courses?q=SF4C4&amp;from=10/08/2018&amp;to=10/11/2018">Web Development with Symfony 4 on Blended Learning</a>
            <span class="metadata block m-b-0">Clichy - October 8, 2018</span>
        </li>
            <li>
            <a href="https://training.sensiolabs.com/en/courses?q=SF4C1&amp;from=10/08/2018&amp;to=10/09/2018">Getting Started with Symfony 4</a>
            <span class="metadata block m-b-0">Clichy - October 8, 2018</span>
        </li>
            <li>
            <a href="https://training.sensiolabs.com/en/courses?q=SF4C2&amp;from=10/10/2018&amp;to=10/11/2018">Mastering Symfony 4 on Blended Learning</a>
            <span class="metadata block m-b-0">Clichy - October 10, 2018</span>
        </li>
    </ul>

    <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"Web Development with Symfony 4 on Blended Learning","url":"https:\/\/training.sensiolabs.com\/en\/courses?q=SF4C4&from=10\/08\/2018&to=10\/11\/2018","startDate":"2018-10-08T00:00:00+00:00","endDate":"2018-10-11T00:00:00+00:00","location":{"@type":"Place","name":"Symfony SAS Offices","address":{"@type":"PostalAddress","addressLocality":"Clichy","addressCountry":"France"}},"offers":{"@type":"Offer","url":"https:\/\/training.sensiolabs.com\/en\/courses?q=SF4C4&from=10\/08\/2018&to=10\/11\/2018","availability":"https:\/\/schema.org\/InStock"}}</script>
    <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"Getting Started with Symfony 4","url":"https:\/\/training.sensiolabs.com\/en\/courses?q=SF4C1&from=10\/08\/2018&to=10\/09\/2018","startDate":"2018-10-08T00:00:00+00:00","endDate":"2018-10-09T00:00:00+00:00","location":{"@type":"Place","name":"Symfony SAS Offices","address":{"@type":"PostalAddress","addressLocality":"Clichy","addressCountry":"France"}},"offers":{"@type":"Offer","url":"https:\/\/training.sensiolabs.com\/en\/courses?q=SF4C1&from=10\/08\/2018&to=10\/09\/2018","availability":"https:\/\/schema.org\/InStock"}}</script>
    <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Event","name":"Mastering Symfony 4 on Blended Learning","url":"https:\/\/training.sensiolabs.com\/en\/courses?q=SF4C2&from=10\/10\/2018&to=10\/11\/2018","startDate":"2018-10-10T00:00:00+00:00","endDate":"2018-10-11T00:00:00+00:00","location":{"@type":"Place","name":"Symfony SAS Offices","address":{"@type":"PostalAddress","addressLocality":"Clichy","addressCountry":"France"}},"offers":{"@type":"Offer","url":"https:\/\/training.sensiolabs.com\/en\/courses?q=SF4C2&from=10\/10\/2018&to=10\/11\/2018","availability":"https:\/\/schema.org\/InStock"}}</script>


                    <p class="m-b-5">
                        <a class="read-more" href="https://training.sensiolabs.com/">View all sessions</a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <p class="m-t-0 m-b-30 text-small">
                <b>Symfony</b>&trade; is a trademark of Symfony SAS. <a href="/trademark">All rights reserved</a>.
            </p>

            <ul class="sitemap ">
    <li>
        <h6><a href="/what-is-symfony">What is Symfony?</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
        <li >
        <a href="/at-a-glance">
            Symfony at a Glance
                    </a>
    </li>
            <li >
        <a href="/components">
            Symfony Components
                    </a>
    </li>
            <li >
        <a href="/blog/category/case-studies">
            Case Studies
                    </a>
    </li>
            <li >
        <a href="/roadmap">
            Symfony Roadmap
                    </a>
    </li>
            <li >
        <a href="/doc/current/contributing/code/security.html">
            Security Policy
                    </a>
    </li>
            <li >
        <a href="/logo">
            Logo &amp; Screenshots
                    </a>
    </li>
            <li >
        <a href="/license">
            Trademark &amp; Licenses
                    </a>
    </li>
            <li >
        <a href="/legacy">
            symfony1 Legacy
                    </a>
    </li>
    
        </ul>
    </li>

    <li>
        <h6><a href="/doc/current/index.html">Learn Symfony</a></h6>
        <ul class="list_menu_footer list-unstyled">
                
    


    <li class="">
        <a href="/doc/current/setup.html">Getting Started</a>
    </li>
    <li class="">
        <a href="/doc/current/components/index.html">Components</a>
    </li>
    <li class="">
        <a href="/doc/current/best_practices/index.html">Best Practices</a>
    </li>
    <li class="">
        <a href="/doc/bundles/">Bundles</a>
    </li>
    <li class="">
        <a href="/doc/current/reference/index.html">Reference</a>
    </li>
    <li class="">
        <a href="https://training.sensiolabs.com/en/courses?q=symfony">Training</a>
    </li>
    <li class="">
        <a href="https://certification.symfony.com/">Certification</a>
    </li>

        </ul>
    </li>

    <li>
        <h6><a href="https://symfonycasts.com">Screencasts</a></h6>
        <ul class="list_menu_footer list-unstyled">
            <li><a href="https://symfonycasts.com/tracks/symfony">Learn Symfony</a></li>
            <li><a href="https://symfonycasts.com/tracks/php">Learn PHP</a></li>
            <li><a href="https://symfonycasts.com/tracks/javascript">Learn JavaScript</a></li>
            <li><a href="https://symfonycasts.com/tracks/drupal">Learn Drupal</a></li>
            <li><a href="https://symfonycasts.com/tracks/rest">Learn RESTful APIs</a></li>
        </ul>
    </li>

    <li>
        <h6><a href="/community">Community</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
        <li >
        <a href="https://connect.symfony.com/">
            SymfonyConnect
                    </a>
    </li>
            <li >
        <a href="/support">
            Support
                    </a>
    </li>
            <li >
        <a href="/doc/current/contributing/index.html">
            How to be Involved
                    </a>
    </li>
            <li >
        <a href="/events/">
            Events &amp; Meetups
                    </a>
    </li>
            <li >
        <a href="/projects">
            Projects using Symfony
                    </a>
    </li>
            <li >
        <a href="/stats/downloads">
            Downloads Stats
                    </a>
    </li>
            <li >
        <a href="/contributors">
            Contributors
                    </a>
    </li>
    
        </ul>
    </li>

    <li>
        <h6><a href="/blog/">Blog</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
    <li class="">
        <a href="/blog/category/a-week-of-symfony">A week of symfony</a>
    </li>
    <li class="">
        <a href="/blog/category/case-studies">Case studies</a>
    </li>
    <li class="">
        <a href="/blog/category/community">Community</a>
    </li>
    <li class="">
        <a href="/blog/category/conferences">Conferences</a>
    </li>
    <li class="">
        <a href="/blog/category/diversity">Diversity</a>
    </li>
    <li class="">
        <a href="/blog/category/documentation">Documentation</a>
    </li>
    <li class="">
        <a href="/blog/category/living-on-the-edge">Living on the edge</a>
    </li>
    <li class="">
        <a href="/blog/category/releases">Releases</a>
    </li>
    <li class="">
        <a href="/blog/category/security-advisories">Security Advisories</a>
    </li>

        </ul>
    </li>

    <li>
        <h6><a href="https://sensiolabs.com">Services</a></h6>
        <ul class="list_menu_footer list-unstyled">
            <li><a href="https://sensiolabs.com">Our services</a></li>
            <li><a href="https://training.sensiolabs.com/en">Train developers</a></li>
            <li><a href="https://insight.symfony.com/">Manage your project quality</a></li>
            <li><a href="https://blackfire.io/">Improve your project performance</a></li>
        </ul>

        <h6 class="m-t-30"><a href="/about">About</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
        <li >
        <a href="https://sensiolabs.com/en/join_us/join_us.html">
            SensioLabs
                    </a>
    </li>
            <li >
        <a href="https://sensiolabs.com/en/join_us/join_us.html">
            Careers
                    </a>
    </li>
            <li >
        <a href="/support">
            Support
                    </a>
    </li>
    
        </ul>
    </li>
</ul>


            <div class="icon__group">
                <h6 class="m-b-15">Follow Symfony</h6>
                <a href="https://github.com/symfony" title="Symfony on GitHub">
                    <i class="icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M8 0a8 8 0 0 0-8 8 8 8 0 0 0 5.47 7.59c.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.09-.202-.36-1.015.07-2.117 0 0 .67-.215 2.2.82a7.67 7.67 0 0 1 2-.27 7.67 7.67 0 0 1 2 .27c1.52-1.035 2.19-.82 2.19-.82.43 1.102.16 1.915.08 2.117a3.1 3.1 0 0 1 .82 2.147c0 3.073-1.87 3.75-3.65 3.947.28.24.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.14.46.55.38A7.972 7.972 0 0 0 16 8a8 8 0 0 0-8-8"/></svg></i>
                </a>
                <a href="https://stackoverflow.com/questions/tagged/symfony" title="Symfony on StackOverflow">
                    <i class="icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M12.658 14.577v-4.27h1.423V16H1.23v-5.693h1.42v4.27h10.006zm-8.583-1.423h7.16V11.73h-7.16v1.424zm.173-3.235l6.987 1.46.3-1.38L4.55 8.54l-.302 1.38zm.906-3.37l6.47 3.02.602-1.3-6.47-3.02-.602 1.29zm1.81-3.19l5.478 4.57.906-1.08L7.87 2.28l-.9 1.078zM10.502 0L9.338.863l4.27 5.735 1.164-.862L10.5 0z"/></svg></i>
                </a>
                <a href="/slack-invite" title="Symfony on Slack">
                    <i class="icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><g fill-rule="nonzero"><path d="M6.586 7.33l.69 2.057 2.137-.716-.69-2.05-2.137.72z"/><path d="M12.55 9.37l-1.037.347.36 1.073a.831.831 0 0 1-.814 1.092.843.843 0 0 1-.77-.566l-.36-1.072-2.14.716.36 1.072a.833.833 0 0 1-.82 1.093.843.843 0 0 1-.77-.566l-.36-1.08-1.04.35a.846.846 0 0 1-1.06-.53c-.15-.44.09-.91.52-1.05l1.04-.35L5 7.84l-1.034.35a.829.829 0 0 1-1.045-.522.834.834 0 0 1 .53-1.05l1.04-.346-.36-1.07a.832.832 0 0 1 .53-1.05c.44-.147.91.09 1.05.522l.36 1.072L8.2 5.03l-.36-1.07c-.14-.43.09-.9.526-1.05a.833.833 0 0 1 1.05.528l.36 1.08 1.037-.34a.831.831 0 0 1 1.05.52.83.83 0 0 1-.523 1.05l-1.038.35.69 2.057 1.034-.344a.833.833 0 0 1 1.05.53c.146.44-.09.91-.52 1.05zm2.78-3.57C13.68.304 11.298-.98 5.8.67.304 2.32-.98 4.7.67 10.2c1.65 5.497 4.03 6.78 9.53 5.13 5.497-1.65 6.78-4.03 5.13-9.53z"/></g></svg></i>
                </a>
                <a href="https://twitter.com/symfony" title="Symfony on Twitter">
                    <i class="icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M16 3.038a6.62 6.62 0 0 1-1.885.517 3.299 3.299 0 0 0 1.443-1.816c-.634.37-1.337.64-2.085.79a3.282 3.282 0 0 0-5.593 2.99 9.307 9.307 0 0 1-6.766-3.42A3.222 3.222 0 0 0 .67 3.75c0 1.14.58 2.143 1.46 2.732a3.278 3.278 0 0 1-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22a3.336 3.336 0 0 1-1.475.056 3.29 3.29 0 0 0 3.07 2.28 6.578 6.578 0 0 1-4.85 1.359 9.332 9.332 0 0 0 5.04 1.474c6.04 0 9.34-5 9.34-9.33 0-.14 0-.28-.01-.42a6.63 6.63 0 0 0 1.64-1.7z" fill-rule="nonzero"/></svg></i>
                </a>
                <a href="https://www.facebook.com/SymfonyFramework" title="Symfony on Facebook">
                    <i class="icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M15.117 0H.883A.883.883 0 0 0 0 .883v14.234c0 .488.395.883.883.883h7.663V9.804H6.46V7.39h2.086V5.607c0-2.066 1.262-3.19 3.106-3.19.883 0 1.642.064 1.863.094v2.16h-1.28c-1 0-1.195.48-1.195 1.18v1.54h2.39l-.31 2.42h-2.08V16h4.077a.883.883 0 0 0 .883-.883V.883A.883.883 0 0 0 15.117 0" fill-rule="nonzero"/></svg></i>
                </a>
                <a href="https://www.youtube.com/user/SensioLabs" title="Symfony on YouTube">
                    <i class="icon"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M0 7.345c0-1.294.16-2.59.16-2.59s.156-1.1.636-1.587c.608-.637 1.408-.617 1.764-.684C3.84 2.36 8 2.324 8 2.324s3.362.004 5.6.166c.314.038.996.04 1.604.678.48.486.636 1.588.636 1.588S16 6.05 16 7.346v1.258c0 1.296-.16 2.59-.16 2.59s-.156 1.102-.636 1.588c-.608.638-1.29.64-1.604.678-2.238.162-5.6.166-5.6.166s-4.16-.037-5.44-.16c-.356-.067-1.156-.047-1.764-.684-.48-.487-.636-1.587-.636-1.587S0 9.9 0 8.605v-1.26zm6.348 2.73V5.58l4.323 2.255-4.32 2.24z"/></svg></i>
                </a>
                <a href="https://medium.com/@symfony" title="Symfony on Medium">
                    <i class="icon"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.846 6.36a.928.928 0 0 0-.303-.784l-2.24-2.7v-.403H7.26l5.378 11.795 4.728-11.795H24v.403l-1.917 1.837a.561.561 0 0 0-.213.538v13.5a.561.561 0 0 0 .213.537l1.87 1.837v.403h-9.41v-.403l1.937-1.882c.19-.19.19-.246.19-.538V7.794l-5.39 13.688h-.727L4.278 7.794v9.174c-.052.386.076.774.347 1.053l2.52 3.06v.402H0v-.403l2.52-3.06c.27-.278.39-.67.326-1.052V6.36z"/></svg></i>
                </a>
                <a href="https://symfonycasts.com/" title="Symfony Screencasts">
                    <i class="icon"><svg viewBox="0 0 47 50" xmlns="http://www.w3.org/2000/svg"><path d="M9.498 15.625L23.5 9.765V40.04c-3.917-2.409-7.083-5.664-9.498-9.766-2.611-4.296-4.112-9.18-4.504-14.648zM47 12.5c0 6.706-1.24 12.858-3.72 18.457-2.155 4.688-5.027 8.79-8.617 12.305-3.003 2.93-6.137 5.045-9.4 6.347-1.176.521-2.35.521-3.526 0-3.72-1.497-7.147-3.906-10.28-7.226-3.46-3.58-6.17-7.78-8.128-12.598C1.11 24.382 0 18.62 0 12.5c0-.977.261-1.855.783-2.637.523-.781 1.24-1.334 2.155-1.66l18.8-7.812c1.175-.521 2.35-.521 3.524 0l18.8 7.812c.914.326 1.632.879 2.155 1.66.522.782.783 1.66.783 2.637zm-4.7 0L23.5 4.687 4.7 12.5c0 5.273.914 10.254 2.742 14.941 1.697 4.297 4.014 8.04 6.952 11.23 2.807 3.06 5.842 5.274 9.106 6.642 3.199-1.303 6.169-3.451 8.91-6.446 3.003-3.19 5.353-6.9 7.05-11.133 1.893-4.752 2.84-9.83 2.84-15.234z"/></svg>
</i>
                </a>
            </div>

            <div class="m-t-30 m-b-30">
                <i class="icon icon--small icon--gray-dark"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg></i>
                <a title="Toggle the website theme" href="#" id="theme-switcher" class="text-small">Switch to dark theme</a>
            </div>
            <script async>
                var themeSwitcher = document.getElementById('theme-switcher');

                if (themeSwitcher) {
                    if (localStorage.getItem('themeName') == 'dark-theme') {
                        themeSwitcher.innerText = 'Switch to light theme';
                    }

                    themeSwitcher.addEventListener('click', function(e) {
                        e.preventDefault();

                        if (document.body.classList.contains('dark-theme')) {
                            document.body.classList.remove('dark-theme');
                            localStorage.setItem('themeName', 'light-theme');
                            themeSwitcher.innerText = 'Switch to dark theme';
                        } else {
                            document.body.classList.add('dark-theme');
                            localStorage.setItem('themeName', 'dark-theme');
                            themeSwitcher.innerText = 'Switch to light theme';
                        }
                    });
                }
            </script>
        </div>
    </section>
</footer>

                    </div>
        
        <script type="text/javascript">
            // load Connect bar
            window.addEventListener('load', function () {
                var js, fjs = document.getElementsByTagName('script')[0], load = function(url, id) {
                    if (document.getElementById(id)) { return; }
                    js = document.createElement('script'); js.src = url; js.id = id;
                    fjs.parentNode.insertBefore(js, fjs);
                };
                load('https://connect.sensiolabs.com/sln.js?customize_url=https://symfony.com/sln_customiser.js', 'sln_bar');

                var s = document.createElement('link');
                s.rel = 'stylesheet';
                s.href = 'https://connect.symfony.com/css/sln.css';
                var x = document.getElementsByTagName('title')[0];
                x.parentNode.insertBefore(s, x);
            });
        </script>
            <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"b10765e88c","applicationID":"3535762","transactionName":"ZVVSYEdRWkACVEJRC1wfcVdBWVtdTHZGSDhxX15AR19YXwZFankAQXNfWkFCW18PUkQCXlteVFFNcVdHClhY","queueTime":0,"applicationTime":62,"atts":"SRJRFg9LSU4=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
</html>
