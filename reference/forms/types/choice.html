<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Поле ChoiceType (выпадающие списки, селективные кнопки, кнопки-флажки) &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/" type="text/css">
    <link rel="stylesheet" href="..\..\..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\..\..\index.html">

<link rel="stylesheet" href="..\..\..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\..\..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\..\..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="reference doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\..\..\index.html">
                    <img src="..\..\..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\..\..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\..\..\components\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\..\..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\..\..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\..\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\..\..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\..\..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Поле ChoiceType (выпадающие списки, селективные кнопки, кнопки-флажки)</a><ul>
<li><a class="reference internal" href="#id1">Пример применения</a></li>
<li><a class="reference internal" href="#id2">Продвинутый пример (с Объектами!)</a></li>
<li><a class="reference internal" href="#select-tag-checkboxes-or-radio-buttons">Select Tag, Checkboxes or Radio Buttons</a></li>
<li><a class="reference internal" href="#id3">Настраивание текста каждой опции (ярлык)</a></li>
<li><a class="reference internal" href="#form-choices-simple-grouping-ru">Группирование опций</a></li>
<li><a class="reference internal" href="#id5">Опции поля</a><ul>
<li><a class="reference internal" href="#choices">choices</a></li>
<li><a class="reference internal" href="#choice-attr">choice_attr</a></li>
<li><a class="reference internal" href="#choice-label">choice_label</a></li>
<li><a class="reference internal" href="#choice-loader">choice_loader</a></li>
<li><a class="reference internal" href="#choice-name">choice_name</a></li>
<li><a class="reference internal" href="#choice-translation-domain">choice_translation_domain</a></li>
<li><a class="reference internal" href="#choice-value">choice_value</a></li>
<li><a class="reference internal" href="#expanded">expanded</a></li>
<li><a class="reference internal" href="#group-by">group_by</a></li>
<li><a class="reference internal" href="#multiple">multiple</a></li>
<li><a class="reference internal" href="#placeholder">placeholder</a></li>
<li><a class="reference internal" href="#preferred-choices">preferred_choices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">Переопределённые опции</a><ul>
<li><a class="reference internal" href="#compound">compound</a></li>
<li><a class="reference internal" href="#empty-data">empty_data</a></li>
<li><a class="reference internal" href="#error-bubbling">error_bubbling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">Наследуемые опции</a><ul>
<li><a class="reference internal" href="#attr">attr</a></li>
<li><a class="reference internal" href="#by-reference">by_reference</a></li>
<li><a class="reference internal" href="#data">data</a></li>
<li><a class="reference internal" href="#disabled">disabled</a></li>
<li><a class="reference internal" href="#error-mapping">error_mapping</a></li>
<li><a class="reference internal" href="#inherit-data">inherit_data</a></li>
<li><a class="reference internal" href="#label">label</a></li>
<li><a class="reference internal" href="#label-attr">label_attr</a></li>
<li><a class="reference internal" href="#label-format">label_format</a></li>
<li><a class="reference internal" href="#mapped">mapped</a></li>
<li><a class="reference internal" href="#required">required</a></li>
<li><a class="reference internal" href="#translation-domain">translation_domain</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">Переменные поля</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\..\..\index.html">Документация</a></li>
                
                <li class="active">Поле ChoiceType (выпадающие списки, селективные кнопки, кнопки-флажки)</li>
            </ol>

            <div class="page">
                
  <div class="section" id="choicetype">
<span id="index-0"></span><h1>Поле ChoiceType (выпадающие списки, селективные кнопки, кнопки-флажки)<a class="headerlink" href="#choicetype" title="Permalink to this headline">¶</a></h1>
<p>Многоцелевое поле, используемое для позволения пользователю &quot;выбирать&quot; одну
или больше опций. Может быть отображено как тег <tt class="docutils literal"><code>select</code></tt>, селективные кнопки
или кнопки-флажки.</p>
<p>Чтобы использовать это поле, вы должны указать <em>либо</em> опцию <tt class="docutils literal"><code>choices</code></tt>, либо
<tt class="docutils literal"><code>choice_loader</code></tt>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%">
<col width="81%">
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Отображается как</td>
<td>может быть разными тегами (см. ниже)</td>
</tr>
<tr class="row-even"><td>Опции</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="#choices">choices</a></li>
<li><a class="reference internal" href="#choice-attr">choice_attr</a></li>
<li><a class="reference internal" href="#choice-label">choice_label</a></li>
<li><a class="reference internal" href="#choice-loader">choice_loader</a></li>
<li><a class="reference internal" href="#choice-name">choice_name</a></li>
<li><a class="reference internal" href="#choice-translation-domain">choice_translation_domain</a></li>
<li><a class="reference internal" href="#choice-value">choice_value</a></li>
<li><a class="reference internal" href="#expanded">expanded</a></li>
<li><a class="reference internal" href="#group-by">group_by</a></li>
<li><a class="reference internal" href="#multiple">multiple</a></li>
<li><a class="reference internal" href="#placeholder">placeholder</a></li>
<li><a class="reference internal" href="#preferred-choices">preferred_choices</a></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Переопределённые
опции</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="#compound">compound</a></li>
<li><a class="reference internal" href="#empty-data">empty_data</a></li>
<li><a class="reference internal" href="#error-bubbling">error_bubbling</a></li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Наследуемые
опци</td>
<td><ul class="first last simple">
<li><a class="reference internal" href="#attr">attr</a></li>
<li><a class="reference internal" href="#by-reference">by_reference</a></li>
<li><a class="reference internal" href="#data">data</a></li>
<li><a class="reference internal" href="#disabled">disabled</a></li>
<li><a class="reference internal" href="#error-mapping">error_mapping</a></li>
<li><a class="reference internal" href="#inherit-data">inherit_data</a></li>
<li><a class="reference internal" href="#label">label</a></li>
<li><a class="reference internal" href="#label-attr">label_attr</a></li>
<li><a class="reference internal" href="#label-format">label_format</a></li>
<li><a class="reference internal" href="#mapped">mapped</a></li>
<li><a class="reference internal" href="#required">required</a></li>
<li><a class="reference internal" href="#translation-domain">translation_domain</a></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Родительский тип</td>
<td><a class="reference internal" href="form.html"><em>FormType</em></a></td>
</tr>
<tr class="row-even"><td>Класс</td>
<td><tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Form/Extension/Core/Type/ChoiceType.html" title="Symfony\Component\Form\Extension\Core\Type\ChoiceType">ChoiceType</a></code></tt></td>
</tr>
</tbody>
</table>
<div class="section" id="id1">
<h2>Пример применения<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Простейший путь использования этого поля - указать варианты выбора напрямую
через опцию <tt class="docutils literal"><code>choices</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;isAttending&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span>  <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Maybe&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;Yes&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s1">&#39;No&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это создаст выпадающий список <tt class="docutils literal"><code>select</code></tt>:</p>
<img alt="../../../_images/choice-example1.png" class="align-center" src="..\..\..\_images\choice-example1.png">
<p>Если пользователь выбирает <tt class="docutils literal"><code>No</code></tt>, то форма вернёт <tt class="docutils literal"><code>false</code></tt> для этого поля. Таким же
образом, если начальные данные для этого поля - <tt class="docutils literal"><code>true</code></tt>, то будет автоматически выбран
<tt class="docutils literal"><code>Yes</code></tt>. Другими словами, <strong>значение</strong> каждого объекта - это значение, которое вы хотите
получить / установить в PHP-коде, в то время, как <strong>ключ</strong> - это то, что будет показано
пользователю.</p>
</div>
<div class="section" id="id2">
<h2>Продвинутый пример (с Объектами!)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Это поле имеет <em>много</em> опций и большинство контролируют то, как отображается поле.
В этом примере, основоположные данные - некоторый объект <tt class="docutils literal"><code>Category</code></tt>, имеющий метод
<tt class="docutils literal"><code>getName()</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">App\Entity\Category</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="k">new</span> <span class="nx">Category</span><span class="p">(</span><span class="s1">&#39;Cat1&#39;</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Category</span><span class="p">(</span><span class="s1">&#39;Cat2&#39;</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Category</span><span class="p">(</span><span class="s1">&#39;Cat3&#39;</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Category</span><span class="p">(</span><span class="s1">&#39;Cat4&#39;</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="s1">&#39;choice_label&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">(</span><span class="nv">$category</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$index</span><span class="p">)</span> <span class="p">{</span>
        <span class="sd">/** @var Category $category */</span>
        <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$category</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">());</span>
    <span class="p">},</span>
    <span class="s1">&#39;choice_attr&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">(</span><span class="nv">$category</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;category_&#39;</span><span class="o">.</span><span class="nb">strtolower</span><span class="p">(</span><span class="nv">$category</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">())];</span>
    <span class="p">},</span>

    <span class="s1">&#39;group_by&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">(</span><span class="nv">$category</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$index</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// рандомно разделить всё на 2 группы</span>
        <span class="k">return</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="s1">&#39;Group A&#39;</span> <span class="o">:</span> <span class="s1">&#39;Group B&#39;</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="s1">&#39;preferred_choices&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">(</span><span class="nv">$category</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$category</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Cat2&#39;</span> <span class="o">||</span> <span class="nv">$category</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Cat3&#39;</span><span class="p">;</span>
    <span class="p">},</span>
<span class="p">]);</span>
</pre></div>
</td></tr></table></div></div>
<p>Вы также можете настроить <a class="reference internal" href="#choice-name">choice_name</a> и <a class="reference internal" href="#choice-value">choice_value</a> каждого варианта, если
вам нужна дальнейшая HTML-настройка.</p>
</div>
<div class="section" id="select-tag-checkboxes-or-radio-buttons">
<span id="forms-reference-choice-tags-ru"></span><h2>Select Tag, Checkboxes or Radio Buttons<a class="headerlink" href="#select-tag-checkboxes-or-radio-buttons" title="Permalink to this headline">¶</a></h2>
<p>This field may be rendered as one of several different HTML fields, depending
on the <tt class="docutils literal"><code>expanded</code></tt> and <tt class="docutils literal"><code>multiple</code></tt> options:</p>
<table border="1" class="docutils">
<colgroup>
<col width="69%">
<col width="16%">
<col width="16%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Element Type</th>
<th class="head">Expanded</th>
<th class="head">Multiple</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>select tag</td>
<td><tt class="docutils literal"><code>false</code></tt></td>
<td><tt class="docutils literal"><code>false</code></tt></td>
</tr>
<tr class="row-odd"><td>select tag (with <tt class="docutils literal"><code>multiple</code></tt> attribute)</td>
<td><tt class="docutils literal"><code>false</code></tt></td>
<td><tt class="docutils literal"><code>true</code></tt></td>
</tr>
<tr class="row-even"><td>radio buttons</td>
<td><tt class="docutils literal"><code>true</code></tt></td>
<td><tt class="docutils literal"><code>false</code></tt></td>
</tr>
<tr class="row-odd"><td>checkboxes</td>
<td><tt class="docutils literal"><code>true</code></tt></td>
<td><tt class="docutils literal"><code>true</code></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h2>Настраивание текста каждой опции (ярлык)<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Обычно, ключ массива каждого объекта в опции <tt class="docutils literal"><code>choices</code></tt> используется в качестве
текста, отображаемого пользователю. Но это можно полностью настроить через опцию
<a class="reference internal" href="#choice-label">choice_label</a>. Посмотрите её, чтобы узнать больше.</p>
</div>
<div class="section" id="form-choices-simple-grouping-ru">
<span id="id4"></span><h2>Группирование опций<a class="headerlink" href="#form-choices-simple-grouping-ru" title="Permalink to this headline">¶</a></h2>
<p>Вы можете легко &quot;группировать&quot; опции, передавая массив многомерных вариантов:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;stockStatus&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Main Statuses&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;Yes&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;stock_yes&#39;</span><span class="p">,</span>
            <span class="s1">&#39;No&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;stock_no&#39;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="s1">&#39;Out of Stock Statuses&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;Backordered&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;stock_backordered&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Discontinued&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;stock_discontinued&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<img alt="../../../_images/choice-example4.png" class="align-center" src="..\..\..\_images\choice-example4.png">
<p>Чтобы сделать всё красивее, используйте опцию <a class="reference internal" href="#group-by">group_by</a>.</p>
</div>
<div class="section" id="id5">
<h2>Опции поля<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="choices">
<h3>choices<a class="headerlink" href="#choices" title="Permalink to this headline">¶</a></h3>
<p><strong>тип</strong>: <tt class="docutils literal"><code>array</code></tt> <strong>по умолчанию</strong>: <tt class="docutils literal"><code>array()</code></tt></p>
<p>Это самый базовый способ указать варианты, которые должны быть использованы
этим полем. Опция <tt class="docutils literal"><code>choices</code></tt> - это массив, где ключ массива - это ярлык объёкта,
а значение массива - это значение объекта:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;inStock&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;In Stock&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="s1">&#39;Out of Stock&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="choice-attr">
<h3>choice_attr<a class="headerlink" href="#choice-attr" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>array</code></tt>, <tt class="docutils literal"><code>callable</code></tt> or <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>array()</code></tt></p>
<p>Use this to add additional HTML attributes to each choice. This can be
an associative array where the keys match the choice keys and the values
are the attributes for each choice, a callable or a property path
(just like <a class="reference internal" href="#choice-label">choice_label</a>).</p>
<p>If an array, the keys of the <tt class="docutils literal"><code>choices</code></tt> array must be used as keys:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;attending&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Yes&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s1">&#39;No&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;Maybe&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">&#39;choice_attr&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">(</span><span class="nv">$choiceValue</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// adds a class like attending_yes, attending_no, etc</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;attending_&#39;</span><span class="o">.</span><span class="nb">strtolower</span><span class="p">(</span><span class="nv">$key</span><span class="p">)];</span>
    <span class="p">},</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="choice-label">
<span id="reference-form-choice-label-ru"></span><h3>choice_label<a class="headerlink" href="#choice-label" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>string</code></tt>, <tt class="docutils literal"><code>callable</code></tt> or <tt class="docutils literal"><code>false</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>null</code></tt></p>
<p>Normally, the array key of each item in the <tt class="docutils literal"><code>choices</code></tt> option is used as the
text that's shown to the user. The <tt class="docutils literal"><code>choice_label</code></tt> option allows you to take
more control:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;attending&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;yes&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s1">&#39;no&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;maybe&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">&#39;choice_label&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$choiceValue</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$value</span> <span class="o">==</span> <span class="nv">$choiceValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;Definitely!&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>

        <span class="c1">// or if you want to translate some key</span>
        <span class="c1">//return &#39;form.choice.&#39;.$key;</span>
    <span class="p">},</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>This method is called for <em>each</em> choice, passing you the choice <tt class="docutils literal"><code>$value</code></tt> and the
<tt class="docutils literal"><code>$key</code></tt> from the choices array (<tt class="docutils literal"><code>$index</code></tt> is related to <a class="reference internal" href="#choice-value">choice_value</a>). This
will give you:</p>
<img alt="../../../_images/choice-example2.png" class="align-center" src="..\..\..\_images\choice-example2.png">
<p>If your choice values are objects, then <tt class="docutils literal"><code>choice_label</code></tt> can also be a
<a class="reference internal" href="form.html#reference-form-option-property-path"><span>property path</span></a>. Imagine you have some
<tt class="docutils literal"><code>Status</code></tt> class with a <tt class="docutils literal"><code>getDisplayName()</code></tt> method:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;attending&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">Status</span><span class="p">(</span><span class="nx">Status</span><span class="o">::</span><span class="na">YES</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Status</span><span class="p">(</span><span class="nx">Status</span><span class="o">::</span><span class="na">NO</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Status</span><span class="p">(</span><span class="nx">Status</span><span class="o">::</span><span class="na">MAYBE</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="s1">&#39;choice_label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;displayName&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>If set to <tt class="docutils literal"><code>false</code></tt>, all the tag labels will be discarded for radio or checkbox
inputs. You can also return <tt class="docutils literal"><code>false</code></tt> from the callable to discard certain labels.</p>
</div>
<div class="section" id="choice-loader">
<h3>choice_loader<a class="headerlink" href="#choice-loader" title="Permalink to this headline">¶</a></h3>
<p><strong>тип</strong>: <tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Form/ChoiceList/Loader/ChoiceLoaderInterface.html" title="Symfony\Component\Form\ChoiceList\Loader\ChoiceLoaderInterface">ChoiceLoaderInterface</a></code></tt></p>
<p><tt class="docutils literal"><code>choice_loader</code></tt> может быть использован только для частичной загрузки вариантов
в случаях, когда загруженный полностью список не нужен. Это необходимо только в
продвинутых случаях и заменяет опцию <tt class="docutils literal"><code>choices</code></tt>.</p>
<p>Вы можете использовать экземпляр
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Form/ChoiceList/Loader/CallbackChoiceLoader.html" title="Symfony\Component\Form\ChoiceList\Loader\CallbackChoiceLoader">CallbackChoiceLoader</a></code></tt>,
если вы хотите воспользоваться преимуществами ленивой загрузки:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\ChoiceList\Loader\CallbackChoiceLoader</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;constants&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choice_loader&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">CallbackChoiceLoader</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">StaticClass</span><span class="o">::</span><span class="na">getConstants</span><span class="p">();</span>
    <span class="p">}),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это приведёт к отмене вызова <tt class="docutils literal"><code>StaticClass::getConstants()</code></tt>, если запрос перенаправлен
и если нет предварительно установленных или отправленных данных. В других случаях, опции
вариантов должны быть разрешены, запуская обратный вызов.</p>
</div>
<div class="section" id="choice-name">
<h3>choice_name<a class="headerlink" href="#choice-name" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>callable</code></tt> or <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>null</code></tt></p>
<p>Controls the internal field name of the choice. You normally don't care about this,
but in some advanced cases, you might. For example, this &quot;name&quot; becomes the index
of the choice views in the template.</p>
<p>This can be a callable or a property path. See <a class="reference internal" href="#choice-label">choice_label</a> for similar usage.
If <tt class="docutils literal"><code>null</code></tt> is used, an incrementing integer is used as the name.</p>
</div>
<div class="section" id="choice-translation-domain">
<h3>choice_translation_domain<a class="headerlink" href="#choice-translation-domain" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>string</code></tt>, <tt class="docutils literal"><code>boolean</code></tt> or <tt class="docutils literal"><code>null</code></tt></p>
<p>This option determines if the choice values should be translated and in which
translation domain.</p>
<p>The values of the <tt class="docutils literal"><code>choice_translation_domain</code></tt> option can be <tt class="docutils literal"><code>true</code></tt> (reuse the current
translation domain), <tt class="docutils literal"><code>false</code></tt> (disable translation), <tt class="docutils literal"><code>null</code></tt> (uses the parent translation
domain or the default domain) or a string which represents the exact translation
domain to use.</p>
</div>
<div class="section" id="choice-value">
<h3>choice_value<a class="headerlink" href="#choice-value" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>callable</code></tt> or <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>null</code></tt></p>
<p>Returns the string &quot;value&quot; for each choice, which must be unique across all choices.
This is used in the <tt class="docutils literal"><code>value</code></tt> attribute in HTML and submitted in the POST/PUT requests.
You don't normally need to worry about this, but it might be handy when processing
an API request (since you can configure the value that will be sent in the API request).</p>
<p>This can be a callable or a property path. If <tt class="docutils literal"><code>null</code></tt> is given, an incrementing
integer is used as the value.</p>
<p>If you pass a callable, it will receive one argument: the choice itself. When using
the <a class="reference internal" href="entity.html"><em>EntityType Field</em></a>, the argument will be the entity object
for each choice or <tt class="docutils literal"><code>null</code></tt> in some cases, which you need to handle:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s1">&#39;choice_value&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nx">MyOptionEntity</span> <span class="nv">$entity</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$entity</span> <span class="o">?</span> <span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">()</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="p">},</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="expanded">
<h3>expanded<a class="headerlink" href="#expanded" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>false</code></tt></p>
<p>If set to true, radio buttons or checkboxes will be rendered (depending
on the <tt class="docutils literal"><code>multiple</code></tt> value). If false, a select element will be rendered.</p>
</div>
<div class="section" id="group-by">
<h3>group_by<a class="headerlink" href="#group-by" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>array</code></tt>, <tt class="docutils literal"><code>callable</code></tt> or <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>null</code></tt></p>
<p>You can easily &quot;group&quot; options in a select simply by passing a multi-dimensional
array to <tt class="docutils literal"><code>choices</code></tt>. See the <a class="reference internal" href="choice.html#form-choices-simple-grouping"><span>Grouping Options</span></a>
section about that.</p>
<p>The <tt class="docutils literal"><code>group_by</code></tt> option is an alternative way to group choices, which gives you
a bit more flexibility.</p>
<p>Take the following example:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;publishAt&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;now&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;now&#39;</span><span class="p">),</span>
        <span class="s1">&#39;tomorrow&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+1 day&#39;</span><span class="p">),</span>
        <span class="s1">&#39;1 week&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+1 week&#39;</span><span class="p">),</span>
        <span class="s1">&#39;1 month&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+1 month&#39;</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="s1">&#39;group_by&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">(</span><span class="nv">$choiceValue</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$choiceValue</span> <span class="o">&lt;=</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+3 days&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;Soon&#39;</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;Later&#39;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>This groups the dates that are within 3 days into &quot;Soon&quot; and everything else into
a &quot;Later&quot; group:</p>
<img alt="../../../_images/choice-example5.png" class="align-center" src="..\..\..\_images\choice-example5.png">
<p>If you return <tt class="docutils literal"><code>null</code></tt>, the option won't be grouped. You can also pass a string
&quot;property path&quot; that will be called to get the group. See the <a class="reference internal" href="#choice-label">choice_label</a> for
details about using a property path.</p>
</div>
<div class="section" id="multiple">
<h3>multiple<a class="headerlink" href="#multiple" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>false</code></tt></p>
<p>If true, the user will be able to select multiple options (as opposed
to choosing just one option). Depending on the value of the <tt class="docutils literal"><code>expanded</code></tt>
option, this will render either a select tag or checkboxes if true and
a select tag or radio buttons if false. The returned value will be an array.</p>
</div>
<div class="section" id="placeholder">
<h3>placeholder<a class="headerlink" href="#placeholder" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>string</code></tt> or <tt class="docutils literal"><code>boolean</code></tt></p>
<p>This option determines whether or not a special &quot;empty&quot; option (e.g. &quot;Choose
an option&quot;) will appear at the top of a select widget. This option only
applies if the <tt class="docutils literal"><code>multiple</code></tt> option is set to false.</p>
<ul>
<li><p class="first">Add an empty value with &quot;Choose an option&quot; as the text:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;states&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;placeholder&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Choose an option&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><p class="first">Guarantee that no &quot;empty&quot; value option is displayed:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;states&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;placeholder&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
<p>If you leave the <tt class="docutils literal"><code>placeholder</code></tt> option unset, then a blank (with no text)
option will automatically be added if and only if the <tt class="docutils literal"><code>required</code></tt> option
is false:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="c1">// a blank (with no text) option will be added</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;states&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="preferred-choices">
<h3>preferred_choices<a class="headerlink" href="#preferred-choices" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>array</code></tt>, <tt class="docutils literal"><code>callable</code></tt> or <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>array()</code></tt></p>
<p>This option allows you to move certain choices to the top of your list with a visual
separator between them and the rest of the options. If you have a form of languages,
you can list the most popular on top, like Bork Bork and Pirate:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;language&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;English&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Spanish&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;es&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Bork&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;muppets&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Pirate&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;arr&#39;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">&#39;preferred_choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;muppets&#39;</span><span class="p">,</span> <span class="s1">&#39;arr&#39;</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>This options can also be a callback function to give you more flexibility. This might
be especially useful if your values are objects:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\ChoiceType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;publishAt&#39;</span><span class="p">,</span> <span class="nx">ChoiceType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;choices&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;now&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;now&#39;</span><span class="p">),</span>
        <span class="s1">&#39;tomorrow&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+1 day&#39;</span><span class="p">),</span>
        <span class="s1">&#39;1 week&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+1 week&#39;</span><span class="p">),</span>
        <span class="s1">&#39;1 month&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+1 month&#39;</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="s1">&#39;preferred_choices&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// prefer options within 3 days</span>
        <span class="k">return</span> <span class="nv">$value</span> <span class="o">&lt;=</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(</span><span class="s1">&#39;+3 days&#39;</span><span class="p">);</span>
    <span class="p">},</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>This will &quot;prefer&quot; the &quot;now&quot; and &quot;tomorrow&quot; choices only:</p>
<img alt="../../../_images/choice-example3.png" class="align-center" src="..\..\..\_images\choice-example3.png">
<p>Finally, if your values are objects, you can also specify a property path string
on the object that will return true or false.</p>
<p>The preferred choices are only meaningful when rendering a <tt class="docutils literal"><code>select</code></tt> element
(i.e. <tt class="docutils literal"><code>expanded</code></tt> false). The preferred choices and normal choices are separated
visually by a set of dotted lines (i.e. <tt class="docutils literal"><code>-------------------</code></tt>). This can be customized
when rendering the field:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.publishAt</span><span class="o">,</span> <span class="o">{</span> <span class="s1">&#39;separator&#39;</span><span class="o">:</span> <span class="s1">&#39;=====&#39;</span> <span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;publishAt&#39;</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span>
          <span class="s1">&#39;separator&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;=====&#39;</span>
<span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id6">
<h2>Переопределённые опции<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="compound">
<h3>compound<a class="headerlink" href="#compound" title="Permalink to this headline">¶</a></h3>
<p><strong>тип</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>по умолчанию</strong>: то же значение, что и опция <tt class="docutils literal"><code>expanded</code></tt></p>
<p>Эта опция указывает, является ли форма составной. Значение по умолчанию
переопределяется значением опции <tt class="docutils literal"><code>expanded</code></tt>.</p>
</div>
<div class="section" id="empty-data">
<h3>empty_data<a class="headerlink" href="#empty-data" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>mixed</code></tt></p>
<p>Настоящее значение этой опции по умолчанию зависит от других опций поля:</p>
<ul class="simple">
<li>Если <tt class="docutils literal"><code>multiple</code></tt> - <tt class="docutils literal"><code>false</code></tt>, а <tt class="docutils literal"><code>expanded</code></tt> - <tt class="docutils literal"><code>false</code></tt>, то <tt class="docutils literal"><code>''</code></tt>
(пустая строка);</li>
<li>Иначе - <tt class="docutils literal"><code>array()</code></tt> (пустой массив).</li>
</ul>
<p>This option determines what value the field will <em>return</em> when the submitted
value is empty (or missing). It does not set an initial value if none is
provided when the form is rendered in a view.</p>
<p>This means it helps you handling form submission with blank fields. For
example, if you want the <tt class="docutils literal"><code>name</code></tt> field to be explicitly set to <tt class="docutils literal"><code>John Doe</code></tt>
when no value is selected, you can do it like this:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;required&#39;</span>   <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s1">&#39;empty_data&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;John Doe&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>This will still render an empty text box, but upon submission the <tt class="docutils literal"><code>John Doe</code></tt>
value will be set. Use the <tt class="docutils literal"><code>data</code></tt> or <tt class="docutils literal"><code>placeholder</code></tt> options to show this
initial value in the rendered form.</p>
<p>If a form is compound, you can set <tt class="docutils literal"><code>empty_data</code></tt> as an array, object or
closure. See the <a class="reference internal" href="..\..\..\form\use_empty_data.html"><em>How to Configure empty Data for a Form Class</em></a> article for more details about
these options.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">If you want to set the <tt class="docutils literal"><code>empty_data</code></tt> option for your entire form class,
see the <a class="reference internal" href="..\..\..\form\use_empty_data.html"><em>How to Configure empty Data for a Form Class</em></a> article.</p>
</div></div>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p class="last"><a class="reference internal" href="..\..\..\form\data_transformers.html"><em>Form data transformers</em></a> will still be
applied to the <tt class="docutils literal"><code>empty_data</code></tt> value. This means that an empty string will
be cast to <tt class="docutils literal"><code>null</code></tt>. Use a custom data transformer if you explicitly want
to return the empty string.</p>
</div></div>
</div>
<div class="section" id="error-bubbling">
<h3>error_bubbling<a class="headerlink" href="#error-bubbling" title="Permalink to this headline">¶</a></h3>
<p><strong>тип</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>по умолчанию</strong>: <tt class="docutils literal"><code>false</code></tt></p>
<p>Настройте так, чтобы ошибка в этом поле была присоединена к полю, а не
к родительскому полю (в большинстве случаев - форме).</p>
</div>
</div>
<div class="section" id="id7">
<h2>Наследуемые опции<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Эти опции наследуются из <a class="reference internal" href="form.html"><em>FormType</em></a>:</p>
<div class="section" id="attr">
<h3>attr<a class="headerlink" href="#attr" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>array</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>array()</code></tt></p>
<p>If you want to add extra attributes to an HTML field representation
you can use the <tt class="docutils literal"><code>attr</code></tt> option. It's an associative array with HTML attributes
as keys. This can be useful when you need to set a custom class for some widget:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="nx">TextareaType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;attr&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tinymce&#39;</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="by-reference">
<h3>by_reference<a class="headerlink" href="#by-reference" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>true</code></tt></p>
<p>In most cases, if you have an <tt class="docutils literal"><code>author</code></tt> field, then you expect <tt class="docutils literal"><code>setAuthor()</code></tt>
to be called on the underlying object. In some cases, however, <tt class="docutils literal"><code>setAuthor()</code></tt>
may <em>not</em> be called. Setting <tt class="docutils literal"><code>by_reference</code></tt> to <tt class="docutils literal"><code>false</code></tt> ensures that the setter is
called in all cases.</p>
<p>To explain this further, here's a simple example:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\TextType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\EmailType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\FormType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createFormBuilder</span><span class="p">(</span><span class="nv">$article</span><span class="p">);</span>
<span class="nv">$builder</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nx">TextType</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="nx">FormType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;by_reference&#39;</span> <span class="o">=&gt;</span> <span class="o">?</span><span class="p">))</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nx">TextType</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">EmailType</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</td></tr></table></div></div>
<p>If <tt class="docutils literal"><code>by_reference</code></tt> is true, the following takes place behind the scenes
when you call <tt class="docutils literal"><code>submit()</code></tt> (or <tt class="docutils literal"><code>handleRequest()</code></tt>) on the form:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$article</span><span class="o">-&gt;</span><span class="na">setTitle</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span>
<span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getAuthor</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span>
<span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getAuthor</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setEmail</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Notice that <tt class="docutils literal"><code>setAuthor()</code></tt> is not called. The author is modified by reference.</p>
<p>If you set <tt class="docutils literal"><code>by_reference</code></tt> to false, submitting looks like this:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$article</span><span class="o">-&gt;</span><span class="na">setTitle</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span>
<span class="nv">$author</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getAuthor</span><span class="p">();</span>
<span class="nv">$author</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span>
<span class="nv">$author</span><span class="o">-&gt;</span><span class="na">setEmail</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span>
<span class="nv">$article</span><span class="o">-&gt;</span><span class="na">setAuthor</span><span class="p">(</span><span class="nv">$author</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>So, all that <tt class="docutils literal"><code>by_reference=false</code></tt> really does is force the framework to
call the setter on the parent object.</p>
<p>Similarly, if you're using the <a class="reference internal" href="collection.html"><em>CollectionType</em></a>
field where your underlying collection data is an object (like with
Doctrine's <tt class="docutils literal"><code>ArrayCollection</code></tt>), then <tt class="docutils literal"><code>by_reference</code></tt> must be set to <tt class="docutils literal"><code>false</code></tt>
if you need the adder and remover (e.g. <tt class="docutils literal"><code>addAuthor()</code></tt> and <tt class="docutils literal"><code>removeAuthor()</code></tt>)
to be called.</p>
</div>
<div class="section" id="data">
<h3>data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>mixed</code></tt> <strong>default</strong>: Defaults to field of the underlying structure.</p>
<p>When you create a form, each field initially displays the value of the
corresponding property of the form's domain data (e.g. if you bind an object to
the form). If you want to override this initial value for the form or
an individual field, you can set it in the data option:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\HiddenType</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;token&#39;</span><span class="p">,</span> <span class="nx">HiddenType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;data&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;abcdef&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p class="last">The <tt class="docutils literal"><code>data</code></tt> option <em>always</em> overrides the value taken from the domain data
(object) when rendering. This means the object value is also overriden when
the form edits an already persisted object, causing it to lose its
persisted value when the form is submitted.</p>
</div></div>
</div>
<div class="section" id="disabled">
<h3>disabled<a class="headerlink" href="#disabled" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt>  <strong>default</strong>: <tt class="docutils literal"><code>false</code></tt></p>
<p>If you don't want a user to modify the value of a field, you can set the
disabled option to true. Any submitted value will be ignored.</p>
</div>
<div class="section" id="error-mapping">
<h3>error_mapping<a class="headerlink" href="#error-mapping" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>array</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>array()</code></tt></p>
<p>This option allows you to modify the target of a validation error.</p>
<p>Imagine you have a custom method named <tt class="docutils literal"><code>matchingCityAndZipCode()</code></tt> that validates
whether the city and zip code match. Unfortunately, there is no &quot;matchingCityAndZipCode&quot;
field in your form, so all that Symfony can do is display the error on top
of the form.</p>
<p>With customized error mapping, you can do better: map the error to the city
field so that it displays above it:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">configureOptions</span><span class="p">(</span><span class="nx">OptionsResolver</span> <span class="nv">$resolver</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$resolver</span><span class="o">-&gt;</span><span class="na">setDefaults</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;error_mapping&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;matchingCityAndZipCode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Here are the rules for the left and the right side of the mapping:</p>
<ul class="simple">
<li>The left side contains property paths;</li>
<li>If the violation is generated on a property or method of a class, its
path is simply <tt class="docutils literal"><code>propertyName</code></tt>;</li>
<li>If the violation is generated on an entry of an <tt class="docutils literal"><code>array</code></tt> or <tt class="docutils literal"><code>ArrayAccess</code></tt>
object, the property path is <tt class="docutils literal"><code>[indexName]</code></tt>;</li>
<li>You can construct nested property paths by concatenating them, separating
properties by dots. For example: <tt class="docutils literal"><code>addresses[work].matchingCityAndZipCode</code></tt>;</li>
<li>The right side contains simply the names of fields in the form.</li>
</ul>
<p>By default, errors for any property that is not mapped will bubble up to the
parent form. You can use the dot (<tt class="docutils literal"><code>.</code></tt>) on the left side to map errors of all
unmapped properties to a particular field. For instance, to map all these
errors to the <tt class="docutils literal"><code>city</code></tt> field, use:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$resolver</span><span class="o">-&gt;</span><span class="na">setDefaults</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;error_mapping&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;.&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="inherit-data">
<h3>inherit_data<a class="headerlink" href="#inherit-data" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>false</code></tt></p>
<p>This option determines if the form will inherit data from its parent form.
This can be useful if you have a set of fields that are duplicated across
multiple forms. See <a class="reference internal" href="..\..\..\form\inherit_data_option.html"><em>How to Reduce Code Duplication with &quot;inherit_data&quot;</em></a>.</p>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p class="last">When a field has the <tt class="docutils literal"><code>inherit_data</code></tt> option set, it uses the data of
the parent form as is. This means that
<a class="reference internal" href="..\..\..\form\data_transformers.html"><em>Data Transformers</em></a> won't be
applied to that field.</p>
</div></div>
</div>
<div class="section" id="label">
<h3>label<a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: The label is &quot;guessed&quot; from the field name</p>
<p>Sets the label that will be used when rendering the field. Setting to false
will suppress the label. The label can also be directly set inside the template:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form.name</span><span class="o">,</span> <span class="s1">&#39;Your name&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span>
    <span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Your name&#39;</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
<div class="section" id="label-attr">
<h3>label_attr<a class="headerlink" href="#label-attr" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>array</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>array()</code></tt></p>
<p>Sets the HTML attributes for the <tt class="docutils literal"><code>&lt;label&gt;</code></tt> element, which will be used
when rendering the label for the field. It's an associative array with HTML
attribute as a key. This attributes can also be directly set inside the
template:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form.name</span><span class="o">,</span> <span class="s1">&#39;Your name&#39;</span><span class="o">,</span> <span class="o">{</span>
       <span class="s1">&#39;label_attr&#39;</span><span class="o">:</span> <span class="o">{</span><span class="s1">&#39;class&#39;</span><span class="o">:</span> <span class="s1">&#39;CUSTOM_LABEL_CLASS&#39;</span><span class="o">}</span>
<span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span>
    <span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Your name&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label_attr&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;CUSTOM_LABEL_CLASS&#39;</span><span class="p">))</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
<div class="section" id="label-format">
<h3>label_format<a class="headerlink" href="#label-format" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>null</code></tt></p>
<p>Configures the string used as the label of the field, in case the <tt class="docutils literal"><code>label</code></tt>
option was not set. This is useful when using
<a class="reference internal" href="../../../components/translation/usage-ru.html#translation-real-vs-keyword-messages"><span>keyword translation messages</span></a>.</p>
<p>If you're using keyword translation messages as labels, you often end up having
multiple keyword messages for the same label (e.g. <tt class="docutils literal"><code>profile_address_street</code></tt>,
<tt class="docutils literal"><code>invoice_address_street</code></tt>). This is because the label is build for each &quot;path&quot;
to a field. To avoid duplicated keyword messages, you can configure the label
format to a static value, like:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// ...</span>
<span class="nv">$profileFormBuilder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="nx">AddressType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;label_format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;form.address.%name%&#39;</span><span class="p">,</span>
<span class="p">));</span>

<span class="nv">$invoiceFormBuilder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;invoice&#39;</span><span class="p">,</span> <span class="nx">AddressType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;label_format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;form.address.%name%&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>This option is inherited by the child types. With the code above, the label of
the <tt class="docutils literal"><code>street</code></tt> field of both forms will use the <tt class="docutils literal"><code>form.address.street</code></tt> keyword
message.</p>
<p>Two variables are available in the label format:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><code>%id%</code></tt></dt>
<dd>A unique identifier for the field, consisting of the complete path to the
field and the field name (e.g. <tt class="docutils literal"><code>profile_address_street</code></tt>);</dd>
<dt><tt class="docutils literal"><code>%name%</code></tt></dt>
<dd>The field name (e.g. <tt class="docutils literal"><code>street</code></tt>).</dd>
</dl>
<p>The default value (<tt class="docutils literal"><code>null</code></tt>) results in a
<a class="reference internal" href="..\..\twig_reference.html#reference-twig-humanize-filter"><span>&quot;humanized&quot; version</span></a> of the field name.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><code>label_format</code></tt> option is evaluated in the form theme. Make sure to
update your templates in case you
<a class="reference internal" href="..\..\..\form\form_customization.html"><em>customized form theming</em></a>.</p>
</div></div>
</div>
<div class="section" id="mapped">
<h3>mapped<a class="headerlink" href="#mapped" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt>  <strong>default</strong>: <tt class="docutils literal"><code>true</code></tt></p>
<p>If you wish the field to be ignored when reading or writing to the object,
you can set the <tt class="docutils literal"><code>mapped</code></tt> option to <tt class="docutils literal"><code>false</code></tt>.</p>
</div>
<div class="section" id="required">
<h3>required<a class="headerlink" href="#required" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>boolean</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>true</code></tt></p>
<p>If true, an <a class="reference external" href="http://diveintohtml5.info/forms.html">HTML5 required attribute</a> will be rendered. The corresponding
<tt class="docutils literal"><code>label</code></tt> will also render with a <tt class="docutils literal"><code>required</code></tt> class.</p>
<p>This is superficial and independent from validation. At best, if you let
Symfony guess your field type, then the value of this option will be guessed
from your validation information.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">The required option also affects how empty data for each field is
handled. For more details, see the <a class="reference internal" href="#empty-data">empty_data</a> option.</p>
</div></div>
</div>
<div class="section" id="translation-domain">
<h3>translation_domain<a class="headerlink" href="#translation-domain" title="Permalink to this headline">¶</a></h3>
<p><strong>type</strong>: <tt class="docutils literal"><code>string</code></tt> <strong>default</strong>: <tt class="docutils literal"><code>messages</code></tt></p>
<p>In case <a class="reference internal" href="#choice-translation-domain">choice_translation_domain</a> is set to <tt class="docutils literal"><code>true</code></tt> or <tt class="docutils literal"><code>null</code></tt>, this
configures the exact translation domain that will be used for any labels or
options that are rendered for this field</p>
</div>
</div>
<div class="section" id="id8">
<h2>Переменные поля<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="26%">
<col width="13%">
<col width="61%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Переменная</th>
<th class="head">Тип</th>
<th class="head">Использование</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>multiple</td>
<td><tt class="docutils literal"><code>boolean</code></tt></td>
<td>Значение опции <a class="reference internal" href="#multiple">multiple</a>.</td>
</tr>
<tr class="row-odd"><td>expanded</td>
<td><tt class="docutils literal"><code>boolean</code></tt></td>
<td>Значение опции <a class="reference internal" href="#expanded">expanded</a>.</td>
</tr>
<tr class="row-even"><td>preferred_choices</td>
<td><tt class="docutils literal"><code>array</code></tt></td>
<td>Вложенный массив, содержащий объекты <tt class="docutils literal"><code>ChoiceView</code></tt> вариантов,
которые должны быть представлены пользователю с приоритетом.</td>
</tr>
<tr class="row-odd"><td>choices</td>
<td><tt class="docutils literal"><code>array</code></tt></td>
<td>Вложенный массив, содержащий объекты <tt class="docutils literal"><code>ChoiceView</code></tt> оставшихся
вариантов.</td>
</tr>
<tr class="row-even"><td>separator</td>
<td><tt class="docutils literal"><code>string</code></tt></td>
<td>Разделитель между группами вариантов.</td>
</tr>
<tr class="row-odd"><td>placeholder</td>
<td><tt class="docutils literal"><code>mixed</code></tt></td>
<td>Пустое значение, если его ещё нет в списке, иначе -
<tt class="docutils literal"><code>null</code></tt>.</td>
</tr>
<tr class="row-even"><td>choice_translation_domain</td>
<td><tt class="docutils literal"><code>mixed</code></tt></td>
<td><tt class="docutils literal"><code>boolean</code></tt>, <tt class="docutils literal"><code>null</code></tt> или <tt class="docutils literal"><code>string</code></tt>, чтобы определить значение
для перевода.</td>
</tr>
<tr class="row-odd"><td>is_selected</td>
<td><tt class="docutils literal"><code>callable</code></tt></td>
<td>Вызываемое, которое берёт <tt class="docutils literal"><code>ChoiceView</code></tt> и выбранное знечение(я)
и возвращает выбор выбранного значения(ий).</td>
</tr>
<tr class="row-even"><td>placeholder_in_choices</td>
<td><tt class="docutils literal"><code>boolean</code></tt></td>
<td>Есть ли пустое значение в списке вариантов.</td>
</tr>
</tbody>
</table>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Вместо этого намного быстрее использовать тест <a class="reference internal" href="..\twig_reference.html#form-twig-selectedchoice"><span>selectedchoice(selected_value)</span></a>
при использовании Twig.</p>
</div></div>
</div>
</div>


            </div>

            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>