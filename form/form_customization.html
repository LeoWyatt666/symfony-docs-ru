<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Как настроить отображение формы &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css">
    <link rel="stylesheet" href="..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\index.html">
    <link rel="up" title="Forms" href="..\forms.html">
    <link rel="next" title="How to Access Services or Config from Inside a Form" href="form_dependencies.html">
    <link rel="prev" title="How to Customize Form Rendering" href="form_customization.html">

<link rel="stylesheet" href="..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="form doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\index.html">
                    <img src="..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\components\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Как настроить отображение формы</a><ul>
<li><a class="reference internal" href="#id2">Основы отображения форм</a></li>
<li><a class="reference internal" href="#form-customization-form-themes">Что такое темы форм?</a></li>
<li><a class="reference internal" href="#form-theming-methods-ru">Темизация форм</a></li>
<li><a class="reference internal" href="#twig">Темизация форм в Twig</a><ul>
<li><a class="reference internal" href="#id5">Метод 1: Внутри того же шаблона, что и форма</a></li>
<li><a class="reference internal" href="#id6">Метод 2: Внутри отдельного шаблона</a><ul>
<li><a class="reference internal" href="#id7">Несколько шаблонов</a></li>
<li><a class="reference internal" href="#id8">Отключение использования глобально определённых тем</a></li>
<li><a class="reference internal" href="#id9">Дочерние формы</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#php">Темизация форм в PHP</a></li>
<li><a class="reference internal" href="#referencing-base-form-blocks-twig-specific">Referencing base Form Blocks (Twig specific)</a><ul>
<li><a class="reference internal" href="#referencing-blocks-from-inside-the-same-template-as-the-form">Referencing Blocks from inside the same Template as the Form</a></li>
<li><a class="reference internal" href="#id10">Ссылание на базовые блоки из внешнего шаблона</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id11">Создание настроек для всего приложения</a><ul>
<li><a class="reference internal" href="#id12">Twig</a></li>
<li><a class="reference internal" href="#id13">PHP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14">Как настроить отдельное поле</a></li>
<li><a class="reference internal" href="#form-custom-prototype">Как настроить прототип коллекции</a></li>
<li><a class="reference internal" href="#id16">Другие общие настройки</a><ul>
<li><a class="reference internal" href="#id17">Настройка вывода ошибки</a></li>
<li><a class="reference internal" href="#id18">Настройка &quot;строки формы&quot;</a></li>
<li><a class="reference internal" href="#id19">Добавление &quot;обязательного&quot; символа звёздочки в ярлыки полей</a></li>
<li><a class="reference internal" href="#id20">Добавление сообщений &quot;помощи&quot;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id21">Использование переменных формы</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\index.html">Документация</a></li>
                
                <li><a href="..\forms.html">Forms</a></li>
                
                <li class="active">Как настроить отображение формы</li>
            </ol>

            <div class="page">
                
  <div class="section" id="index-0">
<span id="id1"></span><h1>Как настроить отображение формы<a class="headerlink" href="#index-0" title="Permalink to this headline">¶</a></h1>
<p>Symfony предоставляет вам широкий выбор способов настройки отображения
формы. В этом руководстве вы узнаете, как настроить каждую возможную часть
вашей формы, с наименьшими усилиями, независимо от того, используете вы
в качестве шаблонизатора Twig или PHP.</p>
<div class="section" id="id2">
<h2>Основы отображения форм<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Вспомните, что ярлык, ошибка и HTML-виджет поля формы могут быть легко отображены
используя функцию Twig <tt class="docutils literal"><code>form_row()</code></tt> или метод PHP-помощника <tt class="docutils literal"><code>row</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_row</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">row</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Вы также можете отобразить каждую из трёх частей поля индивидуально:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>В обоих случаях, ярлык, ошибки и HTML-виджет формы отображаются, используя
набор разметок, которые поставляются в стандартной Symfony. Например, оба
вышеописанных шаблона отобразят:</p>
<div class="literal-block"><div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;form_age&quot;</span><span class="p">&gt;</span>Age<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>This field is required<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;form_age&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;form[age]&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Чтобы быстро создать прототип и протестировать форму, вы можете отобразить всю
форму с помощью одной строки:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# отображает все поля #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# отображает все поля *и* начальные и финальные теги формы #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">form</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;!--</span> <span class="nx">отображает</span> <span class="nx">все</span> <span class="nx">поля</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;!-- отображает все поля *и* начальные и финальные теги формы --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">form</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Оставшаяся часть этого рецепта объяснит, как может быть изменена каждая часть
разметки формы на разных уровнях. Чтобы узнать больше об отображении форм в
целом, смотрите <a class="reference internal" href="rendering.html"><em>How to Control the Rendering of a Form</em></a>.</p>
</div>
<div class="section" id="form-customization-form-themes">
<span id="id3"></span><h2>Что такое темы форм?<a class="headerlink" href="#form-customization-form-themes" title="Permalink to this headline">¶</a></h2>
<p>Symfony использует фрагменты форм - маленькая часть шаблона, которая
отображает только одну часть формы - чтобы отображать каждую часть формы
- ярлыки полей, ошибки, текстовые поля <tt class="docutils literal"><code>input</code></tt>, теги <tt class="docutils literal"><code>select</code></tt>, и т.д.</p>
<p>Фрагменты определяются как блоки в Twig и как файлы шаблонов в PHP.</p>
<p><em>Тема</em> - это не более, чем набор фрагментов, которые вы хотите использовать
при отображении формы. Другими словами, если вы хотите настроить одну часть
того, как отображается форма, вы импортируете <em>тему</em>, которая содержит
пользовательские настройки соответствующих фрагментов формы.</p>
<p>Symfony поставляется с некоторыми <strong>встроенными темами форм</strong>, которые определяют
каждый фрагмент, необходимый для отображения всех частей формы:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a>, оборачивает каждое поле формы внутри элемента <tt class="docutils literal"><code>&lt;div&gt;</code></tt>.</li>
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/form_table_layout.html.twig">form_table_layout.html.twig</a>, оборачивает всю форму внутри элемента <tt class="docutils literal"><code>&lt;table&gt;</code></tt> и
каждое поле формы внутри элемента <tt class="docutils literal"><code>&lt;tr&gt;</code></tt>.</li>
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/bootstrap_3_layout.html.twig">bootstrap_3_layout.html.twig</a>, оборачивается каждое поле формы внутри элемента <tt class="docutils literal"><code>&lt;div&gt;</code></tt>
с соответствующими CSS-классами, чтобы применить стили <a class="reference external" href="https://getbootstrap.com/docs/3.3/">Bootstrap 3 CSS framework</a> по
умолчанию.</li>
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/bootstrap_3_horizontal_layout.html.twig">bootstrap_3_horizontal_layout.html.twig</a>, похож на предыдущую тему, но применяеымые CSS-классы
те, которые используются для отображения форм горизонтально (т.е. ярлык и виджет в одном ряду).</li>
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/bootstrap_4_layout.html.twig">bootstrap_4_layout.html.twig</a>, то же самое, что и <tt class="docutils literal"><code>bootstrap_3_layout.html.twig</code></tt>, но обновлённый
для стилей <a class="reference external" href="https://getbootstrap.com/docs/4.0/">фреймворка Bootstrap 4 CSS</a>.</li>
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/bootstrap_4_horizontal_layout.html.twig">bootstrap_4_horizontal_layout.html.twig</a>, то же самое, что и <tt class="docutils literal"><code>bootstrap_3_horizontal_layout.html.twig</code></tt>
но обновлённый для стилей Bootstrap 4.</li>
<li><a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/foundation_5_layout.html.twig">foundation_5_layout.html.twig</a>, оборачивает каждое поле формы внутри элемента <tt class="docutils literal"><code>&lt;div&gt;</code></tt> с
соответствующими CSS-классами, чтобы применить стили <a class="reference external" href="http://foundation.zurb.com/">Foundation CSS framework</a> по умолчанию.</li>
</ul>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p class="last">Когда вы используете темы форм Bootstrap и отображаете поля вручную, вызов
<tt class="docutils literal"><code>form_label()</code></tt> для поля флажка/радио ничего не покажет. Из-за внутренних
процессов Bootstrap, ярлык уже отображён <tt class="docutils literal"><code>form_widget()</code></tt>.</p>
</div></div>
<p>В следующем разделе вы узнаете, как настроить темы, переопределим некоторые или
все её фрагменты.</p>
<p>Например, когда отображается виджет типа поля <tt class="docutils literal"><code>integer</code></tt>, генерируется поле
<tt class="docutils literal"><code>input</code></tt> <tt class="docutils literal"><code>number</code></tt>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>отображает:</p>
<div class="literal-block"><div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;form_age&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;form[age]&quot;</span> <span class="na">required</span><span class="o">=</span><span class="s">&quot;required&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;33&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Внутренне, Symfony использует фрагмент <tt class="docutils literal"><code>integer_widget</code></tt>, чтобы отобразить поле.
Это потому, что тип поля - <tt class="docutils literal"><code>integer</code></tt> и вы отображаете его <tt class="docutils literal"><code>widget</code></tt> (вместо его
<tt class="docutils literal"><code>label</code></tt> или <tt class="docutils literal"><code>errors</code></tt>).</p>
<p>В Twig это по умолчанию будет блоком <tt class="docutils literal"><code>integer_widget</code></tt> из шаблона <a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a>.</p>
<p>В PHP это скорее будет файлом <tt class="docutils literal"><code>integer_widget.html.php</code></tt>, находящимся в папке
<tt class="docutils literal"><code>FrameworkBundle/Resources/views/Form</code></tt>.</p>
<p>По умолчанию, реализация фрагмента <tt class="docutils literal"><code>integer_widget</code></tt> выглядит так:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# form_div_layout.html.twig #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;number&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;form_widget_simple&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">integer_widget</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- integer_widget.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">block</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;form_widget_simple&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$type</span> <span class="o">:</span> <span class="s2">&quot;number&quot;</span><span class="p">))</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Как вы видите, этот фрагмент сам отображает другой фрагмент - <tt class="docutils literal"><code>form_widget_simple</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# form_div_layout.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_widget_simple</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;widget_attributes&#39;</span><span class="o">)</span> <span class="cp">}}</span> <span class="cp">{%</span> <span class="k">if</span> <span class="nv">value</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">empty</span> <span class="cp">%}</span><span class="na">value</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">value</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="p">/&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">form_widget_simple</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- FrameworkBundle/Resources/views/Form/form_widget_simple.html.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;text&#39;</span> <span class="cp">?&gt;</span><span class="s">&quot;</span>
    <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$value</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="na">value</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">block</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;widget_attributes&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="p">/&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Суть в том, что фрагменты диктуют HTML-вывод каждой части формы. Чтобы настроить
вывод формы, вам просто нужно идентифицировать и переопределить правильный фрагмент.
Набор таких модификаций фрагментов форм известен как &quot;тема&quot; формы. При отображении
формы, вы можете выбрать, какую(ие) тему(ы) формы вы хотите применить.</p>
<p>В Twig, тема - это один файл щаблона, а фрагменты - блоки, определённые в этом
файле.</p>
<p>В PHP, тема - это папка, а фрагменты - индивидуальные файлы щаблона в этой папке.</p>
<div class="admonition-wrapper" id="form-customization-sidebar">
<div class="sidebar"></div><div class="admonition admonition-sidebar"><p class="first sidebar-title">Как узнать, какой блок настраивать</p>
<p>В этом примере, имя настраиваемого фрагмента - <tt class="docutils literal"><code>integer_widget</code></tt> так как вы
хотите переопределить HTML <tt class="docutils literal"><code>widget</code></tt> для всех типов поля <tt class="docutils literal"><code>integer</code></tt>. Если вам
нужно настроить поля <tt class="docutils literal"><code>textarea</code></tt>, то вы будете изменять <tt class="docutils literal"><code>textarea_widget</code></tt>.</p>
<p>Часть <tt class="docutils literal"><code>integer</code></tt> походит от имени класса: <tt class="docutils literal"><code>IntegerType</code></tt> становится <tt class="docutils literal"><code>integer</code></tt>,
что основано на стандартах.</p>
<p>Как вы можете увидеть, имя фрагмента - это комбинация типа поля и того, какая
часть поля отображается (например, <tt class="docutils literal"><code>widget</code></tt>, <tt class="docutils literal"><code>label</code></tt>, <tt class="docutils literal"><code>errors</code></tt>, <tt class="docutils literal"><code>row</code></tt>).
По существу, чтобы отобразить, как отображаются ошибки только для полей ввода
<tt class="docutils literal"><code>text</code></tt>, вам нужно настроить фрагмент <tt class="docutils literal"><code>text_errors</code></tt>.</p>
<p>Однако, чаще вы будете хотеть настроить то, как отображаются ошибки по <em>всем</em>
полям. Вы можете сделать это, настроив фрагмент <tt class="docutils literal"><code>form_errors</code></tt>. Так как тип
<tt class="docutils literal"><code>text</code></tt> расширяет тип <tt class="docutils literal"><code>form</code></tt>, компонент Формы вначале будет искать специфический
для типа фрагмент (например, <tt class="docutils literal"><code>text_errors</code></tt>) до того, как возвращаться к родительскому
имени фрагмента, если он не существует (например, <tt class="docutils literal"><code>form_errors</code></tt>).</p>
<p class="last">Чтобы получить больше информации по этой теме, смотрите <a class="reference internal" href="form_themes.html#form-template-blocks"><span>Form Fragment Naming</span></a>.</p>
</div></div>
</div>
<div class="section" id="form-theming-methods-ru">
<span id="id4"></span><h2>Темизация форм<a class="headerlink" href="#form-theming-methods-ru" title="Permalink to this headline">¶</a></h2>
<p>Чтобы увидеть мощь темизации форм, представьте, что вы хотите обернуть каждое поле
ввода <tt class="docutils literal"><code>number</code></tt> с помощью тега <tt class="docutils literal"><code>div</code></tt>. Ключом к этому является настройка фрагмента
<tt class="docutils literal"><code>integer_widget</code></tt>.</p>
</div>
<div class="section" id="twig">
<h2>Темизация форм в Twig<a class="headerlink" href="#twig" title="Permalink to this headline">¶</a></h2>
<p>При настройке блока поля формы в Twig, у вас есть два варианта того, <em>где</em> может жить
настраиваемый блок формы:</p>
<p>+--------------------------------------+-----------------------------------+----------------------------------------------==-------+
| Метод                                | Плюсы                             | Минусы                                                |
+======================================+===================================+=======================================================+
| Внутри того же шаблона, что и форма  | Быстро и легко                    | Не может быть повторно использовано в других шаблонах |
+--------------------------------------+-----------------------------------+-------------------------------------------------------+
| Внутри отдельного шаблона            | Может быть использован много раз  | Требует создание дополнительного шаблона              |
+--------------------------------------+-----------------------------------+-------------------------------------------------------+</p>
<p>Оба метода имеют одинаковый эффект, но кажды из них лучше в разных ситуациях.</p>
<div class="section" id="id5">
<h3>Метод 1: Внутри того же шаблона, что и форма<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Наиболее лёгкий способ настроить блок <tt class="docutils literal"><code>integer_widget</code></tt> - это настроить его напрямую
в шаблоне, который отображает форму.</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">_self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;integer_widget&quot;</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;number&#39;</span><span class="o">)</span> <span class="cp">%}</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;form_widget_simple&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="c">{# ... отобразить форму #}</span>

    <span class="cp">{{</span> <span class="nv">form_row</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>Ипользуя специальный тег <tt class="docutils literal"><code>{% form_theme form _self %}</code></tt>, Twig ищет внутри тех же
шаблонов любые переопределённые блоки формы. Если предположить, что поле <tt class="docutils literal"><code>form.age</code></tt>
- это тип поля <tt class="docutils literal"><code>integer</code></tt>, то когда отображается его виджет, будет использован
настраиваемый блок <tt class="docutils literal"><code>integer_widget</code></tt>.</p>
<p>Недостаток этого метода заключается в том, что настроенный блок формы не может
быть использован повторно при отображении других форм в других шаблонах. Другими
словами, этот метод наиболее полезен при настройках форм, которые относятся к
единственной форме вашего приложения. Если вы хотите использовать настройку формы
повторно в нескольких (или всех) формах вашего прилжеия, продолжайте читать следующий
раздел.</p>
</div>
<div class="section" id="id6">
<h3>Метод 2: Внутри отдельного шаблона<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Вы также можете решить разместить настраиваемый блок формы <tt class="docutils literal"><code>integer_widget</code></tt>
в отдельном шаблоне. Код и финальный результат будут одинаковыми, но теперь вы
можете использовать настройку формы повторно во многих шаблонах:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# templates/form/fields.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;integer_widget&quot;</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;number&#39;</span><span class="o">)</span> <span class="cp">%}</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;form_widget_simple&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>Теперь, когда вы содали настроенный блок формы, вам нужно сообщить Symfony,
чтобы она использовала его. Внутри шаблона, где вы отображаете вашу форму,
скажите Symfony использовать шаблон с помощью тега <tt class="docutils literal"><code>form_theme</code></tt>:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="s1">&#39;form/fields.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</td></tr></table></div></div>
<p>Когда отображается виджет <tt class="docutils literal"><code>form.age</code></tt>, Symfony будет использовать блок
<tt class="docutils literal"><code>integer_widget</code></tt> из нового шаблона, а тег <tt class="docutils literal"><code>input</code></tt> будет обёрнут в
элемент <tt class="docutils literal"><code>div</code></tt>, указаный в настроенном блоке.</p>
<div class="section" id="id7">
<h4>Несколько шаблонов<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Форма также может быть настроена путём применения нескольких шаблонов. Чтобы сделать
это, передайте имя всех щаблонов в качестве массива, используя ключевое слово <tt class="docutils literal"><code>with</code></tt>:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">with</span> <span class="o">[</span><span class="s1">&#39;common.html.twig&#39;</span><span class="o">,</span> <span class="s1">&#39;form/fields.html.twig&#39;</span><span class="o">]</span> <span class="cp">%}</span>

<span class="c">{# ... #}</span>
</pre></div>
</td></tr></table></div></div>
<p>Шаблоны также могут находиться в разных пакетах, используйте путь пространств
имён Twig, чтобы ссылаться на эти пакеты, например, <tt class="docutils literal"><code>&#64;AcmeFormExtra/form/fields.html.twig</code></tt>.</p>
</div>
<div class="section" id="id8">
<h4>Отключение использования глобально определённых тем<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Иногда вам может захотеться отключить использование глобально определённых тем форм,
чтобы иметь больше контроля над отображением формы. Вы можете захотеть этого, к примеру,
при создании интерфейса админа дляпакета, который можно установить в большом количестве
приложений Symfony (и поэтому вы не сможете контролировать, какие темы определяются глобально).</p>
<p>Вы можете сделать это, добавив ключевое слово <tt class="docutils literal"><code>only</code></tt> после списка тем форм:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">with</span> <span class="o">[</span><span class="s1">&#39;common.html.twig&#39;</span><span class="o">,</span> <span class="s1">&#39;form/fields.html.twig&#39;</span><span class="o">]</span> <span class="nv">only</span> <span class="cp">%}</span>

<span class="c">{# ... #}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p>При использовании ключевого слова <tt class="docutils literal"><code>only</code></tt>, не будут применяться никакие
из встроенных тем форм Symfony (<tt class="docutils literal"><code>form_div_layout.html.twig</code></tt>, и т.д.). Для
того, чтобы отображать ваши формы правильно, либо предоставьте полностью
функционирующую тему формы самостоятельно, либо расширьте одну из встроенных
тем формы с помощью ключевого слова Twig <tt class="docutils literal"><code>use</code></tt>, вместо <tt class="docutils literal"><code>extends</code></tt>, чтобы
повторно использовать исходное содержание темы.</p>
<div class="literal-block"><div class="last highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# templates/form/common.html.twig #}</span>
<span class="cp">{%</span> <span class="k">use</span> <span class="s2">&quot;form_div_layout.html.twig&quot;</span> <span class="cp">%}</span>

<span class="c">{# ... #}</span>
</pre></div>
</td></tr></table></div></div>
</div></div>
</div>
<div class="section" id="id9">
<h4>Дочерние формы<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>Вы также можете применить тему формы к конкретной дочери вашей формы:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form.child</span> <span class="s1">&#39;form/fields.html.twig&#39;</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>Это полезно, когда вы хотите иметь пользователькую тему для вложенной формы,
которая отличается от темы вашей главной формы. Просто укажите обе ваши темы:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="s1">&#39;form/fields.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form.child</span> <span class="s1">&#39;form/fields_child.html.twig&#39;</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>
</div>
<div class="section" id="php">
<h2>Темизация форм в PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<p>При использовании шаблонизатора PHP, единственный способ настроить фрагмент -
это создать новый файл шаблона, что похоже на второй метод, используемый в Twig.</p>
<p>Файл шаблона должен быть назван в честь фрагмента. Вы должны создать файл
<tt class="docutils literal"><code>integer_widget.html.php</code></tt>, чтобы настроить фрагмент <tt class="docutils literal"><code>integer_widget</code></tt>.</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- src/Resources/integer_widget.html.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;integer_widget&quot;</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">block</span><span class="p">(</span>
        <span class="nv">$form</span><span class="p">,</span>
        <span class="s1">&#39;form_widget_simple&#39;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$type</span> <span class="o">:</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
    <span class="p">)</span> <span class="cp">?&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Теперь, когда вы создали настраиваемый шаблон формы, вам нужно сообщить Symfony,
чтобы она использовала его. Внутри шаблона, где вы отображаете вашу форму, скажите
Symfony использовать тему, с помощью метода помощника <tt class="docutils literal"><code>setTheme()</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;:form&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>При отображении виджета <tt class="docutils literal"><code>form.age</code></tt>, Symfony будет использовать настроенный шаблон
<tt class="docutils literal"><code>integer_widget.html.php</code></tt> и тег <tt class="docutils literal"><code>input</code></tt> будет обёрнут в элемент <tt class="docutils literal"><code>div</code></tt>.</p>
<dl class="docutils">
<dt>Если вы хотите применить тему к конкретной дочерней форме, передайте её в метод</dt>
<dd><tt class="docutils literal"><code>setTheme()</code></tt>:</dd>
</dl>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;child&#39;</span><span class="p">],</span> <span class="s1">&#39;:form&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Синтаксис <tt class="docutils literal"><code>:form</code></tt> основывается на функциональных именах для шаблонов:
<tt class="docutils literal"><code>Bundle:Directory</code></tt>. Так как каталог формы живёт в каталоге <tt class="docutils literal"><code>templates/</code></tt>,
часть <tt class="docutils literal"><code>Bundle</code></tt> пуста, что приводит к <tt class="docutils literal"><code>:form</code></tt>.</p>
</div></div>
</div>
<div class="section" id="referencing-base-form-blocks-twig-specific">
<h2>Referencing base Form Blocks (Twig specific)<a class="headerlink" href="#referencing-base-form-blocks-twig-specific" title="Permalink to this headline">¶</a></h2>
<p>So far, to override a particular form block, the best method is to copy
the default block from <a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a>, paste it into a different template,
and then customize it. In many cases, you can avoid doing this by referencing
the base block when customizing it.</p>
<p>This is easy to do, but varies slightly depending on if your form block customizations
are in the same template as the form or a separate template.</p>
<div class="section" id="referencing-blocks-from-inside-the-same-template-as-the-form">
<h3>Referencing Blocks from inside the same Template as the Form<a class="headerlink" href="#referencing-blocks-from-inside-the-same-template-as-the-form" title="Permalink to this headline">¶</a></h3>
<p>Import the blocks by adding a <tt class="docutils literal"><code>use</code></tt> tag in the template where you're rendering
the form:</p>
<div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">use</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="nv">with</span> <span class="nv">integer_widget</span> <span class="nv">as</span> <span class="nv">base_integer_widget</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Now, when the blocks from <a class="reference external" href="https://github.com/symfony/symfony/blob/master/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a> are imported, the
<tt class="docutils literal"><code>integer_widget</code></tt> block is called <tt class="docutils literal"><code>base_integer_widget</code></tt>. This means that when
you redefine the <tt class="docutils literal"><code>integer_widget</code></tt> block, you can reference the default markup
via <tt class="docutils literal"><code>base_integer_widget</code></tt>:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;integer_widget&quot;</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;base_integer_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="id10">
<h3>Ссылание на базовые блоки из внешнего шаблона<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Если ваши настройки находятся во внешнем шаблоне, вы можете сослаться на базовый
блок, используя функцию Twig <tt class="docutils literal"><code>parent()</code></tt>:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# templates/form/fields.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;integer_widget&quot;</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">При использовании механизма шаблонов PHP невозможно сослаться на базовый блок.
Вам нужно вручную скопировать содержание из базового блока в ваш новый файл
шаблона.</p>
</div></div>
</div>
</div>
<div class="section" id="id11">
<h2>Создание настроек для всего приложения<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>Если вы хотите, чтобы какие-то настройки формы были глобальными для всего
вашего приложения, вы можете достичь этого, создав эти настройки во внешнем
шаблоне и потом испортировав его в вашу конфигурацию приложения.</p>
<div class="section" id="id12">
<h3>Twig<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>Используя следующую конфигурацию, любые изменённые блоки форм внутри шаблона
<tt class="docutils literal"><code>form/fields.html.twig</code></tt> будут использованы глобально при отображении формы.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/twig.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">twig</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">form_themes</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;form/fields.html.twig&#39;</span>
    <span class="c1"># ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/twig.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:twig=</span><span class="s">&quot;http://symfony.com/schema/dic/twig&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/twig</span>
<span class="s">        http://symfony.com/schema/dic/twig/twig-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;twig:config&gt;</span>
        <span class="nt">&lt;twig:form-theme&gt;</span>form/fields.html.twig<span class="nt">&lt;/twig:form-theme&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;/twig:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/twig.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;form_themes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;form/fields.html.twig&#39;</span><span class="p">,</span>
    <span class="p">),</span>

    <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>По умолчанию, Twig использует макет <em>div</em> при отображении форм. Однако, некоторые люди
могут предпочесть отображение форм в макете <em>таблицы</em>. Используйте ресурс
<tt class="docutils literal"><code>form_table_layout.html.twig</code></tt>, чтобы использовать такой макет:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/twig.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">twig</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">form_themes</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;form_table_layout.html.twig&#39;</span>
    <span class="c1"># ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/twig.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:twig=</span><span class="s">&quot;http://symfony.com/schema/dic/twig&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/twig</span>
<span class="s">        http://symfony.com/schema/dic/twig/twig-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;twig:config&gt;</span>
        <span class="nt">&lt;twig:form-theme&gt;</span>form_table_layout.html.twig<span class="nt">&lt;/twig:form-theme&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;/twig:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/twig.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;form_themes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;form_table_layout.html.twig&#39;</span><span class="p">,</span>
    <span class="p">),</span>

    <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Если вы хотите сделать измнения только в одном шаблоне, добавьте следующую строку
в ваш файл шаблона, вместо того, чтобы добавлять шаблон в качестве ресурса:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="s1">&#39;form_table_layout.html.twig&#39;</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>Отметьте, что переменная <tt class="docutils literal"><code>form</code></tt> в коде выше - это переменная просмотра формы, которую
вы передали в ваш шаблон.</p>
</div>
<div class="section" id="id13">
<h3>PHP<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>Используя следующую конфигурацию, любые настроенные фрагменты формы внутри папки
<cite>templates/form`</cite> будут использованы глобально при отображении формы.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/framework.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">framework</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">templating</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">form</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="s">&#39;App:Form&#39;</span>
    <span class="c1"># ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/framework.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony</span>
<span class="s">        http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:templating&gt;</span>
            <span class="nt">&lt;framework:form&gt;</span>
                <span class="nt">&lt;framework:resource&gt;</span>App:Form<span class="nt">&lt;/framework:resource&gt;</span>
            <span class="nt">&lt;/framework:form&gt;</span>
        <span class="nt">&lt;/framework:templating&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/framework.php</span>
<span class="c1">// PHP</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;templating&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;resources&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;App:Form&#39;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">),</span>
     <span class="p">),</span>

     <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>По умолчанию, механизм PHP использует макет <em>div</em> при отображении форм. Однако,
некоторые люди могут предпочесть отображение форм в макете <em>таблицы</em>. Используйте
ресурс <tt class="docutils literal"><code>FrameworkBundle:FormTable</code></tt>, чтобы использовать такой макет:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/framework.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">framework</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">templating</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">form</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">resources</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="s">&#39;FrameworkBundle:FormTable&#39;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/framework.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony</span>
<span class="s">        http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:templating&gt;</span>
            <span class="nt">&lt;framework:form&gt;</span>
                <span class="nt">&lt;resource&gt;</span>FrameworkBundle:FormTable<span class="nt">&lt;/resource&gt;</span>
            <span class="nt">&lt;/framework:form&gt;</span>
        <span class="nt">&lt;/framework:templating&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/framework.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;templating&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;resources&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;FrameworkBundle:FormTable&#39;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">),</span>
    <span class="p">),</span>

     <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Если вы хотите сделать измнения только в одном шаблоне, добавьте следующую строку
в ваш файл шаблона, вместо того, чтобы добавлять шаблон в качестве ресурса:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;FrameworkBundle:FormTable&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Отметьте, что переменная <tt class="docutils literal"><code>$form</code></tt> в коде выше - это переменная просмотра формы, которую
вы передали в ваш шаблон.</p>
</div>
</div>
<div class="section" id="id14">
<h2>Как настроить отдельное поле<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>До этого моменты, вы видели разные способы настройки вывода виджета всех типов
текстовых полей. Вы также можете настраивать отдельные поля. Например, представьте,
что у вас есть два поля <tt class="docutils literal"><code>text</code></tt> в форме <tt class="docutils literal"><code>product</code></tt> - <tt class="docutils literal"><code>name</code></tt> и <tt class="docutils literal"><code>description</code></tt> -
но вы хотите настроить только одно из них. Это можно сделать, настроит фрагмент,
имя которого является комбинацией атрибута поля <tt class="docutils literal"><code>id</code></tt> и указания того, какая часть
поля будет настроена. Например, чтобы настроить только поле <tt class="docutils literal"><code>name</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">_self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">_product_name_widget</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;text_widget&quot;</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;form_widget_simple&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.name</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Главный шаблон --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;:form&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span>

<span class="c">&lt;!-- src/Resources/_product_name_widget.html.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;text_widget&quot;</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">block</span><span class="p">(</span><span class="s1">&#39;form_widget_simple&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Здесь, фрагмент <tt class="docutils literal"><code>_product_name_widget</code></tt> определяет, какой шаблон использоваться для поля,
<em>id</em> которого - <tt class="docutils literal"><code>product_name</code></tt> (а имя - <tt class="docutils literal"><code>product[name]</code></tt>).</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p>Часть поля <tt class="docutils literal"><code>product</code></tt> - это имя формы, которое может быть установлено
вручную или сгенерированно автоматически, в зависимости от имения типа
вашей формы (например, <tt class="docutils literal"><code>ProductType</code></tt> приравнивается к <tt class="docutils literal"><code>product</code></tt>).
Если вы не уверены в имени вашей формы, просто посмотрите источник вашей
сгенерированной формы.</p>
<p>Если вы хотите изменить часть <tt class="docutils literal"><code>product</code></tt> или <tt class="docutils literal"><code>name</code></tt> в имени блока
<tt class="docutils literal"><code>_product_name_widget</code></tt>, то вы можете установить опцию <tt class="docutils literal"><code>block_name</code></tt>
в вашем типе формы:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Form\FormBuilderInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\TextType</span><span class="p">;</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">buildForm</span><span class="p">(</span><span class="nx">FormBuilderInterface</span> <span class="nv">$builder</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$options</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nx">TextType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;block_name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;custom_name&#39;</span><span class="p">,</span>
    <span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p class="last">Тогда имя блока будет <tt class="docutils literal"><code>_product_custom_name_widget</code></tt>.</p>
</div></div>
<p>Вы также можете переопределить разметку всей строки поля, используя такой же метод:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">_self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">_product_name_row</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;name_row&quot;</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">form_row</span><span class="o">(</span><span class="nv">form.name</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Главный шаблон --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;:form&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">row</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span>

<span class="c">&lt;!-- app/Resources/views/form/_product_name_row.html.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;name_row&quot;</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
<div class="section" id="form-custom-prototype">
<span id="id15"></span><h2>Как настроить прототип коллекции<a class="headerlink" href="#form-custom-prototype" title="Permalink to this headline">¶</a></h2>
<p>При использовании <a class="reference internal" href="form_collections.html"><em>коллекции форм</em></a>, прототип
может быть переопределён полностью настроенным вами прототипом, путём переопределения
блока. Например, если ваше поле формы называется <tt class="docutils literal"><code>tasks</code></tt>, вы сможете изменить
виджет каждой задачи (task) следующим образом:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">_self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">_tasks_entry_widget</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.task</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.dueDate</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- src/Resources/views/Form/_tasks_entry_widget.html.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">task</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">dueDate</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Вы можете не только переопределить отображённый виджет, но также изменить
полностью строку формы или ярлык. Для данного выше поля <tt class="docutils literal"><code>tasks</code></tt>, имена
блоков будут такими:</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%">
<col width="59%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Часть формы</th>
<th class="head">Имя блока</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><code>label</code></tt></td>
<td><tt class="docutils literal"><code>_tasks_entry_label</code></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><code>widget</code></tt></td>
<td><tt class="docutils literal"><code>_tasks_entry_widget</code></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><code>row</code></tt></td>
<td><tt class="docutils literal"><code>_tasks_entry_row</code></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h2>Другие общие настройки<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<p>До этого момента, здесь было показано несколько разных способов настроить одну
часть того, как отображается форма. Главное - настроить конкретный фрагмент, который
соответствует части формы, которую вы хотите контролировать (смотрите
<a class="reference internal" href="#form-customization-sidebar"><span>именование блоков формы</span></a>).</p>
<p>В следующих разделах, вы увидите, как вы можете сделать несколько общих настроек формы.
Чтобы применить эти настройки, используйте один из методов, описанных в разделе
<a class="reference internal" href="form_customization.html#form-theming-methods"><span>Form Theming</span></a> section.</p>
<div class="section" id="id17">
<h3>Настройка вывода ошибки<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Компонент Формы работает только с тем <em>как</em> отображаются ошибки валидации,
а не с самими сообщениями об ошибке валидации. Сообщения об ошибках определяются
ограничениями валидации, которые вы применяете к вашим объектам. Чтобы узнать
больше, смотрите статью о <a class="reference internal" href="..\validation.html"><em>ваидации</em></a>.</p>
</div></div>
<p>Существует множество разных способов настроить то, как отображаются ошибки,
когда форма отправлена с ошибками. Сообщения об ошибке поля отображаются,
когда вы используете помощник``form_errors()``:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>По умолчанию, ошибки отображаются в виде неупорядоченного списка:</p>
<div class="literal-block"><div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>This field is required<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Чтобы переопределить то, как отображаются ошибки для <em>всех</em> полей, просто
скопируйте, вставьте и настройте фрагмент <tt class="docutils literal"><code>form_errors</code></tt>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">_self</span> <span class="cp">%}</span>

<span class="c">{# form_errors.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_errors</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">errors</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="k">in</span> <span class="nv">errors</span> <span class="cp">%}</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">error.message</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">form_errors</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- form_errors.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$errors</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Смотрите <a class="reference internal" href="form_customization.html#form-theming-methods"><span>Form Theming</span></a>, чтобы узнать, как применить эту настройку.</p>
</div></div>
<p>Вы также можете настроить вывод ошибок только для одного конкретного поля. Чтобы
настроить <em>только</em> разметку, используемую для этих ошибок, следуйте тем же инструкциям,
что и выше, но поместите содержимое в относительный блок <tt class="docutils literal"><code>_errors</code></tt> (или файл, в
случае PHP-шаблонов). Например, <tt class="docutils literal"><code>text_errors</code></tt> (или <tt class="docutils literal"><code>text_errors.html.php</code></tt>).</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Смотрите <a class="reference internal" href="form_themes.html#form-template-blocks"><span>Form Fragment Naming</span></a>, чтобы узнать, какой именно блок или файл вам
нужно настроить.</p>
</div></div>
<p>Некоторые ошибки, более глобальные для вашей формы (т.е. не относятся конкретно к одному
полю), отображаются отдельно, обычно сверху в вашей форме:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$form</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Чтобы настроить <em>только</em> разметку, используемую для этих ошибок, следуйте тем
же инструкциям, что и выше, но проверьте, установлена ли переменная <tt class="docutils literal"><code>compound</code></tt>,
как <tt class="docutils literal"><code>true</code></tt>, это означает, что то, что сейчас отображается - является коллекцией
полей (например, целой формой). а не просто отдельным полем.</p>
<div class="configuration-block">
<ul class="simple">
</ul>
</div>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="nv">_self</span> <span class="cp">%}</span>

<span class="c">{# form_errors.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_errors</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">errors</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span>
            <span class="cp">{%</span> <span class="k">if</span> <span class="nv">compound</span> <span class="cp">%}</span>
                <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
                    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="k">in</span> <span class="nv">errors</span> <span class="cp">%}</span>
                        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">error.message</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
                <span class="c">{# ... отобразить ошибки для одного поля #}</span>
            <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">form_errors</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- form_errors.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$errors</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$compound</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$error</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="c">&lt;!-- ... отобразить ошибки для одного поля --&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
<div class="section" id="id18">
<h3>Настройка &quot;строки формы&quot;<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>Когда вы научитесь с этим управляться, наиболее простым способом отобразить
поле формы будет через функцию <tt class="docutils literal"><code>form_row()</code></tt>, которая отображает ярлык, ошибки
и HTML-виджет поля. Чтобы настроить разметку, используемую для отображения <em>всех</em>
строк полей формы, переопределите фрагмент <tt class="docutils literal"><code>form_row</code></tt>. Например, представьте, что
вы хотите добавить класс к элементу <tt class="docutils literal"><code>div</code></tt> в каждой строке:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# form_row.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_row</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form_row&quot;</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">form_row</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- form_row.html.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form_row&quot;</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Смотрите <a class="reference internal" href="form_customization.html#form-theming-methods"><span>Form Theming</span></a>, чтобы узнать, как применить эту настройку.</p>
</div></div>
</div>
<div class="section" id="id19">
<h3>Добавление &quot;обязательного&quot; символа звёздочки в ярлыки полей<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>Если вы хотите обозначить все ваши обязательные поля с помощью символя звёздочки
(<tt class="docutils literal"><code>*</code></tt>), вы можете сделать это, настроив фрагмент <tt class="docutils literal"><code>form_label</code></tt>.</p>
<p>В Twig, если делаете настройку формы внутри того же шаблона, что и ваша форма,
модифицируйте тег <tt class="docutils literal"><code>use</code></tt> и добавьте следующее:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">use</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="nv">with</span> <span class="nv">form_label</span> <span class="nv">as</span> <span class="nv">base_form_label</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_label</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;base_form_label&#39;</span><span class="o">)</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">required</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;required&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;This field is required&quot;</span><span class="p">&gt;</span>*<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>В Twig, если вы делаете настройку формы в отдельном шаблоне, используйте
следующее:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_label</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">required</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;required&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;This field is required&quot;</span><span class="p">&gt;</span>*<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>При использовании механизма шаблонов PHP, вам нужно скопировать содержание из
первоисходного шаблона:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- form_label.html.php --&gt;</span>

<span class="c">&lt;!-- оригинальное содержимое --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$required</span><span class="p">)</span> <span class="p">{</span> <span class="nv">$label_attr</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">trim</span><span class="p">((</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$label_attr</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$label_attr</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="s1">&#39; required&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$compound</span><span class="p">)</span> <span class="p">{</span> <span class="nv">$label_attr</span><span class="p">[</span><span class="s1">&#39;for&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$id</span><span class="p">;</span> <span class="p">}</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$label</span><span class="p">)</span> <span class="p">{</span> <span class="nv">$label</span> <span class="o">=</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">humanize</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span> <span class="p">}</span> <span class="cp">?&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$label_attr</span> <span class="k">as</span> <span class="nv">$k</span> <span class="o">=&gt;</span> <span class="nv">$v</span><span class="p">)</span> <span class="p">{</span> <span class="nb">printf</span><span class="p">(</span><span class="s1">&#39;%s=&quot;%s&quot; &#39;</span><span class="p">,</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$k</span><span class="p">),</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$v</span><span class="p">));</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;translator&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="nv">$label</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$translation_domain</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>

<span class="c">&lt;!-- настройка --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$required</span><span class="p">)</span> <span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;required&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;This field is required&quot;</span><span class="p">&gt;</span>*<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Смотрите <a class="reference internal" href="form_customization.html#form-theming-methods"><span>Form Theming</span></a>, чтобы узнать, как применить эту настройку.</p>
</div></div>
<div class="admonition-wrapper">
<div class="sidebar"></div><div class="admonition admonition-sidebar"><p class="first sidebar-title">Использование только CSS</p>
<p>По умолчанию, теги <tt class="docutils literal"><code>label</code></tt> в обязательных полях, отображаются с CSS-классом
<tt class="docutils literal"><code>required</code></tt>. Поэтому, вы можете добавить символ звёздочки используя только CSS:</p>
<div class="literal-block"><div class="last highlight-css"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">label</span><span class="p">.</span><span class="nc">required</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
    <span class="k">content</span><span class="p">:</span> <span class="s2">&quot;* &quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
</div></div>
</div>
<div class="section" id="id20">
<h3>Добавление сообщений &quot;помощи&quot;<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>Вы также можете настроить ваши виджеты формы так, чтобы они имели необязательное
сообщение &quot;помощи&quot;.</p>
<p>В Twig, если вы делаете настройки формы внутри того же шаблона, что и форма,
модифицируйте тег <tt class="docutils literal"><code>use</code></tt> и добавьте следующее:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">use</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="nv">with</span> <span class="nv">form_widget_simple</span> <span class="nv">as</span> <span class="nv">base_form_widget_simple</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_widget_simple</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;base_form_widget_simple&#39;</span><span class="o">)</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">help</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;help-block&quot;</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">help</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>В Twig, если вы делаете настройки формы внутри отдельного шаблона, используйте
следующее:</p>
<div class="literal-block"><div class="highlight-html+twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">form_widget_simple</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">help</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;help-block&quot;</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">help</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div></div>
<p>При использовании механизма шаблонов PHP, вам нужно скопировать содержание из
первоисходного шаблона:</p>
<div class="literal-block"><div class="highlight-html+php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- form_widget_simple.html.php --&gt;</span>

<span class="c">&lt;!-- Оригинальное содержание --&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;text&#39;</span> <span class="cp">?&gt;</span><span class="s">&quot;</span>
    <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$value</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="na">value</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">block</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="s1">&#39;widget_attributes&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="p">/&gt;</span>

<span class="c">&lt;!-- Настройка --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$help</span><span class="p">))</span> <span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;help&quot;</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$help</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Чтобы отобразить сообщение помощи внизу поля, передайте переменную <tt class="docutils literal"><code>help</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.title</span><span class="o">,</span> <span class="o">{</span><span class="s1">&#39;help&#39;</span><span class="o">:</span> <span class="s1">&#39;foobar&#39;</span><span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;help&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foobar&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Смотрите <a class="reference internal" href="form_customization.html#form-theming-methods"><span>Form Theming</span></a>, чтобы узнать, как применить эту настройку.</p>
</div></div>
</div>
</div>
<div class="section" id="id21">
<h2>Использование переменных формы<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<p>Большинство функций, доступных для отображения разных частей формы (например,
виджет формы, ярлык формы, ошибки формы и т.д.) также позволяют вам делать
некоторые настройки напрямую. Посмотрите на следующий пример:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-twig"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">{# отобразить виджет, но добавить к нему класс &quot;foo&quot; #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.name</span><span class="o">,</span> <span class="o">{</span> <span class="s1">&#39;attr&#39;</span><span class="o">:</span> <span class="o">{</span><span class="s1">&#39;class&#39;</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="o">}</span> <span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;!--</span> <span class="nx">отобразить</span> <span class="nx">виджет</span><span class="p">,</span> <span class="nx">но</span> <span class="nx">добавить</span> <span class="nx">к</span> <span class="nx">нему</span> <span class="nx">класс</span> <span class="s2">&quot;foo&quot;</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;attr&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Массив, переданный в качестве второго аргумента, содержит &quot;переменные&quot; формы.
Чтобы узнать больше об этом концепте Twig, смотрите <a class="reference internal" href="..\reference\forms\twig_reference.html#twig-reference-form-variables"><span>More about Form Variables</span></a>.</p>
</div>
</div>


            </div>

            
            <div class="navigation">
                <a href="form_customization.html">« How to Customize Form Rendering</a>
                <span class="separator">|</span>
                <a href="form_dependencies.html">How to Access Services or Config from Inside a Form »</a>
            </div>
            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>