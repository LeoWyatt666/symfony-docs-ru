<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Помощник Formatter &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/" type="text/css">
    <link rel="stylesheet" href="..\..\..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\..\..\index.html">

<link rel="stylesheet" href="..\..\..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\..\..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\..\..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="components doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\..\..\index.html">
                    <img src="..\..\..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\..\..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\..\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\..\..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\..\..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\..\..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\..\..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\..\..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Помощник Formatter</a><ul>
<li><a class="reference internal" href="#id1">Отображение сообщений в разделе</a></li>
<li><a class="reference internal" href="#id2">Отображение сообщений в блоке</a></li>
<li><a class="reference internal" href="#id3">Отображение обрезанных сообщений</a><ul>
<li><a class="reference internal" href="#id4">Отрицательная длина строки</a></li>
<li><a class="reference internal" href="#id5">Пользовательский суффикс</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\..\..\index.html">Документация</a></li>
                
                <li class="active">Помощник Formatter</li>
            </ol>

            <div class="page">
                
  <div class="section" id="formatter">
<span id="index-0"></span><h1>Помощник Formatter<a class="headerlink" href="#formatter" title="Permalink to this headline">¶</a></h1>
<p>Помощник Formatter предоставляет функции для форматирования вывода цветами.
Вы можете сделать более продвинутые вещи с помощью этого помощника, чем вы
можете сделать в <a class="reference internal" href="..\..\..\console\coloring.html"><em>How to Color and Style the Console Output</em></a>.</p>
<p><tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Helper/FormatterHelper.html" title="Symfony\Component\Console\Helper\FormatterHelper">FormatterHelper</a></code></tt> включён в набор
помощника по умолчанию, который вы можете получить, вызвав
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Command/Command.html#method_getHelperSet" title="Symfony\Component\Console\Command\Command::getHelperSet()">getHelperSet()</a></code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$formatter</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getHelper</span><span class="p">(</span><span class="s1">&#39;formatter&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Методы возвращают строку, которую вы обычно будете отображать консоли, передавая
её методу
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Output/OutputInterface.html#method_writeln" title="Symfony\Component\Console\Output\OutputInterface::writeln()">OutputInterface::writeln</a></code></tt>.</p>
<div class="section" id="id1">
<h2>Отображение сообщений в разделе<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Symfony предоставляет определённый стиль при отображении сообщения, принадлежащего
некоторому &quot;разделу&quot;. Он отображает раздел в цвете и со скобками вокруг него, а
само сообщение правее от этого. Без учёта цвета, это выглядит так:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>[SomeSection] Здесь какое-то сообщение, связанное с разделом
</pre></div>
</td></tr></table></div></div>
<p>Чтобы воспроизвести этот стиль, вы можете использовать метод
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Helper/FormatterHelper.html#method_formatSection" title="Symfony\Component\Console\Helper\FormatterHelper::formatSection()">formatSection()</a></code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$formattedLine</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">formatSection</span><span class="p">(</span>
    <span class="s1">&#39;SomeSection&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Here is some message related to that section&#39;</span>
<span class="p">);</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="nv">$formattedLine</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="id2">
<h2>Отображение сообщений в блоке<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Иногда вам может захотеться отобразить целый блок текста с фоновым цветом.
Symfony использует это при отображении сообщений об ошибках.</p>
<p>Если вы отображаете ваши сообщения об ошибках более, чем в одной строчке, вручную
то вы заметите, что фон имеет длину кажой отдельной строки. Используйте
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Helper/FormatterHelper.html#method_formatBlock" title="Symfony\Component\Console\Helper\FormatterHelper::formatBlock()">formatBlock()</a></code></tt>,
чтобы сгенерировать вывод блока:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$errorMessages</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Error!&#39;</span><span class="p">,</span> <span class="s1">&#39;Something went wrong&#39;</span><span class="p">);</span>
<span class="nv">$formattedBlock</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">formatBlock</span><span class="p">(</span><span class="nv">$errorMessages</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">);</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="nv">$formattedBlock</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Как вы видите, передача массива сообщений методу
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Helper/FormatterHelper.html#method_formatBlock" title="Symfony\Component\Console\Helper\FormatterHelper::formatBlock()">formatBlock()</a></code></tt>
созадаёт желаемый вывод. Если вы передадите <tt class="docutils literal"><code>true</code></tt> в качестве третьего
параметра, то блок будет форматирован с большей подкладкой (одной пустой
строчкой над и под собщениями и 2 пробелами слева и справа).</p>
<p>Конкретный &quot;стиль&quot;, который вы используете в блоке, зависит только от вас. В этом
случае, вы используете предопределённый стиль <tt class="docutils literal"><code>error</code></tt>, но существуют другие, или
вы можете создать собственный. См. <a class="reference internal" href="..\..\..\console\coloring.html"><em>How to Color and Style the Console Output</em></a>.</p>
</div>
<div class="section" id="id3">
<h2>Отображение обрезанных сообщений<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Иногда вам нужно будет отобразить сообщение, обрезанное до точного количества символов.
Это возможно с методом
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Console/Helper/FormatterHelper.html#method_truncate" title="Symfony\Component\Console\Helper\FormatterHelper::truncate()">truncate()</a></code></tt>.</p>
<p>Если вы хотите обрезать очень длинное сообщение, к примеру, до 7 символов, вы можете
написать:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$message</span> <span class="o">=</span> <span class="s2">&quot;Это очень длинное сообщние, которое стоит обрезать&quot;</span><span class="p">;</span>
<span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="nv">$truncatedMessage</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>И вывод будет:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Это</span> <span class="nx">оче</span><span class="o">...</span>
</pre></div>
</td></tr></table></div></div>
<p>Сообщение обрезается до заданной длинны, а потом к концу этой строки добавляется
суффикс.</p>
<div class="section" id="id4">
<h3>Отрицательная длина строки<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Если длина отрицательная, то количество символов для обрезания считается от
конца строки:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Это приведёт к</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Это</span> <span class="nx">очень</span> <span class="nx">длинное</span> <span class="nx">сообщение</span><span class="p">,</span> <span class="nx">которое</span> <span class="nx">стоит</span> <span class="nx">обр</span><span class="o">...</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="id5">
<h3>Пользовательский суффикс<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>По умолчанию используется суффикс <tt class="docutils literal"><code>...</code></tt>. Если вы хотите использовать другой,
просто передайте его в качестве третьго аргумента метода. Суффикс всегда добавляется,
кроме случаев, когда длина обрезания больше длины сообщения и суффикса.
Если вы не хотите использовать суффикс вообще, просто передайте пустую строку:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;!!&#39;</span><span class="p">);</span> <span class="c1">// result: Это оч!!</span>
<span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>   <span class="c1">// result: Это оч</span>
<span class="nv">$truncatedMessage</span> <span class="o">=</span> <span class="nv">$formatter</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
<span class="cm">/* result: test</span>
<span class="cm">   because length of the &quot;test...&quot; string is shorter than 10 */</span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>
</div>


            </div>

            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>