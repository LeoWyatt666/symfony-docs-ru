<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Синтаксис выражения &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../../_static/" type="text/css">
    <link rel="stylesheet" href="..\..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\..\index.html">
    <link rel="up" title="The ExpressionLanguage Component" href="..\expression_language.html">
    <link rel="next" title="Expression" href="..\..\reference\constraints\Expression.html">
    <link rel="prev" title="The Expression Syntax" href="syntax.html">

<link rel="stylesheet" href="..\..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="components doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\..\index.html">
                    <img src="..\..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Синтаксис выражения</a><ul>
<li><a class="reference internal" href="#id2">Поддерживаемые литералы</a></li>
<li><a class="reference internal" href="#component-expression-objects">Работа с объектами</a><ul>
<li><a class="reference internal" href="#id4">Доступ к публичным свойствам</a></li>
<li><a class="reference internal" href="#id5">Вызов методов</a></li>
</ul>
</li>
<li><a class="reference internal" href="#component-expression-functions">Работа с функциями</a></li>
<li><a class="reference internal" href="#component-expression-arrays">Работа с массивами</a></li>
<li><a class="reference internal" href="#id8">Поддерживаемые операторы</a><ul>
<li><a class="reference internal" href="#id9">Арифметические операторы</a></li>
<li><a class="reference internal" href="#id10">Побитовые операторы</a></li>
<li><a class="reference internal" href="#id11">Сравнительные операторы</a></li>
<li><a class="reference internal" href="#id12">Логические операторы</a></li>
<li><a class="reference internal" href="#id13">Строковые операторы</a></li>
<li><a class="reference internal" href="#id14">Операторы массива</a></li>
<li><a class="reference internal" href="#id15">Числовые операторы</a></li>
<li><a class="reference internal" href="#id16">Троичные операторы</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\..\index.html">Документация</a></li>
                
                <li><a href="..\index.html">The Components</a></li>
                
                <li><a href="..\expression_language.html">The ExpressionLanguage Component</a></li>
                
                <li class="active">Синтаксис выражения</li>
            </ol>

            <div class="page">
                
  <div class="section" id="index-0">
<span id="id1"></span><h1>Синтаксис выражения<a class="headerlink" href="#index-0" title="Permalink to this headline">¶</a></h1>
<p>Компонент ExpressionLanguage использует особенный синтаксис, который основывается
на синтаксисе выражений Twig. В этом документе вы можете найти все поддерживаемые
синтаксисы.</p>
<div class="section" id="id2">
<h2>Поддерживаемые литералы<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Компонент поддерживает:</p>
<ul class="simple">
<li><strong>строки</strong> - одинарные и двойные кавычки (например, <tt class="docutils literal"><code>'hello'</code></tt>)</li>
<li><strong>числа</strong> - например, <tt class="docutils literal"><code>103</code></tt></li>
<li><strong>массивы</strong> - использование JSON-подобных нотаций (например, <tt class="docutils literal"><code>[1, 2]</code></tt>)</li>
<li><strong>хеши</strong> - использование JSON-подобных нотаций (например, <tt class="docutils literal"><code>{ foo: 'bar' }</code></tt>)</li>
<li><strong>булевы значения</strong> - <tt class="docutils literal"><code>true</code></tt> и <tt class="docutils literal"><code>false</code></tt></li>
<li><strong>пустое значение</strong> - <tt class="docutils literal"><code>null</code></tt></li>
</ul>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p>Обратный слеш (<tt class="docutils literal"><code>\</code></tt>) должен быть экранирован 4 обратными слешами (<tt class="docutils literal"><code>\\\\</code></tt>) в строке,
и 8 обратными слешами  (<tt class="docutils literal"><code>\\\\\\\\</code></tt>) в регулярном выражении:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span><span class="s1">&#39;&quot;\\\\&quot;&#39;</span><span class="p">);</span> <span class="c1">// prints \</span>
<span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span><span class="s1">&#39;&quot;a\\\\b&quot; matches &quot;/^a\\\\\\\\b$/&quot;&#39;</span><span class="p">);</span> <span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div></div>
<p class="last">Управляющие символы (например, <tt class="docutils literal"><code>\n</code></tt>) в выражениях заменяются пробелом.
Для того, чтобы избежать этого, экранируйте последовательность одним обратным
слешем (например,  <tt class="docutils literal"><code>\\n</code></tt>).</p>
</div></div>
</div>
<div class="section" id="component-expression-objects">
<span id="id3"></span><h2>Работа с объектами<a class="headerlink" href="#component-expression-objects" title="Permalink to this headline">¶</a></h2>
<p>При передаче объектов в выражение, вы можете использовать разные синтаксисы
для доступа к свойствам и вызова методов в объекте.</p>
<div class="section" id="id4">
<h3>Доступ к публичным свойствам<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Публичные свойства объектов могут быть доступны через синтаксис <tt class="docutils literal"><code>.</code></tt>, схожий с
JavaScript:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Apple</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$variety</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$apple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apple</span><span class="p">();</span>
<span class="nv">$apple</span><span class="o">-&gt;</span><span class="na">variety</span> <span class="o">=</span> <span class="s1">&#39;Honeycrisp&#39;</span><span class="p">;</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;fruit.variety&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;fruit&#39;</span> <span class="o">=&gt;</span> <span class="nv">$apple</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это выведет <tt class="docutils literal"><code>Honeycrisp</code></tt>.</p>
</div>
<div class="section" id="id5">
<h3>Вызов методов<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Синтаксис <tt class="docutils literal"><code>.</code></tt> также может быть использован для вызова методов объекта,
схоже с JavaScript:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Robot</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">sayHi</span><span class="p">(</span><span class="nv">$times</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$greetings</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$times</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$greetings</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">&#39;Hi&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$greetings</span><span class="p">)</span><span class="o">.</span><span class="s1">&#39;!&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robot</span><span class="p">();</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;robot.sayHi(3)&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;robot&#39;</span> <span class="o">=&gt;</span> <span class="nv">$robot</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это выведет <tt class="docutils literal"><code>Hi Hi Hi!</code></tt>.</p>
</div>
</div>
<div class="section" id="component-expression-functions">
<span id="id6"></span><h2>Работа с функциями<a class="headerlink" href="#component-expression-functions" title="Permalink to this headline">¶</a></h2>
<p>Вы также можете использовать зарегистрированные функции в выражении, используя
тот же синтаксис, что в PHP и JavaScript. Компонент ExpressionLanguage поставляется
с одной функцией по умолчанию: <tt class="docutils literal"><code>constant()</code></tt>, которая вернёт значение PHP константы:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">define</span><span class="p">(</span><span class="s1">&#39;DB_USER&#39;</span><span class="p">,</span> <span class="s1">&#39;root&#39;</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;constant(&quot;DB_USER&quot;)&#39;</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это выведет <tt class="docutils literal"><code>root</code></tt>.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Чтобы прочитать о том, как зарегистрировать ваши собственные функции для
использования в выражении, см. &quot;<a class="reference internal" href="extending.html"><em>Extending the ExpressionLanguage</em></a>&quot;.</p>
</div></div>
</div>
<div class="section" id="component-expression-arrays">
<span id="id7"></span><h2>Работа с массивами<a class="headerlink" href="#component-expression-arrays" title="Permalink to this headline">¶</a></h2>
<p>Если вы передаёте массив в выражение, используйте синтаксис <tt class="docutils literal"><code>[]</code></tt> для доступа к
ключам массива, схоже с JavaScript:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;life&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;universe&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;everything&#39;</span> <span class="o">=&gt;</span> <span class="mi">22</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;data[&quot;life&quot;] + data[&quot;universe&quot;] + data[&quot;everything&quot;]&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;data&#39;</span> <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это выведет <tt class="docutils literal"><code>42</code></tt>.</p>
</div>
<div class="section" id="id8">
<h2>Поддерживаемые операторы<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>Компонент поставляется со множеством операторов:</p>
<div class="section" id="id9">
<h3>Арифметические операторы<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>+</code></tt> (сложение)</li>
<li><tt class="docutils literal"><code>-</code></tt> (вычитание)</li>
<li><tt class="docutils literal"><code>*</code></tt> (умножение)</li>
<li><tt class="docutils literal"><code>/</code></tt> (деление)</li>
<li><tt class="docutils literal"><code>%</code></tt> (модуль)</li>
<li><tt class="docutils literal"><code>**</code></tt> (pow)</li>
</ul>
<p>К примеру:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">var_dump</span><span class="p">(</span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;life + universe + everything&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;life&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;universe&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;everything&#39;</span> <span class="o">=&gt;</span> <span class="mi">22</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это выведет <tt class="docutils literal"><code>42</code></tt>.</p>
</div>
<div class="section" id="id10">
<h3>Побитовые операторы<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>&amp;</code></tt> (и)</li>
<li><tt class="docutils literal"><code>|</code></tt> (или)</li>
<li><tt class="docutils literal"><code>^</code></tt> (исключающее или)</li>
</ul>
</div>
<div class="section" id="id11">
<h3>Сравнительные операторы<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>==</code></tt> (равно)</li>
<li><tt class="docutils literal"><code>===</code></tt> (идентично)</li>
<li><tt class="docutils literal"><code>!=</code></tt> (не равно)</li>
<li><tt class="docutils literal"><code>!==</code></tt> (не идентично)</li>
<li><tt class="docutils literal"><code>&lt;</code></tt> (меньше чем)</li>
<li><tt class="docutils literal"><code>&gt;</code></tt> (больше чем)</li>
<li><tt class="docutils literal"><code>&lt;=</code></tt> (меньше или равно)</li>
<li><tt class="docutils literal"><code>&gt;=</code></tt> (больше или равн)</li>
<li><tt class="docutils literal"><code>matches</code></tt> (совпадение регулярных выражений)</li>
</ul>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p>Чтобы протестировать, что строка <em>не</em> совпадает с регулярным варажением,
используйте логический оператор <tt class="docutils literal"><code>not</code></tt> в сочетании с оператором <tt class="docutils literal"><code>matches</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span><span class="s1">&#39;not (&quot;foo&quot; matches &quot;/bar/&quot;)&#39;</span><span class="p">);</span> <span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div></div>
<p class="last">Вы должны использовать скобки, так как одинарный оператор <tt class="docutils literal"><code>not</code></tt> имеет
преимущество над бинарный оператором <tt class="docutils literal"><code>matches</code></tt>.</p>
</div></div>
<p>Примеры:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$ret1</span> <span class="o">=</span> <span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;life == everything&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;life&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;universe&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;everything&#39;</span> <span class="o">=&gt;</span> <span class="mi">22</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$ret2</span> <span class="o">=</span> <span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;life &gt; everything&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;life&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;universe&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;everything&#39;</span> <span class="o">=&gt;</span> <span class="mi">22</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Обе переменные будут установлены, как <tt class="docutils literal"><code>false</code></tt>.</p>
</div>
<div class="section" id="id12">
<h3>Логические операторы<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>not</code></tt> или <tt class="docutils literal"><code>!</code></tt> (не)</li>
<li><tt class="docutils literal"><code>and</code></tt> или <tt class="docutils literal"><code>&amp;&amp;</code></tt> (и)</li>
<li><tt class="docutils literal"><code>or</code></tt> или <tt class="docutils literal"><code>||</code></tt> (или)</li>
</ul>
<p>Например:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$ret</span> <span class="o">=</span> <span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;life &lt; universe or life &lt; everything&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;life&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;universe&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;everything&#39;</span> <span class="o">=&gt;</span> <span class="mi">22</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Эта переменная <tt class="docutils literal"><code>$ret</code></tt> будет установлена, как <tt class="docutils literal"><code>true</code></tt>.</p>
</div>
<div class="section" id="id13">
<h3>Строковые операторы<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>~</code></tt> (соединение)</li>
</ul>
<p>Например:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">var_dump</span><span class="p">(</span><span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;firstName~&quot; &quot;~lastName&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;firstName&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Arthur&#39;</span><span class="p">,</span>
        <span class="s1">&#39;lastName&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Dent&#39;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это выведет <tt class="docutils literal"><code>Arthur Dent</code></tt>.</p>
</div>
<div class="section" id="id14">
<h3>Операторы массива<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>in</code></tt> (содержит)</li>
<li><tt class="docutils literal"><code>not in</code></tt> (не содержит)</li>
</ul>
<p>Например:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$group</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$user</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">User</span><span class="p">();</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">group</span> <span class="o">=</span> <span class="s1">&#39;human_resources&#39;</span><span class="p">;</span>

<span class="nv">$inGroup</span> <span class="o">=</span> <span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;user.group in [&quot;human_resources&quot;, &quot;marketing&quot;]&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="nv">$user</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p><tt class="docutils literal"><code>$inGroup</code></tt> будет оцениваться, как <tt class="docutils literal"><code>true</code></tt>.</p>
</div>
<div class="section" id="id15">
<h3>Числовые операторы<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>..</code></tt> (диапазон)</li>
</ul>
<p>Например:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$age</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$user</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">User</span><span class="p">();</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">age</span> <span class="o">=</span> <span class="mi">34</span><span class="p">;</span>

<span class="nv">$expressionLanguage</span><span class="o">-&gt;</span><span class="na">evaluate</span><span class="p">(</span>
    <span class="s1">&#39;user.age in 18..45&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="nv">$user</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p>Это будет оценено, как <tt class="docutils literal"><code>true</code></tt>, потому что <tt class="docutils literal"><code>user.age</code></tt> находится в диапазоне от
<tt class="docutils literal"><code>18</code></tt> до <tt class="docutils literal"><code>45</code></tt>.</p>
</div>
<div class="section" id="id16">
<h3>Троичные операторы<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><code>foo ? 'yes' : 'no'</code></tt></li>
<li><tt class="docutils literal"><code>foo ?: 'no'</code></tt> (равно <tt class="docutils literal"><code>foo ? foo : 'no'</code></tt>)</li>
<li><tt class="docutils literal"><code>foo ? 'yes'</code></tt> (равно <tt class="docutils literal"><code>foo ? 'yes' : ''</code></tt>)</li>
</ul>
</div>
</div>
</div>


            </div>

            
            <div class="navigation">
                <a href="syntax.html">« The Expression Syntax</a>
                <span class="separator">|</span>
                <a href="..\..\reference\constraints\Expression.html">Expression »</a>
            </div>
            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>