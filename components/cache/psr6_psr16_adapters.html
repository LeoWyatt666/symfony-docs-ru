<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Адаптеры для взаимодействия между кешами PSR-6 и PSR-16 &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../../_static/" type="text/css">
    <link rel="stylesheet" href="..\..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\..\index.html">
    <link rel="up" title="The Cache Component" href="..\cache.html">
    <link rel="next" title="Компонент Cache" href="../cache-ru.html">
    <link rel="prev" title="Adapters For Interoperability between PSR-6 and PSR-16 Cache" href="psr6_psr16_adapters.html">

<link rel="stylesheet" href="..\..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="components doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\..\index.html">
                    <img src="..\..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Адаптеры для взаимодействия между кешами PSR-6 и PSR-16</a><ul>
<li><a class="reference internal" href="#psr-16-psr-6">Использование объекта кеша PSR-16, как кеша PSR-6</a></li>
<li><a class="reference internal" href="#id1">Использование объекта кеша PSR-6, как кеша PSR-16</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\..\index.html">Документация</a></li>
                
                <li><a href="..\index.html">The Components</a></li>
                
                <li><a href="..\cache.html">The Cache Component</a></li>
                
                <li class="active">Адаптеры для взаимодействия между кешами PSR-6 и PSR-16</li>
            </ol>

            <div class="page">
                
  <div class="section" id="psr-6-psr-16">
<span id="index-0"></span><h1>Адаптеры для взаимодействия между кешами PSR-6 и PSR-16<a class="headerlink" href="#psr-6-psr-16" title="Permalink to this headline">¶</a></h1>
<p>Иногда у вас может быть объект кеша, реализующий стандарт <a class="reference internal" href="..\cache.html#cache-component-psr16-caching"><span>PSR-16</span></a>,
но его нужно передать в объект, который ожидает адаптер кеша <a class="reference internal" href="..\cache.html#cache-component-psr6-caching"><span>PSR-6</span></a>.
Или у вас может быть обратная ситуация. Компонента кеша содержит два класса для двустороннего
взаимодействия между кешами PSR-6 и PSR-16.</p>
<div class="section" id="psr-16-psr-6">
<h2>Использование объекта кеша PSR-16, как кеша PSR-6<a class="headerlink" href="#psr-16-psr-6" title="Permalink to this headline">¶</a></h2>
<p>Представьте, что вы хотите работать с классом, требующим объект пула кеша PSR-6.
Например:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Psr\Cache\CacheItemPoolInterface</span><span class="p">;</span>

<span class="c1">// выдуманный класс для примера</span>
<span class="k">class</span> <span class="nc">GitHubApiClient</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="c1">// требует объект кеша PSR-6</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">CacheItemPoolInterface</span> <span class="nv">$cachePool</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Но у вас уже есть объект кеша PSR-16, и вы бы хотели передать его классу. Не
проблема! Компонент Cache предоставляет класс
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Cache/Adapter/SimpleCacheAdapter.html" title="Symfony\Component\Cache\Adapter\SimpleCacheAdapter">SimpleCacheAdapter</a></code></tt> именно для таких
случаев применения:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Simple\FilesystemCache</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\SimpleCacheAdapter</span><span class="p">;</span>

<span class="c1">// объект кеша PSR-16, который вы хотите использовать</span>
<span class="nv">$psr16Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FilesystemCache</span><span class="p">();</span>

<span class="c1">// кеш PSR-6, который использует ваш кеш внутренне!</span>
<span class="nv">$psr6Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SimpleCacheAdapter</span><span class="p">(</span><span class="nv">$psr16Cache</span><span class="p">);</span>

<span class="c1">// теперь используйте это когда хотите</span>
<span class="nv">$githubApiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GitHubApiClient</span><span class="p">(</span><span class="nv">$psr6Cache</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="id1">
<h2>Использование объекта кеша PSR-6, как кеша PSR-16<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Представьте, что вы хотите работать с классом, требующим объект кеша PSR-16.
Например:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Psr\SimpleCache\CacheInterface</span><span class="p">;</span>

<span class="c1">// выдуманный класс для примера</span>
<span class="k">class</span> <span class="nc">GitHubApiClient</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="c1">// требует объекта кеша PSR-16</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">CacheInterface</span> <span class="nv">$cache</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Но у вас уже есть объект кеша PSR-6, и вы бы хотели передать его классу. Не
проблема! Компонент Cache предоставляет класс
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Cache/Simple/Psr6Cache.html" title="Symfony\Component\Cache\Simple\Psr6Cache">Psr6Cache</a></code></tt> именно для таких
случаев применения:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\Cache\Adapter\FilesystemAdapter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Cache\Simple\Psr6Cache</span><span class="p">;</span>

<span class="c1">// объект кеша PSR-6, который вы хотите использовать</span>
<span class="nv">$psr6Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FilesystemAdapter</span><span class="p">();</span>

<span class="c1">// кеш PSR-16, который использует ваш кеш внутренне!</span>
<span class="nv">$psr16Cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Psr6Cache</span><span class="p">(</span><span class="nv">$psr6Cache</span><span class="p">);</span>

<span class="c1">// теперь используйте это когда хотите</span>
<span class="nv">$githubApiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GitHubApiClient</span><span class="p">(</span><span class="nv">$psr16Cache</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>


            </div>

            
            <div class="navigation">
                <a href="psr6_psr16_adapters.html">« Adapters For Interoperability between PSR-6 and PSR-16 Cache</a>
                <span class="separator">|</span>
                <a href="../cache-ru.html">Компонент Cache »</a>
            </div>
            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>