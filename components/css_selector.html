<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Компонент CssSelector &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css">
    <link rel="stylesheet" href="..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\index.html">
    <link rel="up" title="The Components" href="index.html">
    <link rel="next" title="The Debug Component" href="debug.html">
    <link rel="prev" title="The CssSelector Component" href="css_selector.html">

<link rel="stylesheet" href="..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="components doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\index.html">
                    <img src="..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Компонент CssSelector</a><ul>
<li><a class="reference internal" href="#id1">Установка</a></li>
<li><a class="reference internal" href="#id2">Применение</a><ul>
<li><a class="reference internal" href="#css">Зачем использовать селекторы CSS?</a></li>
<li><a class="reference internal" href="#id3">Компонент CssSelector</a></li>
<li><a class="reference internal" href="#id4">Ограничения компонента CssSelector</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">Узнайте больше</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\index.html">Документация</a></li>
                
                <li><a href="index.html">The Components</a></li>
                
                <li class="active">Компонент CssSelector</li>
            </ol>

            <div class="page">
                
  <div class="section" id="cssselector">
<span id="index-0"></span><h1>Компонент CssSelector<a class="headerlink" href="#cssselector" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>Компонент CssSelector преобразует селекторы CSS в выражения XPath.</div></blockquote>
<div class="section" id="id1">
<h2>Установка<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="literal-block"><div class="highlight-terminal"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">$</span> composer require symfony/css-selector
</pre></div>
</td></tr></table></div></div>
<p>Также вы можете клонировать репозиторий <a class="reference external" href="https://github.com/symfony/css-selector">https://github.com/symfony/css-selector</a>.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">If you install this component outside of a Symfony application, you must
require the <tt class="docutils literal"><code>vendor/autoload.php</code></tt> file in your code to enable the class
autoloading mechanism provided by Composer. Read
<a class="reference internal" href="using_components.html"><em>this article</em></a> for more details.</p>
</div></div>
</div>
<div class="section" id="id2">
<h2>Применение<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="admonition-wrapper">
<div class="seealso"></div><div class="admonition admonition-seealso">Эта статья объясняет как использовать функции CssSelector как независимого
компонента в любом приложении PHP. Прочитайте статью <a class="reference internal" href="..\testing.html#functional-tests"><span>Функциональные тесты Symfony</span></a>
для понимания как использовать его при создании тестов Symfony.</div></div>
<div class="section" id="css">
<h3>Зачем использовать селекторы CSS?<a class="headerlink" href="#css" title="Permalink to this headline">¶</a></h3>
<p>Когда вы анализируете HTML или XML документ, наиболее мощным методом
для этого является XPath.</p>
<p>Выражения XPath невероятно гибкие, так что почти всегда существует выражение
XPath, которое найдёт нужный вам элемент. К сожалению, они также могут стать
очень сложными, и обучение им непростое. Даже общие операци (например, поиск
элемента с определённым классом), может требовать длинных и неупорядоченных
выражений.</p>
<p>Многие разработчики -- особенно веб-разработчики -- больше всего любят
использовать селекторы CSS для поиска элементов. Так же, как и работа с
таблицами стилей, селекторы CSS используются в JavaScript с функцией
<tt class="docutils literal"><code>querySelectorAll()</code></tt> и в популярных JavaScript библиотеках, вроде
jQuery, Prototype и MooTools.</p>
<p>CSS селекторы менее мощные, чем XPath, но намного проще в написании, прочтении
и понимании. Так как оии менее мощные, почи все селекторы CSS могут быть преобразованы
в эквивилент XPath. Это выражение XPath может быть использовано с другими функциями
и классами, использующими XPath, чтобы найти элементы в документе.</p>
</div>
<div class="section" id="id3">
<h3>Компонент CssSelector<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Единственная цель компонента - преобразовывать селекторы CSS в их
эквиваленты XPath, используя <tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/CssSelector/CssSelectorConverter.html#method_toXPath" title="Symfony\Component\CssSelector\CssSelectorConverter::toXPath()">toXPath()</a></code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Symfony\Component\CssSelector\CssSelectorConverter</span><span class="p">;</span>

<span class="nv">$converter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CssSelectorConverter</span><span class="p">();</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$converter</span><span class="o">-&gt;</span><span class="na">toXPath</span><span class="p">(</span><span class="s1">&#39;div.item &gt; h4 &gt; a&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
<p>Это даёт следующий вывод:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>descendant-or-self::div[@class and contains(concat(&#39; &#39;,normalize-space(@class), &#39; &#39;), &#39; item &#39;)]/h4/a
</pre></div>
</td></tr></table></div></div>
<p>Вы можете использовать это выражение с, к примеру, <tt class="docutils literal"><code><a class="reference external" href="http://php.net/manual/en/class.domxpath.php" title="DOMXPath">DOMXPath</a></code></tt> или
<tt class="docutils literal"><code><a class="reference external" href="http://php.net/manual/en/class.simplexmlelement.php" title="SimpleXMLElement">SimpleXMLElement</a></code></tt>, чтобы найти элементы в документе.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Метод <tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/DomCrawler/Crawler.html#method_filter" title="Symfony\Component\DomCrawler\Crawler::filter()">Crawler::filter()</a></code></tt>
использует компонент CssSelector, чтобы найти элеметы, основанные на строке CSS
селектора. См. <a class="reference internal" href="dom_crawler.html"><em>The DomCrawler Component</em></a>, чтобы узнать больше.</p>
</div></div>
</div>
<div class="section" id="id4">
<h3>Ограничения компонента CssSelector<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Не все CSS селекторы могут быть преобразованы в эквиваленты XPath.</p>
<p>Вот некоторые CSS селекторы, которые имеют смысл только в контексте веб-браузера.</p>
<ul class="simple">
<li>селекторы состояния ссылки: <tt class="docutils literal"><code>:link</code></tt>, <tt class="docutils literal"><code>:visited</code></tt>, <tt class="docutils literal"><code>:target</code></tt></li>
<li>селекторы, основанные на действии пользователя: <tt class="docutils literal"><code>:hover</code></tt>, <tt class="docutils literal"><code>:focus</code></tt>, <tt class="docutils literal"><code>:active</code></tt></li>
<li>селекторы состояния UI: <tt class="docutils literal"><code>:invalid</code></tt>, <tt class="docutils literal"><code>:indeterminate</code></tt> (однако, <tt class="docutils literal"><code>:enabled</code></tt>,
<tt class="docutils literal"><code>:disabled</code></tt>, <tt class="docutils literal"><code>:checked</code></tt> и <tt class="docutils literal"><code>:unchecked</code></tt> доступны)</li>
</ul>
<p>Псевдо-элементы (<tt class="docutils literal"><code>:before</code></tt>, <tt class="docutils literal"><code>:after</code></tt>, <tt class="docutils literal"><code>:first-line</code></tt>,
<tt class="docutils literal"><code>:first-letter</code></tt>) не поддерживаются, так как они выбирают части
текста, а не элементы.</p>
<p>Некоторые псевдо-классы ещё не поддерживаются:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>*:first-of-type</code></tt>, <tt class="docutils literal"><code>*:last-of-type</code></tt>, <tt class="docutils literal"><code>*:nth-of-type</code></tt>,
<tt class="docutils literal"><code>*:nth-last-of-type</code></tt>, <tt class="docutils literal"><code>*:only-of-type</code></tt>. (Эти работают с именем
элемента (например, <tt class="docutils literal"><code>li:first-of-type</code></tt>) но не с <tt class="docutils literal"><code>*</code></tt>.</li>
</ul>
</div>
</div>
<div class="section" id="id5">
<h2>Узнайте больше<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="..\testing.html"><em>Testing</em></a></li>
<li><a class="reference internal" href="dom_crawler.html"><em>The DomCrawler Component</em></a></li>
</ul>
</div>
</div>


            </div>

            
            <div class="navigation">
                <a href="css_selector.html">« The CssSelector Component</a>
                <span class="separator">|</span>
                <a href="debug.html">The Debug Component »</a>
            </div>
            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>