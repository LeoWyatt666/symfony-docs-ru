<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Рабочие потоки как конечные автоматы &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css">
    <link rel="stylesheet" href="..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\index.html">
    <link rel="up" title="The Workflow Component" href="..\components\workflow.html">
    <link rel="next" title="Как использовать рабочий поток" href="usage-ru.html">
    <link rel="prev" title="Как сбрасывать рабочие потоки" href="dumping-workflows-ru.html">

<link rel="stylesheet" href="..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="workflow doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\index.html">
                    <img src="..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\components\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Рабочие потоки как конечные автоматы</a><ul>
<li><a class="reference internal" href="#id2">Пример конечного автомата</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\index.html">Документация</a></li>
                
                <li><a href="..\components\index.html">The Components</a></li>
                
                <li><a href="../components/index-ru.html">The Components</a></li>
                
                <li><a href="..\components\workflow.html">The Workflow Component</a></li>
                
                <li class="active">Рабочие потоки как конечные автоматы</li>
            </ol>

            <div class="page">
                
  <div class="section" id="index-0">
<span id="id1"></span><h1>Рабочие потоки как конечные автоматы<a class="headerlink" href="#index-0" title="Permalink to this headline">¶</a></h1>
<p>Компонент рабочего потока моделируется после <em>сети рабочего потока (Workflow net)</em>,
которая является подклассом of a <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B8_%D0%9F%D0%B5%D1%82%D1%80%D0%B8">Petri net</a>. Путём добавления дальнейших ограничений,
вы можете получить конечный автомат. Наиболее важным аспектом является то, что конечный
автомат не может находиться одновременно более, чем в одном месте. Также стоит отметить,
что если рабочий поток обычно не имеет цикличный путь в графике определения, то для
конечного автомата это обычное дело.</p>
<div class="section" id="id2">
<h2>Пример конечного автомата<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Запрос на включение кода начинается в иходном состоянии &quot;старта&quot;, состоянии,
например, для выполнения тестов в Travis. Когда они закончены, запрос на включение
кода находится в состоянии &quot;обзора&quot;, когда участники могут запрашивать изменения,
отвергать или принимать запрос. В любое время вы также можете &quot;обновить&quot; запрос, что
приведёт к ещё одному запуску Travis.</p>
<img alt="../_images/pull_request.png" src="..\_images\pull_request.png">
<p>Ниже вы можете увидеть конфигурацию для запроса включения кода конечного автомата.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># app/config/config.yml</span>
<span class="l l-Scalar l-Scalar-Plain">framework</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">workflows</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">pull_request</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="s">&#39;state_machine&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">supports</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">AppBundle\Entity\PullRequest</span>
            <span class="l l-Scalar l-Scalar-Plain">places</span><span class="p p-Indicator">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">start</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">coding</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">travis</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">review</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">merged</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">closed</span>
            <span class="l l-Scalar l-Scalar-Plain">transitions</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">submit</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">start</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">travis</span>
                <span class="l l-Scalar l-Scalar-Plain">update</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">coding</span><span class="p p-Indicator">,</span> <span class="nv">travis</span><span class="p p-Indicator">,</span> <span class="nv">review</span><span class="p p-Indicator">]</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">travis</span>
                <span class="l l-Scalar l-Scalar-Plain">wait_for_review</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">travis</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">review</span>
                <span class="l l-Scalar l-Scalar-Plain">request_change</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">review</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">coding</span>
                <span class="l l-Scalar l-Scalar-Plain">accept</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">review</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">merged</span>
                <span class="l l-Scalar l-Scalar-Plain">reject</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">review</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">closed</span>
                <span class="l l-Scalar l-Scalar-Plain">reopen</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">from</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">closed</span>
                    <span class="l l-Scalar l-Scalar-Plain">to</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">review</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span>
<span class="nt">&gt;</span>

    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:workflow</span> <span class="na">name=</span><span class="s">&quot;pull_request&quot;</span> <span class="na">type=</span><span class="s">&quot;state_machine&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;framework:marking-store</span> <span class="na">type=</span><span class="s">&quot;single_state&quot;</span><span class="nt">/&gt;</span>

            <span class="nt">&lt;framework:support&gt;</span>AppBundle\Entity\PullRequest<span class="nt">&lt;/framework:support&gt;</span>

            <span class="nt">&lt;framework:place&gt;</span>start<span class="nt">&lt;/framework:place&gt;</span>
            <span class="nt">&lt;framework:place&gt;</span>coding<span class="nt">&lt;/framework:place&gt;</span>
            <span class="nt">&lt;framework:place&gt;</span>travis<span class="nt">&lt;/framework:place&gt;</span>
            <span class="nt">&lt;framework:place&gt;</span>review<span class="nt">&lt;/framework:place&gt;</span>
            <span class="nt">&lt;framework:place&gt;</span>merged<span class="nt">&lt;/framework:place&gt;</span>
            <span class="nt">&lt;framework:place&gt;</span>closed<span class="nt">&lt;/framework:place&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;submit&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>start<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>travis<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;update&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>coding<span class="nt">&lt;/framework:from&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>travis<span class="nt">&lt;/framework:from&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>review<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>travis<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;wait_for_review&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>travis<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>review<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;request_change&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>review<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>coding<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;accept&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>review<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>merged<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;reject&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>review<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>closed<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

            <span class="nt">&lt;framework:transition</span> <span class="na">name=</span><span class="s">&quot;reopen&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;framework:from&gt;</span>closed<span class="nt">&lt;/framework:from&gt;</span>

                <span class="nt">&lt;framework:to&gt;</span>review<span class="nt">&lt;/framework:to&gt;</span>
            <span class="nt">&lt;/framework:transition&gt;</span>

        <span class="nt">&lt;/framework:workflow&gt;</span>

    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// app/config/config.php</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;workflows&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;pull_request&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
          <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;state_machine&#39;</span><span class="p">,</span>
          <span class="s1">&#39;supports&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;AppBundle\Entity\PullRequest&#39;</span><span class="p">),</span>
          <span class="s1">&#39;places&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;start&#39;</span><span class="p">,</span>
            <span class="s1">&#39;coding&#39;</span><span class="p">,</span>
            <span class="s1">&#39;travis&#39;</span><span class="p">,</span>
            <span class="s1">&#39;review&#39;</span><span class="p">,</span>
            <span class="s1">&#39;merged&#39;</span><span class="p">,</span>
            <span class="s1">&#39;closed&#39;</span><span class="p">,</span>
          <span class="p">),</span>
          <span class="s1">&#39;transitions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;start&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;start&#39;</span><span class="p">,</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;travis&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s1">&#39;update&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;coding&#39;</span><span class="p">,</span><span class="s1">&#39;travis&#39;</span><span class="p">,</span><span class="s1">&#39;review&#39;</span><span class="p">),</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;travis&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s1">&#39;wait_for_reivew&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;travis&#39;</span><span class="p">,</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;review&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s1">&#39;request_change&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;review&#39;</span><span class="p">,</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;coding&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s1">&#39;accept&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;review&#39;</span><span class="p">,</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;merged&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s1">&#39;reject&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;review&#39;</span><span class="p">,</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;closed&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s1">&#39;reopen&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
              <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;start&#39;</span><span class="p">,</span>
              <span class="s1">&#39;to&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;review&#39;</span><span class="p">,</span>
            <span class="p">),</span>
          <span class="p">),</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Теперь вы можетеиспользовать этот конечный автомат, получая сервис <tt class="docutils literal"><code>state_machine.pull_request</code></tt> service:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$stateMachine</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">container</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;state_machine.pull_request&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>


            </div>

            
            <div class="navigation">
                <a href="dumping-workflows-ru.html">« Как сбрасывать рабочие потоки</a>
                <span class="separator">|</span>
                <a href="usage-ru.html">Как использовать рабочий поток »</a>
            </div>
            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  </body>
</body></html>