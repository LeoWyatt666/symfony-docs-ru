<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Как работать с электронными письмами во время разработки &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css">
    <link rel="stylesheet" href="..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\index.html">

<link rel="stylesheet" href="..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="email doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\index.html">
                    <img src="..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\components\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="..\best_practices\index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Как работать с электронными письмами во время разработки</a><ul>
<li><a class="reference internal" href="#id2">Отключение отправки</a></li>
<li><a class="reference internal" href="#sending-to-a-specified-address-ru">Отправка на специальный(е) адрес(а)</a><ul>
<li><a class="reference internal" href="#sending-to-a-specified-address-but-with-exceptions-ru">Отправка на специальный адрес, но с исключениями</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">Просмотр из панели инструментов веб-отладки</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\index.html">Документация</a></li>
                
                <li class="active">Как работать с электронными письмами во время разработки</li>
            </ol>

            <div class="page">
                
  <div class="section" id="index-0">
<span id="id1"></span><h1>Как работать с электронными письмами во время разработки<a class="headerlink" href="#index-0" title="Permalink to this headline">¶</a></h1>
<p>При разработке приложения, которое отправляет электронные письма, вам
часто может не хотеться действительно отправлять письмо к обозначенному
получателю во время разработки. Если вы используете почтовый сервис Symfony
по умолчанию, вы с легкостью можете достичь этого через настройки конфигурации,
не нуждаясь в каких-либо измнениях к вашем коде. Когда речь идёт об отправке
электронных писем при разработке, существует два главных варианта: (а) полное
отключение отправки всех электронных писем или (б) отправка всех электронных
писем по определённому адресу (с необязательными исключениями).</p>
<div class="section" id="id2">
<h2>Отключение отправки<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Вы можете отключить отправку электронных писем, установив опцию <tt class="docutils literal"><code>disable_delivery</code></tt>,
как <tt class="docutils literal"><code>true</code></tt>, что является значением, используемым Symfony по умолчанию в окружении
<tt class="docutils literal"><code>test</code></tt> (письма будут продолжать отправляться в других окружениях):</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/test/swiftmailer.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">swiftmailer</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">disable_delivery</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/test/swiftmailer.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:swiftmailer=</span><span class="s">&quot;http://symfony.com/schema/dic/swiftmailer&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/swiftmailer http://symfony.com/schema/dic/swiftmailer/swiftmailer-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;swiftmailer:config</span> <span class="na">disable-delivery=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/test/swiftmailer.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;swiftmailer&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;disable_delivery&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
</div>
<div class="section" id="sending-to-a-specified-address-ru">
<span id="id3"></span><h2>Отправка на специальный(е) адрес(а)<a class="headerlink" href="#sending-to-a-specified-address-ru" title="Permalink to this headline">¶</a></h2>
<p>Вы также можете решить, что все электронные письма должны отправляться на специальный адрес или
несколько адресов вместо того, чтобы указывать адрес во время отправки письма. Это можено сделать
с помощью опции <tt class="docutils literal"><code>delivery_addresses</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/dev/swiftmailer.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">swiftmailer</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">delivery_addresses</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="10747566507568717d607c753e737f7d">[email&#160;protected]</a>&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/dev/swiftmailer.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:swiftmailer=</span><span class="s">&quot;http://symfony.com/schema/dic/swiftmailer&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/swiftmailer</span>
<span class="s">        http://symfony.com/schema/dic/swiftmailer/swiftmailer-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;swiftmailer:config&gt;</span>
        <span class="nt">&lt;swiftmailer:delivery-address&gt;</span><a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="c9adacbf89acb1a8a4b9a5ace7aaa6a4">[email&#160;protected]</a><span class="nt">&lt;/swiftmailer:delivery-address&gt;</span>
    <span class="nt">&lt;/swiftmailer:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/dev/swiftmailer.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;swiftmailer&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;delivery_addresses&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="1377766553766b727e637f763d707c7e">[email&#160;protected]</a>&quot;</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Теперь, представьте, что вы отправляете электронное письмо по адресу <tt class="docutils literal"><code>recipient&#64;example.com</code></tt>
в контроллере.:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nx">\Swift_Mailer</span> <span class="nv">$mailer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$message</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">\Swift_Message</span><span class="p">(</span><span class="s1">&#39;Hello Email&#39;</span><span class="p">))</span>
        <span class="o">-&gt;</span><span class="na">setFrom</span><span class="p">(</span><span class="s1">&#39;<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="e99a8c878da98c91888499858cc78a8684">[email&#160;protected]</a>&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">setTo</span><span class="p">(</span><span class="s1">&#39;<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="a6d4c3c5cfd6cfc3c8d2e6c3dec7cbd6cac388c5c9cb">[email&#160;protected]</a>&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">renderView</span><span class="p">(</span>
                <span class="s1">&#39;HelloBundle:Hello:email.txt.twig&#39;</span><span class="p">,</span>
                <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">;</span>
    <span class="nv">$mailer</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="nv">$message</span><span class="p">);</span>

    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="o">...</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>В окружении <tt class="docutils literal"><code>dev</code></tt>, письмо вместого этого будет отправлено на <tt class="docutils literal"><code>dev&#64;example.com</code></tt>.
Swift Mailer добавит дополнительный заголовок к письму, <tt class="docutils literal"><code>X-Swift-To</code></tt>, содержащий
заменённые адреса, чтобы вы могли увидеть, кому было отправлено письмо.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">В дополнение к адресам <tt class="docutils literal"><code>to</code></tt>, это также остановит отправку электронного письма
на любые установленные для него адреса <tt class="docutils literal"><code>CC</code></tt> и <tt class="docutils literal"><code>BCC</code></tt>. Swift Mailer добавит
дополнительные заголовки к письму с переопределёнными в них адресами. Это будут
<tt class="docutils literal"><code>X-Swift-Cc</code></tt> и <tt class="docutils literal"><code>X-Swift-Bcc</code></tt> для <tt class="docutils literal"><code>CC</code></tt> и <tt class="docutils literal"><code>BCC</code></tt> соответственно.</p>
</div></div>
<div class="section" id="sending-to-a-specified-address-but-with-exceptions-ru">
<span id="id4"></span><h3>Отправка на специальный адрес, но с исключениями<a class="headerlink" href="#sending-to-a-specified-address-but-with-exceptions-ru" title="Permalink to this headline">¶</a></h3>
<p>Представьте, что вы хотите перенаправлять всю почту на специальный адрес
(как в вышеописанном сценарии на <tt class="docutils literal"><code>dev&#64;example.com</code></tt>). Но потом вам может
понадобиться, чтобы электронное письмо, отправленное на какие-то специальные
адреса, всё-таки прошло и не было перенаправлено (даже, если оно в окружении
разработки). Это можно сделать, добавив опцию <tt class="docutils literal"><code>delivery_whitelist</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/dev/swiftmailer.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">swiftmailer</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">delivery_addresses</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="a6c2c3d0e6c3dec7cbd6cac388c5c9cb">[email&#160;protected]</a>&#39;</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">delivery_whitelist</span><span class="p p-Indicator">:</span>
       <span class="c1"># все почтовые адреса, совпадающие с этими регулярными выражениями, будут доставлены</span>
       <span class="c1"># как обычно, а также отправлены на <a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="2743425167425f464a574b420944484a">[email&#160;protected]</a> <a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="93f7f6e5d3f6ebf2fee3fff6bdf0fcfe">[email&#160;protected]</a></span>
       <span class="p p-Indicator">-</span> <span class="s">&#39;/@specialdomain\.com$/&#39;</span>
       <span class="p p-Indicator">-</span> <span class="s">&#39;/^<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="3b5a5f5652557b56425f54565a5255">[email&#160;protected]</a>\.com$/&#39;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/dev/swiftmailer.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:swiftmailer=</span><span class="s">&quot;http://symfony.com/schema/dic/swiftmailer&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/swiftmailer</span>
<span class="s">        http://symfony.com/schema/dic/swiftmailer/swiftmailer-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;swiftmailer:config&gt;</span>
        <span class="c">&lt;!-- все почтовые адреса, совпадающие с этими регулярными выражениями, будут доставлены</span>
<span class="c">             как обычно, а также отправлены на <a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="cda9a8bb8da8b5aca0bda1a8e3aea2a0">[email&#160;protected]</a> <a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="4c28293a0c29342d213c2029622f2321">[email&#160;protected]</a> --&gt;</span>
        <span class="nt">&lt;swiftmailer:delivery-whitelist-pattern&gt;</span>/@specialdomain\.com$/<span class="nt">&lt;/swiftmailer:delivery-whitelist-pattern&gt;</span>
        <span class="nt">&lt;swiftmailer:delivery-whitelist-pattern&gt;</span>/^<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="08696c6561664865716c6765696166">[email&#160;protected]</a>\.com$/<span class="nt">&lt;/swiftmailer:delivery-whitelist-pattern&gt;</span>
        <span class="nt">&lt;swiftmailer:delivery-address&gt;</span><a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="10747566507568717d607c753e737f7d">[email&#160;protected]</a><span class="nt">&lt;/swiftmailer:delivery-address&gt;</span>
    <span class="nt">&lt;/swiftmailer:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/dev/swiftmailer.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;swiftmailer&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;delivery_addresses&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="abcfceddebced3cac6dbc7ce85c8c4c6">[email&#160;protected]</a>&quot;</span><span class="p">),</span>
    <span class="s1">&#39;delivery_whitelist&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// все почтовые адреса, совпадающие с этими регулярными выражениями, будут доставлены</span>
        <span class="c1">// как обычно, а также отправлены на <a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="791d1c0f391c01181409151c571a1614">[email&#160;protected]</a></span>
        <span class="s1">&#39;/@specialdomain\.com$/&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/^<a href="..\..\..\cdn-cgi\l\email-protection.html" class="__cf_email__" data-cfemail="ea8b8e878384aa87938e85878b8384">[email&#160;protected]</a>\.com$/&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>В вышеописанном примере, все электронные письма будут перенаправлены на
<tt class="docutils literal"><code>dev&#64;example.com</code></tt>, а сообщения, отправленные на адрес <tt class="docutils literal"><code>admin&#64;mydomain.com</code></tt>
или любые другие адреса, принадлежащие домену <tt class="docutils literal"><code>specialdomain.com</code></tt> будут
также доставлены как обычно.</p>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p class="last">Опция <tt class="docutils literal"><code>delivery_whitelist</code></tt> игнорируется, кроме случаев, когда определена
опция <tt class="docutils literal"><code>delivery_addresses</code></tt>.</p>
</div></div>
</div>
</div>
<div class="section" id="id5">
<h2>Просмотр из панели инструментов веб-отладки<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Вы можете просмотреть любое письмо, отправленное во время одного ответа,
когда вы в окружении <tt class="docutils literal"><code>dev</code></tt>, используя панель инструментов веб-отладки.
Иконка электронной почты в панели будет отображать, сколько писем было
отправлено. Если вы нажмёте на неё, откроется отчёт, отображающий все детали
об отправленых письмах.</p>
<p>Если вы отправляете электронное письмо и потом немедленно перенаправляетесь
на другую страницу, панель инструментов веб-отладки не отобразит иконку
электронной почты или отчёт на следующей странице.</p>
<p>Вместо этого, вы можете установить опцию <tt class="docutils literal"><code>intercept_redirects</code></tt> как <tt class="docutils literal"><code>true</code></tt> в
окружении <tt class="docutils literal"><code>dev</code></tt>, что приведёт к остановке перенаправления и позволит вам
открыть отчёт со всеми деталями об отправленных письмах.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># config/packages/dev/swiftmailer.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">web_profiler</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">intercept_redirects</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">&lt;!-- config/packages/dev/swiftmailer.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:webprofiler=</span><span class="s">&quot;http://symfony.com/schema/dic/webprofiler&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/webprofiler</span>
<span class="s">        http://symfony.com/schema/dic/webprofiler/webprofiler-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;webprofiler:config</span>
        <span class="na">intercept-redirects=</span><span class="s">&quot;true&quot;</span>
    <span class="nt">/&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// config/packages/dev/swiftmailer.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;web_profiler&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;intercept_redirects&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;true&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">В качестве альтернативы, вы можете открыть профилировщик после перенаправления
и выполнить поиск по предоставленному URL, использованному в предыдущем запросе
(например, <tt class="docutils literal"><code>/contact/handle</code></tt>). Функция поиска профилировщика позволяет вам
загружать информацию профилировщика для любого предыдущего запроса.</p>
</div></div>
</div>
</div>


            </div>

            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        </div>
    </div>
</div></div>


  <script data-cfasync="false" src="..\..\..\cdn-cgi\scripts\5c5dd728\cloudflare-static\email-decode.min.js"></script></body>
</body></html>