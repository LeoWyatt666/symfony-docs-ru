<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Шаблоны &mdash; Symfony Framework Documentation  documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css">
    <link rel="stylesheet" href="..\_static\pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Symfony Framework Documentation  documentation" href="..\index.html">

<link rel="stylesheet" href="..\_assets\app.css?v=8d6d457a0820d7c245bddae16bfd4c75">
<script src="..\_assets\manifest.js?v=d41d8cd98f00b204e980"></script>
<script src="..\_assets\app.js?v=900984040c7cb4dca514"></script>
<style>
    .header__top .container {
        overflow: hidden;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .header__top .header__logo {
        float: left;
    }
    .header__top .header__support {
        float: right;
    }

    .highlight .k, .highlight .gh, .highlight .gp,
    .highlight .gu, .highlight .kc, .highlight .kd,
    .highlight .kn, .highlight .kr, .highlight .nc,
    .highlight .nd, .highlight .ni, .highlight .nl,
    .highlight .nn, .highlight .nt, .highlight .ow,
    .highlight .se { font-weight: normal; }

    .highlight .c, .highlight .cm, .highlight .c1,
    .highlight .sd, .highlight .si { font-style: normal; }

    .doc { background: none; }
    #demo-warning {
        border: 3px dashed #c00;
        padding: 10px;
        margin-bottom: 30px;
    }
    #demo-warning h4 { font-size: 1.7em;font-weight: bold; }
    #demo-warning p { margin-bottom: 0; }
</style>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107764519-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-107764519-1');
</script>

<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '250281335689441');
    fbq('track', 'PageView');
</script>
<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=250281335689441&ev=PageView&noscript=1">
<!-- End Facebook Pixel Code -->

<script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://vk.com/js/api/openapi.js?159",t.onload=function(){VK.Retargeting.Init("VK-RTRG-279161-8p6Jv"),VK.Retargeting.Hit()},document.head.appendChild(t)}();</script><img src="https://vk.com/rtrg?p=VK-RTRG-279161-8p6Jv" style="position:fixed; left:-999px;" alt="">


  </head>
  <body role="document">

<body class="best_practices doc_article doc">

<header>
    <section class="header__top">
        <div class="container">
            <div class="header__logo">
                <a href="..\..\..\index.html">
                    <img src="..\..\..\_images\header-logo.svg" alt="Symfony.com.ua logo">
                </a>
            </div>
            <div class="header__support hidden-xs">
                <a href="http://playtini.ua/" title="Компания Playtini">
                    <img height="69" src="..\..\..\_images\support.png" alt="Symfony is a SensioLabs product">
                </a>
            </div>
        </div>
    </section>
</header>

<div class="container"><div id="page-content">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
            <div id="sidebar-content"><div class="submenu">
    
    
    <ul class="list_submenu list-unstyled">
    
        <li class="first">
            <a href="..\index.html">Главная</a>
        </li>
    
        <li>
            <a href="..\components\index.html">Компоненты</a>
        </li>
    
        <li>
            <a href="index.html">Лучшие практики</a>
        </li>
    
        <li>
            <a href="..\quick_tour\index.html">Быстрый старт</a>
        </li>
    
        <li>
            <a href="..\reference\index.html">Справочник</a>
        </li>
    
        <li>
            <a href="..\genindex.html">Индекс</a>
        </li>
    
        <li>
            <a href="..\contributing\index.html">Участие</a>
        </li>
    
    </ul>
</div>

                <div class="toc"> 
    <h4>Содержание</h4>
    <div class="toc-content">
        <ul>
<li><a class="reference internal" href="#">Шаблоны</a><ul>
<li><a class="reference internal" href="#id2">Расположение шаблонов</a></li>
<li><a class="reference internal" href="#twig">Расширения Twig</a></li>
</ul>
</li>
</ul>

    </div>
</div>
                
            </div>

            <div class="ads m-b-30">
                <h2>Вакансии Playtini</h2>
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/php-dev">
                            Middle+ PHP Developer/Symfony
                        </a>
                    </h3>
                    <div><b>Playtini</b> активно поддерживает и развивает свои продукты, и профессионализм команды. И на данный момент в поиске специалиста на позицию <b>«Middle+ PHP Developer/Symfony»,</b> который улучшит качество внутренних сервисов компании и увеличит их количество.</div>
                </div>
                <!--
                <div class="ad m-b-15">
                    <h3>
                        <a href="http://playtini.ua/careers/symfony-senior">
                            Senior PHP Developer/Symfony
                        </a>
                    </h3>
                    <div>We are looking for strong, experienced <b>Senior PHP Developer/Symfony.</b> We expect him/her to participate in improving and extending a system built using microservice architecture by means of modern technologies.</div>
                </div>
                -->
                <div class="ad">
                    <h3><a href="http://playtini.ua/careers">
                        Остальные вакансии компании
                        <img src="..\..\..\_images\logo-playtini.png" alt="Playtini">
                    </a></h3>
                </div>
            </div>
        </div>

        <div id="main" class="col-sm-9">
            <ol class="breadcrumb">
                
                <li><a href="..\index.html">Документация</a></li>
                
                <li class="active">Шаблоны</li>
            </ol>

            <div class="page">
                
  <div class="section" id="id1">
<h1>Шаблоны<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Когда 20 лет назад был создан PHP, разработчики полюбили его простоту и то,
как он хорошо сливался с HTML и динамическим кодом. Но с прошествием времени,
были созданы другие языки шаблонов, вроде <a class="reference external" href="http://twig.sensiolabs.org/">Twig</a>, чтобы сделать шаблоны ещё
лучше.</p>
<div class="admonition-best-practice admonition best-practice">
<p class="first admonition-title">Best Practice</p>
<p class="last">Используйте формат шаблонов Twig для ваших шаблонов.</p>
</div></div>
<p>Просто говоря, PHP-шаблоны более подробные по сравнению с Twig, так как им не
хватает родной поддержки для большинства современных функций, необходимых
шаблонам, вроде наследования, автоматического экранирования, названных аргументов
для фильтров и функций.</p>
<p>Twig это формат шаблонов по умолчанию в Symfony, который имеет наибольшую
поддержку общества всех не-PHP шаблонизаторов (он используется в высококлассных
проектах вроде Drupal 8).</p>
<div class="section" id="id2">
<h2>Расположение шаблонов<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="admonition-best-practice admonition best-practice">
<p class="first admonition-title">Best Practice</p>
<p class="last">Храните шаблоны вашего приложения в каталоге <tt class="docutils literal"><code>templates/</code></tt> в корне вашего
проекта.</p>
</div></div>
<p>Централизация ваших шаблонов в одном месте упрощает работу ваших дизайнеров.
Кроме того, использование этого каталога упрощает нотацию, используемую при
ссылании на шаблоны (например, <tt class="docutils literal"><code>$this-&gt;render('admin/post/show.html.twig')</code></tt>
вместо <tt class="docutils literal"><code>$this-&gt;render('&#64;SomeTwigNamespace/Admin/Posts/show.html.twig')</code></tt>).</p>
<div class="admonition-best-practice admonition best-practice">
<p class="first admonition-title">Best Practice</p>
<p class="last">Используйте snake_case нижнего регистра для имён каталогов и шаблонов.</p>
</div></div>
<p>Эта рекомендация совпадает с лучшими практиками Twig, где имена переменных и
шаблонов также должны использовать snake_case нижнего регистра (например,
<tt class="docutils literal"><code>user_profile</code></tt> вместо <tt class="docutils literal"><code>userProfile</code></tt>, и <tt class="docutils literal"><code>edit_form.html.twig</code></tt> вместо
<tt class="docutils literal"><code>EditForm.html.twig</code></tt>).</p>
<div class="admonition-best-practice admonition best-practice">
<p class="first admonition-title">Best Practice</p>
<p class="last">Используйте нижнее подчёркивание с префиксом в именах шаблонов для
частичных шаблонов.</p>
</div></div>
<p>Вам часто будет хотеться использовать код шаблона повторно, используя функцию
<tt class="docutils literal"><code>include</code></tt>, чтобы избежать излишнего кода. Чтобы с лёгкостью определить эти
части в системе файлов, вам необходимо добавлять к частичным шаблонам и любым
другим щаблонам без тела HTML или тега <tt class="docutils literal"><code>extends</code></tt> префикс в виде одного нижнего
подчёркивания.</p>
</div>
<div class="section" id="twig">
<h2>Расширения Twig<a class="headerlink" href="#twig" title="Permalink to this headline">¶</a></h2>
<div class="admonition-best-practice admonition best-practice">
<p class="first admonition-title">Best Practice</p>
<p class="last">Определите ваши расширения Twig в каталоге <tt class="docutils literal"><code>src/Twig/</code></tt>. Ваше
приложение будет автоматически определять и конфигурировать их.</p>
</div></div>
<p>Нашему приложению нужен пользовательский фильтр Twig <tt class="docutils literal"><code>md2html</code></tt>, чтобы
мы могли трансформирвать содержимое Markdown каждого поста в HTML. Чтобы
сделать это, создайте новый класс <tt class="docutils literal"><code>Markdown</code></tt>, который будет использован
позже расширением Twig. Ему просто надо определять один метод для преобразования
содержания Markdown в HTML:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Utils</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Markdown</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">toHtml</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$text</span><span class="p">)</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">parser</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Далее, создайте новое расширение Twig и определите фильтр под
названием <tt class="docutils literal"><code>md2html</code></tt>, используя класс <tt class="docutils literal"><code>TwigFilter</code></tt>. Внедрите
новопределённый класс <tt class="docutils literal"><code>Markdown</code></tt> в конструктор расширения Twig:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">App\Twig</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Utils\Markdown</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Twig\Extension\AbstractExtension</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Twig\TwigFilter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">AppExtension</span> <span class="k">extends</span> <span class="nx">AbstractExtension</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="nv">$parser</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">Markdown</span> <span class="nv">$parser</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">parser</span> <span class="o">=</span> <span class="nv">$parser</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getFilters</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="k">new</span> <span class="nx">TwigFilter</span><span class="p">(</span><span class="s1">&#39;md2html&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;markdownToHtml&#39;</span><span class="p">],</span> <span class="p">[</span>
                <span class="s1">&#39;is_safe&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;html&#39;</span><span class="p">],</span>
                <span class="s1">&#39;pre_escape&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span>
            <span class="p">]),</span>
        <span class="p">];</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">markdownToHtml</span><span class="p">(</span><span class="nv">$content</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">parser</span><span class="o">-&gt;</span><span class="na">toHtml</span><span class="p">(</span><span class="nv">$content</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Вот и всё!</p>
<p>Если вы использоуете <a class="reference internal" href="..\service_container.html#service-container-services-load-example"><span>конфигурацию services.yaml по умолчанию</span></a>,
то вы закончили! Symfony автоматически узнает о вашем новом сервисе
и тегирует его для использования в качестве расширения Twig.</p>
<hr class="docutils">
<p>Далее: <a class="reference internal" href="forms.html"><em>Forms</em></a></p>
</div>
</div>


            

            

            <div id="license">
                <p>Эта документация является переводом <a href="http://symfony.com/doc/current/index.html">официальной документации Symfony</a> и предоставляется по свободной лицензии <a rel="license nofollow" href="https://creativecommons.org/licenses/by-sa/3.0/deed.ru">CC BY-SA 3.0</a>.</p>
            </div>
        
    



  </body>
</body></html>